{"version":3,"sources":["assets/images/face.png","assets/images/black-hole.png","assets/images/logo.png","commonComp/Loading/move.js","commonComp/Loading/index.js","common/common.js","common/constant.js","commonComp/logReg/loginCookie.js","common/eventBus.js","store/actions/index.js","components/AccountSetting/Portrait/react-cropper.js","components/AccountSetting/Portrait/index.js","common/api.js","commonComp/Background/index.js","commonComp/input/Email.js","commonComp/input/CodeBtn.js","commonComp/logReg/CheckPassword.js","commonComp/logReg/Register.js","commonComp/logReg/RestPsw.js","commonComp/logReg/Login.js","commonComp/BraftEditorMax/index.js","components/AddWebSite/AddWebSite.js","commonComp/Header/index.js","commonComp/Footer/index.js","commonComp/RightComp/RightNav.js","commonComp/RightComp/StatusNav.js","commonComp/RightComp/Top10Site.js","commonComp/CommentItem/index.js","commonComp/RightComp/NewestCommit.js","commonComp/RightComp/AccountNav.js","commonComp/RightComp/CollectRightNav.js","commonComp/RightComp/Notice.js","commonComp/RightComp/index.js","provider/cur-context.js","commonComp/Dialog.js","commonComp/SiteItem/Icons/DelIcon.js","commonComp/SiteItem/index.js","commonComp/Empty/index.js","components/Content/Content.js","components/ComContent/index.js","commonComp/CommentReplyCtn/index.js","commonComp/CommentCtn/index.js","components/SiteDetail/RecomdList.js","components/SiteDetail/index.js","components/MessageMng/index.js","components/CatalogMng/AddCatalog.js","components/CatalogMng/index.js","components/NoticeMng/Icons/DelIcon.js","components/NoticeMng/AddNotice.js","components/NoticeMng/index.js","components/Feedback/index.js","components/MyCollections.js","common/Routers.js","App.js","serviceWorker.js","store/reducer/siteMng.js","store/reducer/com.js","store/reducer/index.js","index.js"],"names":["module","exports","RENDERER","PARTICLE_COUNT","PARTICLE_RADIUS","MAX_ROTATION_ANGLE","Math","PI","TRANSLATION_COUNT","init","canvas","width","height","this","setParameters","STRATEGY","createParticles","setupFigure","reconstructMethod","bindEvent","drawFigure","strategy","context","getContext","center","x","y","rotationX","rotationY","strategyIndex","translationCount","theta","strategies","getStrategies","particles","i","push","PARTICLE","bind","changeAngle","window","addEventListener","event","clientX","clientY","length","setAxis","requestAnimationFrame","fillStyle","fillRect","axis","getAxis2D","beginPath","color","arc","fill","rotateX","rotateY","SCATTER_RADIUS","CONE_ASPECT_RATIO","RING_COUNT","createTorus","createSphere","createVase","random","cos","sin","phi","z","hue","round","cosTheta","sinTheta","sqrt","abs","prototype","SPRING","FRICTION","FOCUS_POSITION","COLOR","vx","vy","vz","translating","nextX","nextY","nextZ","angle","rotateZ","getAxis3D","scale","replace","Loading","createRef","state","show","open","timer","current","document","body","clientWidth","clientHeight","clearTimeout","setState","timeClose","a","b","setTimeout","floor","className","style","opacity","zIndex","ref","Component","div","createElement","appendChild","loading","ReactDOM","render","React","isLogOverdue","res","resultCode","LOG_OVERDUE_CODE","getCeil5","num","ceil","isLegal","str","isNaN","reg","test","checkMail","mail","checkUrl","url","trim","getStrChartLen","len","charCodeAt","checkPassword","psw","pswTipText","map","it","isok","reduce","pr","statusMap","statusArr","name","idx","id","nameErrorText","0","1","2","3","tip","pswChartLen","siteNameTip","MAX_SIT_NAME","siteNameErrorText","siteErrorText","siteImgErrorText","descControls","expires","Date","now","saveLoginCookie","token","is_async","cookie","save","path","removeLoginCookie","remove","EventBus","events","Object","emit","type","e","args","apply","addListener","eventType","fun","split","on","eventBus","updateComData","data","updateSiteMngData","getAuthorization","Authorization","load","updateSiteList","setUsername","setReplyNum","axios","interceptors","request","use","config","transShow","err","close","Promise","reject","response","message","error","resultMessage","editCatalog","params","post","headers","delCatalog","get","collectSite","getRecomdList","addView","getReportCommit","getSiteList","dispatch","then","result","getAllCatalog","getCatalogList","dispatchCatalogList","addSite","method","editSite","getNoticeList","delNotice","getCollectList","optionProps","unchangeableProps","slice","ReactCropper","options","keys","props","filter","propKey","indexOf","prevOptions","assign","cropper","Cropper","img","nextProps","src","reset","clear","aspectRatio","setAspectRatio","setData","dragMode","setDragMode","cropBoxData","setCropBoxData","canvasData","setCanvasData","moveTo","zoomTo","rotateTo","scaleX","scaleY","enable","disable","forEach","isDifferentVal","isUnchangeableProps","toString","Error","destroy","mode","getCroppedCanvas","getCropBoxData","getCanvasData","getImageData","getContainerData","rounded","getData","crop","offsetX","offsetY","move","ratio","zoom","degree","rotate","onlyColorChanged","alt","crossOrigin","undefined","defaultProps","Portrait","orgSrc","cropImage","onChange","history","defaultFace","catch","file","flag","size","M","files","preventDefault","dataTransfer","target","imgError","checkImg","reader","FileReader","onload","readAsDataURL","cropped","imgData","toDataURL","success","preview","guides","placement","content","trigger","htmlFor","onClick","display","accept","withRouter","connect","Backgound","Option","AutoComplete","Email","handleSearch","value","onSelect","domain","onBlur","onSearch","email","key","CodeBtn","mailClick","mailCount","mailCountInterval","startCountDown","clearInterval","setInterval","codeClick","ok","disabled","getPswErr","CheckPassword","pswok","pswChange","pswBlur","pswErrorTipShow","password","text","isIgnorPsw","pswTipContent","index","CheckOutlined","CloseOutlined","Password","getPswIsOk","placeholder","Register","visible","sendcode","resolve","isEmailError","handleOver","initData","handleOk","code","nameError","confirmLoading","_id","finally","isCodeError","handleCancel","checkName","nameChange","isNameFirst","nameBlur","isPswFirst","codeChange","isCodeFirst","emailChange","isEmailFirst","emailBlur","prevState","title","maskClosable","footer","onCancel","RestPsw","handleOpen","isNameError","isPswError","onOk","Login","refreshCode","pathname","toLowerCase","user_name","check_reply_num","pht","pathType","codeurl","BraftEditorMax","handleChange","val","maxLen","toText","ContentUtils","insertText","Select","AddWebSite","desc","insertHTML","handleSite","status","isEdit","imgfiles","catalog","tags","formData","FormData","append","toHTML","parseInt","handleSure","handleDraft","urlChange","isUrlFirst","isUrlError","urlBlur","fileChange","isImgFirst","onerror","getBase64","previewImage","fileInput","setAttribute","descCheck","isEmpty","handleDescChange","descError","isDescFirst","descBlur","catalogChange","isCatalogFirst","tagChange","isTagFirst","BraftEditor","createEditorState","catalogList","bodyStyle","padding","controls","defaultImg","defaultActiveFirstOption","n","addWebSite","div2","editWebSite","Header","toHome","logout","addNewSite","pageIndex","pageSize","isTotal","is_edit","location","isSystem","routerClick","getTop10SiteList","menu","Item","to","AccountNavRoute","logo","Search","enterButton","overlay","com","siteMng","orderBy","Footer","year","getFullYear","RightNav","catalogListSite","match","search","selectedKeys","total","StatusNav","c","updateDate","Top10Site","top10List","Comment","children","notOnlyShow","user_face","to_user_name","create_time","site_id","contentDiv","date","xs","getTime","xm","xh","xd","dateForNow","NewestCommit","commitList","CommentItem","AccountNav","CollectRightNav","list","console","log","Notice","RightComp","isAccount","isCollect","CurContext","createContext","Dialog","showLoading","hideLoading","okText","cancelText","Box","CloseIcon","showModel","tPageindex","siteTotal","listStatus","isdown","txt","maxPages","VerticalAlignBottomOutlined","siteList","SiteItem","rateChange","isRating","rate","tval","isRated","linkTo","editClick","ctx","emitCollectClick","collectClick","isCollecting","isCollected","statusCode","catalogMap","onlyShow","rateval","ttags","create_user_name","views","commit_total","isNormal","EditOutlined","marginRight","DelIcon","spinning","HeartFilled","allowHalf","dangerouslySetInnerHTML","__html","href","rel","contextType","Empty","Content","onShowSizeChange","showQuickJumper","pageSizeOptions","PureComponent","ComContent","getsys","getListAndSet","sPageIndex","sPageSize","tagName","tag_name","prevProps","prevParams","curParams","Provider","CommentReplyCtn","commitContent","commitData","commit_id","replyList","replyToCommit","user_id","isShowReply","to_user_id","replyToUser","item","report","replyTotal","is_to_commit","collspaeClick","isCheckReply","reply_arr","reply_total","totalStr","hideOnSinglePage","CommentCtn","scrollTo","siteId","RecomdList","prevCatalog","SiteDetail","getSite$Add","t_id","siteData","join","marginTop","MessageMng","getReplyMeList","isFeedback","linkurl","site_name","AddCatalog","showModal","EditModal","handleCancle","DelModal","SortableItem","sortable","SortModal","onSortItems","items","handleShow","sortId","JSON","stringify","CatalogMng","editvisible","editloading","currentData","delvisible","delloading","handleEditShow","handleEditCancle","editNameChange","handleEditOk","handleDelShow","handleDelCancle","handleDelOk","itemLayout","dataSource","renderItem","ToolOutlined","delNameChange","checked","checkChange","that","defaultChecked","isToCommit","AddNotice","contentChange","handleEditCancel","Feedback","MyCollections","exact","Routers","App","isShow","updateComDate","Boolean","hostname","initState","middlewares","createSagaMiddleware","thunkMiddleware","store","createStore","combineReducers","applyMiddleware","locale","zhCN","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.535e72bc.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAAtCAYAAAAUX8MIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NjBEQkM5QUFBMjcxMUVBQjY2NUE3NDZDNEFERkRDMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NjBEQkM5QkFBMjcxMUVBQjY2NUE3NDZDNEFERkRDMyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MERCQzk4QUEyNzExRUFCNjY1QTc0NkM0QURGREMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk2MERCQzk5QUEyNzExRUFCNjY1QTc0NkM0QURGREMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+z3n3tQAAAddJREFUeNrsWUtOAkEQ7en0hkT8sHK8wrg10WO48hheRY7BipVnwAt4A0BXKgFxQ2irzVt0RmaYMunpGuxKXiDTleG96aKq4WXnD1Z5kQEuLPArXu5VtMiHP/zKvGp5G7xqQo8wIJzg2oLwTlgTtkpO+AIa8TbABeGacIP3LmaEJ8LEbR5ho2RFY94uMSfcEu4Il4QjJC9xA7c+JkwF7ajm8DZ4Ci7xyitfF8e45uKV8EhYCRHZ4/DWSC5KiX5JFHgyZ4JKdcDhrVHL/Zob9pFz6nWwmJGhyTTmrf/wAZ0LjW60rMlxa3PCR9XcjDBCFhzeGu32uWJEbLDm2vGbEJEKc7Axb4PkEUqx8FrxCokjJH8JqsA1h7fBlo4xOP2hOi8NVUmnni2Ht8HWTjEHJ+iiCt9Bicc6vyQb8Tbek/nEwmzfAV3Yju7lbXZ0LunCqjqurRshBx+ZtfbgRf6LnUwik8gkMolMIpPIJDKJTCKTyCRSUJhQN86Hu3/aqQjWoGmxYqJZg6alaolqDZoWdjC6NRhaJMtiU4GswdDdlWWxdXGEsC02Fcg1kzYnOyeSbbGpQH9sh95JlsUWSmTo7sqy2Lo6J1kWW5dPPNGtwbbOrlGtwW8BBgDBpseMpLE2WAAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/black-hole.f198a369.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAAtCAYAAADSmlexAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRDhGRThBMkFBMjYxMUVBQUFCREJEMThBMzEyREMwMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRDhGRThBM0FBMjYxMUVBQUFCREJEMThBMzEyREMwMyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZEOEZFOEEwQUEyNjExRUFBQUJEQkQxOEEzMTJEQzAzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZEOEZFOEExQUEyNjExRUFBQUJEQkQxOEEzMTJEQzAzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+PywuTgAAAgtJREFUeNrsm09OwkAUxttmNiQiykq8Am5N9BiuPIZXkWOwYuUZ8ALegKIr0Yi4IYxvyNekqS2mA8y8l7wv+SK2JP745t+reaQXjzapUQo7WfiPXh+SaBqMtnyWE7ep/J6RO+Q+uYdrn+QFeUXeJHxkuXGbyutL8g35Fq+dcvIzeeoGlbxOeIkNtymN7IB8R74nX5FPcO8LoO7+hDxjNENZcRdhdjCqDui6MmNPcc3pjfxEXjIJkxV3hp99QA1r9tEi9CFG+pzREmfFneH062Gv6e54bxfvOSudmDHFjjvb44NI1NHDtCgjcmzaTXL35uSPpvotQmnEiruYmQuUES8NJcQa91yZ8c4kTHbcxaa9AtQYS2FYKjGWABoD6ofRsmXFXYS5wVKYoMAtF7/zSvHL6SmIFbepLIkZ6rEpTr8Eew3Hx0l23KZmpL8BkP/3DwNmMzQ6t9lxUnIPkB13lqgOV8RaazUFnZkapoap0jA1TA1TpWFqmBqmhqnSMDVMDVOlYR5N5th/YDCqvcyyZXFfVhNhJUhpWWzNagKvAikti61Z3aw2AUdZSsuiN2uoMCW1LHqzhjrNJbUs+rCmocKU1LLoy5q605xrnSmpZXEbpvv2R4gwJbUs+rJuaGbaUDNTUsuiD6sNeZpLaln0Zg0VpqSWRW/WkE9AkloWvVhNhFGX0rLYmvVXgAEAxbIbWX/ssgoAAAAASUVORK5CYII=\"","\r\nvar RENDERER = {\r\n    PARTICLE_COUNT: 1000,\r\n    PARTICLE_RADIUS: 1,\r\n    MAX_ROTATION_ANGLE: Math.PI / 100,\r\n    TRANSLATION_COUNT: 500,\r\n\r\n    init: function (canvas, width, height) {\r\n        this.setParameters(STRATEGY, canvas, width, height);\r\n        this.createParticles();\r\n        this.setupFigure();\r\n        this.reconstructMethod();\r\n        this.bindEvent();\r\n        this.drawFigure();\r\n    },\r\n    setParameters: function (strategy, canvas, width, height) {\r\n\r\n        this.width = width\r\n        this.height = height\r\n        \r\n        canvas.width = this.width \r\n        canvas.height = this.height\r\n        this.context = canvas.getContext('2d');\r\n\r\n        this.center = { x: this.width / 2, y: this.height / 2 };\r\n\r\n        this.rotationX = this.MAX_ROTATION_ANGLE;\r\n        this.rotationY = this.MAX_ROTATION_ANGLE;\r\n        this.strategyIndex = 0;\r\n        this.translationCount = 0;\r\n        this.theta = 0;\r\n\r\n        this.strategies = strategy.getStrategies();\r\n        this.particles = [];\r\n    },\r\n    createParticles: function () {\r\n        for (var i = 0; i < this.PARTICLE_COUNT; i++) {\r\n            this.particles.push(new PARTICLE(this.center));\r\n        }\r\n    },\r\n    reconstructMethod: function () {\r\n        this.setupFigure = this.setupFigure.bind(this);\r\n        this.drawFigure = this.drawFigure.bind(this);\r\n        this.changeAngle = this.changeAngle.bind(this);\r\n    },\r\n    bindEvent: function () {\r\n        window.addEventListener('click', this.setupFigure)\r\n        window.addEventListener('mousemove', this.changeAngle)\r\n        // this.$container.on('click', this.setupFigure);\r\n        // this.$container.on('mousemove', this.changeAngle);\r\n    },\r\n    changeAngle: function (event) {\r\n        var x = event.clientX,\r\n            y = event.clientY;\r\n\r\n        this.rotationX = (this.center.y - y) / this.center.y * this.MAX_ROTATION_ANGLE;\r\n        this.rotationY = (this.center.x - x) / this.center.x * this.MAX_ROTATION_ANGLE;\r\n    },\r\n    setupFigure: function () {\r\n        for (var i = 0, length = this.particles.length; i < length; i++) {\r\n            this.particles[i].setAxis(this.strategies[this.strategyIndex]());\r\n        }\r\n        if (++this.strategyIndex === this.strategies.length) {\r\n            this.strategyIndex = 0;\r\n        }\r\n        this.translationCount = 0;\r\n    },\r\n    drawFigure: function () {\r\n        // console.log('s')\r\n        requestAnimationFrame(this.drawFigure);\r\n\r\n        this.context.fillStyle = 'rgba(0, 0, 0, 0.2)';\r\n        this.context.fillRect(0, 0, this.width, this.height);\r\n\r\n        for (let i = 0, length = this.particles.length; i < length; i++) {\r\n            let axis = this.particles[i].getAxis2D(this.theta);\r\n\r\n            this.context.beginPath();\r\n            this.context.fillStyle = axis.color;\r\n            this.context.arc(axis.x, axis.y, this.PARTICLE_RADIUS, 0, Math.PI * 2, false);\r\n            this.context.fill();\r\n        }\r\n        this.theta++;\r\n        this.theta %= 360;\r\n\r\n        for (let i = 0, length = this.particles.length; i < length; i++) {\r\n            this.particles[i].rotateX(this.rotationX);\r\n            this.particles[i].rotateY(this.rotationY);\r\n        }\r\n        this.translationCount++;\r\n        this.translationCount %= this.TRANSLATION_COUNT;\r\n\r\n        if (this.translationCount === 0) {\r\n            this.setupFigure();\r\n        }\r\n    }\r\n};\r\nvar STRATEGY = {\r\n    SCATTER_RADIUS: 150,\r\n    CONE_ASPECT_RATIO: 1.5,\r\n    RING_COUNT: 5,\r\n\r\n    getStrategies: function () {\r\n        return [this.createTorus.bind(this), this.createSphere.bind(this), this.createVase.bind(this)]\r\n        /*var strategies = [];\r\n\r\n        for (var i in this) {\r\n            if (this[i] == arguments.callee || typeof this[i] != 'function') {\r\n                continue;\r\n            }\r\n            strategies.push(this[i].bind(this));\r\n        }\r\n        return strategies;*/\r\n    },\r\n    createTorus: function () {\r\n        var theta = Math.random() * Math.PI * 2,\r\n            x = this.SCATTER_RADIUS + this.SCATTER_RADIUS / 6 * Math.cos(theta),\r\n            y = this.SCATTER_RADIUS / 6 * Math.sin(theta),\r\n            phi = Math.random() * Math.PI * 2;\r\n\r\n        return {\r\n            x: x * Math.cos(phi),\r\n            y: y,\r\n            z: x * Math.sin(phi),\r\n            hue: Math.round(phi / Math.PI * 30)\r\n        };\r\n    },\r\n    createSphere: function () {\r\n        var cosTheta = Math.random() * 2 - 1,\r\n            sinTheta = Math.sqrt(1 - cosTheta * cosTheta),\r\n            phi = Math.random() * 2 * Math.PI;\r\n\r\n        return {\r\n            x: this.SCATTER_RADIUS * sinTheta * Math.cos(phi),\r\n            y: this.SCATTER_RADIUS * sinTheta * Math.sin(phi),\r\n            z: this.SCATTER_RADIUS * cosTheta,\r\n            hue: Math.round(phi / Math.PI * 30)\r\n        };\r\n    },\r\n    \r\n    /*createCone: function () {\r\n        var status = Math.random() > 1 / 3,\r\n            x,\r\n            y,\r\n            phi = Math.random() * Math.PI * 2,\r\n            rate = Math.tan(30 / 180 * Math.PI) / this.CONE_ASPECT_RATIO;\r\n\r\n        if (status) {\r\n            y = this.SCATTER_RADIUS * (1 - Math.random() * 2);\r\n            x = (this.SCATTER_RADIUS - y) * rate;\r\n        } else {\r\n            y = -this.SCATTER_RADIUS;\r\n            x = this.SCATTER_RADIUS * 2 * rate * Math.random();\r\n        }\r\n        return {\r\n            x: x * Math.cos(phi),\r\n            y: y,\r\n            z: x * Math.sin(phi),\r\n            hue: Math.round(phi / Math.PI * 30)\r\n        };\r\n    },*/\r\n    createVase: function () {\r\n        var theta = Math.random() * Math.PI,\r\n            x = Math.abs(this.SCATTER_RADIUS * Math.cos(theta) / 2) + this.SCATTER_RADIUS / 8,\r\n            y = this.SCATTER_RADIUS * Math.cos(theta) * 1.2,\r\n            phi = Math.random() * Math.PI * 2;\r\n\r\n        return {\r\n            x: x * Math.cos(phi),\r\n            y: y,\r\n            z: x * Math.sin(phi),\r\n            hue: Math.round(phi / Math.PI * 30)\r\n        };\r\n    }\r\n};\r\nvar PARTICLE = function (center) {\r\n    this.center = center;\r\n    this.init();\r\n};\r\nPARTICLE.prototype = {\r\n    SPRING: 0.01,\r\n    FRICTION: 0.9,\r\n    FOCUS_POSITION: 300,\r\n    COLOR: 'hsl(%hue, 100%, 70%)',\r\n\r\n    init: function () {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.vz = 0;\r\n        this.color = '';\r\n    },\r\n    setAxis: function (axis) {\r\n        this.translating = true;\r\n        this.nextX = axis.x;\r\n        this.nextY = axis.y;\r\n        this.nextZ = axis.z;\r\n        this.hue = axis.hue;\r\n    },\r\n    rotateX: function (angle) {\r\n        var sin = Math.sin(angle),\r\n            cos = Math.cos(angle),\r\n            nextY = this.nextY * cos - this.nextZ * sin,\r\n            nextZ = this.nextZ * cos + this.nextY * sin,\r\n            y = this.y * cos - this.z * sin,\r\n            z = this.z * cos + this.y * sin;\r\n\r\n        this.nextY = nextY;\r\n        this.nextZ = nextZ;\r\n        this.y = y;\r\n        this.z = z;\r\n    },\r\n    rotateY: function (angle) {\r\n        var sin = Math.sin(angle),\r\n            cos = Math.cos(angle),\r\n            nextX = this.nextX * cos - this.nextZ * sin,\r\n            nextZ = this.nextZ * cos + this.nextX * sin,\r\n            x = this.x * cos - this.z * sin,\r\n            z = this.z * cos + this.x * sin;\r\n\r\n        this.nextX = nextX;\r\n        this.nextZ = nextZ;\r\n        this.x = x;\r\n        this.z = z;\r\n    },\r\n    rotateZ: function (angle) {\r\n        var sin = Math.sin(angle),\r\n            cos = Math.cos(angle),\r\n            nextX = this.nextX * cos - this.nextY * sin,\r\n            nextY = this.nextY * cos + this.nextX * sin,\r\n            x = this.x * cos - this.y * sin,\r\n            y = this.y * cos + this.x * sin;\r\n\r\n        this.nextX = nextX;\r\n        this.nextY = nextY;\r\n        this.x = x;\r\n        this.y = y;\r\n    },\r\n    getAxis3D: function () {\r\n        this.vx += (this.nextX - this.x) * this.SPRING;\r\n        this.vy += (this.nextY - this.y) * this.SPRING;\r\n        this.vz += (this.nextZ - this.z) * this.SPRING;\r\n\r\n        this.vx *= this.FRICTION;\r\n        this.vy *= this.FRICTION;\r\n        this.vz *= this.FRICTION;\r\n\r\n        this.x += this.vx;\r\n        this.y += this.vy;\r\n        this.z += this.vz;\r\n\r\n        return { x: this.x, y: this.y, z: this.z };\r\n    },\r\n    getAxis2D: function (theta) {\r\n        var axis = this.getAxis3D(),\r\n            scale = this.FOCUS_POSITION / (this.FOCUS_POSITION + axis.z);\r\n\r\n        return { x: this.center.x + axis.x * scale, y: this.center.y - axis.y * scale, color: this.COLOR.replace('%hue', this.hue + theta) };\r\n    }\r\n};\r\n\r\n\r\nexport default RENDERER;","import React, { Component, createRef } from 'react';\r\nimport './Loading.css'\r\nimport RENDERER from './move'\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Loading extends Component {\r\n\tcanvas = createRef();\r\n\tstate = {\r\n\t\tshow: false,\r\n\t\topen: false,\r\n\t}\r\n\ttimer = null;\r\n\tcomponentDidMount () {\r\n\t\tRENDERER.init(this.canvas.current, document.body.clientWidth, document.body.clientHeight);\r\n\t}\r\n\ttransShow () {\r\n\t\tclearTimeout(this.timer)\r\n\t\tthis.setState({\r\n\t\t\tshow: true,\r\n\t\t})\r\n\t\tthis.timeClose()\r\n\t}\r\n\topen () {\r\n\t\tclearTimeout(this.timer)\r\n\t\tthis.setState({\r\n\t\t\topen: true,\r\n\t\t\tshow: true,\r\n\t\t})\r\n\t}\r\n\tclose () {\r\n\t\tthis.setState({\r\n\t\t\topen: false,\r\n\t\t})\r\n\t\tthis.timeClose()\r\n\t}\r\n\ttimeClose () {\r\n\t\tthis.timer = setTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshow: false,\r\n\t\t\t})\r\n\t\t}, getRandSeconds(5, 8))\r\n\t}\r\n\r\n\tshow () {\r\n\t\tthis.setState({\r\n\t\t\tshow: true,\r\n\t\t})\r\n\t}\r\n\r\n\thide () {\r\n\t\tthis.setState({\r\n\t\t\tshow: false,\r\n\t\t})\r\n\t}\r\n\r\n\trender () {\r\n\r\n\t\tconst { open, show } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={\"canvas-back \" + (show ? 'op1' : 'op0')} style={{\r\n\t\t\t\topacity: (open || show) ? 1 : 0,\r\n\t\t\t\tzIndex: open ? 998 : 1,\r\n\t\t\t}} >\r\n    \t\t<canvas ref={this.canvas} ></canvas>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet div = document.createElement('div');\r\ndocument.body.appendChild(div);\r\n \r\nlet loading = ReactDOM.render(React.createElement(\r\n  Loading,\r\n), div);\r\n\r\n/*function showOne () {\r\n\tloading.show()\r\n\tsetTimeout(() => {\r\n\t\tloading.hide()\r\n\t\tstart()\r\n\t}, getRandSeconds(10, 20))\r\n}\r\n\r\n// setInterval()\r\nfunction start () {\r\n\tsetTimeout(function () {\r\n\t\tshowOne();\r\n\t}, getRandSeconds(30, 50))\r\n}\r\nshowOne();*/\r\n\r\nfunction getRandSeconds (a, b) {\r\n\treturn Math.floor(Math.random() * 1000 * (b - a)) + a * 1000\r\n}\r\n\r\nexport default loading","import React from 'react';\r\nimport { statusMap, pswTipText, LOG_OVERDUE_CODE } from './constant';\r\n\r\n/*export const replaceStrTob = (str='', key='') => {\r\n\tif (!str || !key) {\r\n\t\treturn str;\r\n\t}\r\n\treturn str.replace(new RegExp(key, 'igm'), `<b>${key}</b>`)\r\n}*/\r\n\r\nexport const isLogOverdue = res => res.resultCode === LOG_OVERDUE_CODE;\r\n\r\nexport const getStatus = statusCode => {\r\n\treturn statusCode !== 1 && <b style={{color: statusCode === 0 ? 'red' : 'orange'}}>({statusMap[statusCode]})</b>\r\n}\r\n\r\n// export const getRound5 = (num=0) => Math.round(num * 2) / 2\r\nexport const getCeil5 = (num=0) => Math.ceil(num * 2) / 2\r\n\r\n\r\nexport const isLegal = (str='') => {\r\n\tif (typeof str === 'number') {\r\n\t\treturn !isNaN(str);\r\n\t}\r\n\t/*if (str === '' || str === null) {\r\n\t\treturn false;\r\n\t}*/\r\n\tconst reg = /[\\s\\@\\#\\$\\%\\^\\&\\*\\{\\}\\:\\.\\\"\\'\\<\\>\\?\\|]/ig\r\n\treturn !reg.test(str)\r\n}\r\n\r\nexport const checkMail = (mail='') => {\r\n\tif (mail === '' || mail === null) {\r\n\t\treturn false;\r\n\t}\r\n\tconst reg = /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/;\r\n\treturn reg.test(mail)\r\n}\r\nexport const checkUrl = (url='') => {\r\n\tif (url === '' || url === null) {\r\n\t\treturn false;\r\n\t}\r\n\tconst reg = /(https?|ftp|file):\\/\\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/\r\n\treturn reg.test(url)\r\n}\r\nexport const trim = (str='') => str.replace(/^\\s+|\\s+$/gm,'')\r\nexport const getBase64 = (file) => {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    if (!file) {\r\n\t\treturn resolve(null)\r\n    }\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\n\r\nexport const pathType = (path='') => {\r\n\tif (path.slice(0, 7) === '/system') {\r\n\t\treturn 'system'\r\n\t} else if (path.slice(0, 11) === '/sitedetail') {\r\n\t\treturn 'sitedetail'\r\n\t} else if (path == '/') {\r\n\t\treturn 'home'\r\n\t}\r\n}\r\n// params: match\r\nexport const isSystemPage = ({path=''}) => path.slice(0, 7) === '/system'\r\n\r\nexport const getStrChartLen = (str='') => {  \r\n  let len = 0;  \r\n  for (var i=0; i<str.length; i++) {  \r\n    if (str.charCodeAt(i)>127 || str.charCodeAt(i)===94) {  \r\n       len += 2;  \r\n     } else {  \r\n       len ++;  \r\n     }  \r\n   }  \r\n  return len;  \r\n}\r\n\r\nexport const checkPassword = (psw='') => {\r\n\treturn pswTipText.map(it => it.isok(psw)).reduce((a, pr) => a && pr, true)\r\n}\r\n\r\n// 距离现在多长时间\r\nexport const dateForNow = date => {\r\n\tdate = new Date(date);\r\n\t// 相差的秒数\r\n\tconst xs = (new Date().getTime() - date.getTime()) / 1000\r\n\tconst xm = xs / 60 \r\n\tconst xh = xm / 60\r\n\tconst xd = xh / 24;\r\n\tif (xd >= 1) {\r\n\t\treturn Math.floor(xd) + '天前'\r\n\t} else if (xh >= 1) {\r\n\t\treturn Math.floor(xh) + '小时前'\r\n\t} else if (xm >= 1) {\r\n\t\treturn Math.floor(xm) + '分钟前'\r\n\t} else if (xs >= 10) {\r\n\t\treturn Math.ceil(xs) + '秒前'\r\n\t} else {\r\n\t\treturn '刚刚';\r\n\t}\r\n}\r\n\r\n\r\n/*export const callback = () => {\r\n\tconst loginCallback = () => {};\r\n\tconst regCallback = () => {}\r\n\treturn {\r\n\t\tsetLoginCallback (cb) {\r\n\t\t\tloginCallback = cb;\r\n\t\t},\r\n\t\tgetLoginCallback () {\r\n\t\t\treturn loginCallback;\r\n\t\t},\r\n\t\tsetRegCallback (cb) {\r\n\t\t\tregCallback = cb;\r\n\t\t},\r\n\t\tgetRegCallback () {\r\n\t\t\treturn regCallback;\r\n\t\t},\r\n\r\n\t}\r\n}*/","import { getStrChartLen } from './common'\r\n\r\n// 反馈评论-相对于网站的id\r\nexport const FEEDBACK_SITEID = 0;\r\nexport const LOG_OVERDUE_CODE = 233;\r\n// 发送邮件倒计时\r\nexport const COUNT_DOWN = 60;\r\n// 状态码\r\nexport const DELETE_CODE = 0;\r\nexport const NORMAL_CODE = 1;\r\nexport const DRAFT_CODE = 2;\r\nexport const REVIEW_CODE = 3;\t// 待审核\r\nconst statusMap = []\r\nstatusMap[DELETE_CODE] = '下架'\r\nstatusMap[NORMAL_CODE] = '正常'\r\nstatusMap[DRAFT_CODE] = '草稿'\r\nstatusMap[REVIEW_CODE] = '待审核'\r\n\r\nexport const statusArr = statusMap.map((name, idx) => ({id: idx, name}))\r\n\r\nexport {statusMap};\r\nexport const EXPIRES_TIME = 120 * 60 * 1000\r\n\r\nexport const MAX_NAME_CHART = 14;\t// 用户名最大字符数\r\n// export const MIN_NAME_CHART = 4;\t// 用户名最大字符数\r\n\r\nexport const nameTipText = '设置后不可更改，中英文均可，最长14个英文或7个汉字，不包含特殊字符'\r\nexport const nameErrorText = {\r\n\t0: '用户名最长14个英文或7个汉字',\r\n\t1: '用户名不可包含特殊字符',\r\n\t2: '用户名不能为空',\r\n\t3: '该用户名已被注册',\r\n}\r\nexport const pswTipText = [\r\n\t{\r\n\t\ttip: '长度为8~14个字符',\r\n\t\tisok: (psw='') => {\r\n\t\t\tconst pswChartLen = getStrChartLen(psw);\r\n\t\t\treturn pswChartLen <= 14 && pswChartLen >= 8\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\ttip: '字母/数字以及标点符号至少包含2种',\r\n\t\tisok: (psw='') => /(?=.*[a-zA-Z0-9])(?=.*[^a-zA-Z0-9]).{2,14}/.test(psw),\r\n\t},\r\n\t{\r\n\t\ttip: '不允许有空格、中文',\r\n\t\tisok: (psw='') => psw.length > 0 && !(/[\\s\\u4e00-\\u9fa5]/.test(psw)),\r\n\t}\r\n]\r\n\r\n// 网站\r\nexport const MAX_SIT_NAME = 40;\r\nexport const siteNameTip = `最长${MAX_SIT_NAME}个英文或${MAX_SIT_NAME/2}个汉字，不包含特殊字符`\r\nexport const siteNameErrorText = {\r\n\t0: `名称最长${MAX_SIT_NAME}个英文或${MAX_SIT_NAME/2}个汉字`,\r\n\t1: '名称不可包含特殊字符',\r\n\t2: '名称不能为空',\r\n}\r\n\r\nexport const MAX_SIT_DESC = 400;\r\nexport const siteDescTip = `最多${MAX_SIT_DESC}个文字`\r\nexport const siteErrorText = {\r\n\t0: `不可超过${MAX_SIT_DESC}个文字`,\r\n\t1: '描述不能为空'\r\n}\r\n\r\n// 尺寸不小于200 x 200，\r\nexport const siteImgTip = `点击图片进行添加，大小不超过1M`\r\nconst M = 1024 * 1024\r\nconst MAX_IMG_M = 1;\r\nexport const MAX_IMG_SIZE = M * MAX_IMG_M;\r\nexport const siteImgErrorText = {\r\n\t0: `图片格式不对`,\r\n\t1: `图片大小不符合要求`,\r\n\t// 2: `图片尺寸不符合要求`,\r\n\t3: '请选择图片',\r\n}\r\n/*const controls = [\r\n  'undo', 'redo', 'separator',\r\n  'font-size', 'line-height', 'letter-spacing', 'separator',\r\n  // 'text-color', 'bold', 'italic', 'underline', 'strike-through', 'separator',\r\n  // 'superscript', 'subscript', 'remove-styles', 'emoji', 'separator', 'text-indent', 'text-align', 'separator',\r\n  // 'headings', 'list-ul', 'list-ol', 'blockquote', 'code', 'separator',\r\n  // 'link', 'separator', 'hr', 'separator',\r\n  // 'media', 'separator',\r\n  // 'clear'\r\n]*/\r\n\r\nexport const descControls = ['text-color', 'bold', 'italic', 'underline', 'emoji']\r\n\r\nexport const MAX_COMMIT_LEN = 400;\r\nexport const faceImgTip = `大小不超过1M`\r\n","import cookie from 'react-cookies'\r\nimport { EXPIRES_TIME } from '@/common/constant'\r\n\r\nconst expires = new Date(Date.now() + EXPIRES_TIME);\r\n\r\nexport const saveLoginCookie = (id, token, name, is_async) => {\r\n\tcookie.save('user_id', id, {path: '/', expires })\r\n\tcookie.save('user_token', token, {path: '/', expires})\r\n\tcookie.save('user_name', name, {path: '/', expires})\r\n\t// cookie.save('is_async', is_async, {path: '/', expires})\r\n}\r\n\r\nexport const removeLoginCookie = () => {\r\n\tcookie.remove('user_id', {path: '/'})\r\n    cookie.remove('user_token', {path: '/'})\r\n    cookie.remove('user_name', {path: '/'})\r\n    // cookie.remove('is_async', {path: '/'})\r\n}","class EventBus {\r\n  constructor() {\r\n    this.events = this.events || new Object(); \r\n  }\r\n}\r\nEventBus.prototype.emit = function(type, ...args) { \r\n  let e = this.events[type] || []\r\n  for (let i = 0; i < e.length; i++) {   \r\n    e[i].apply(this, args);    \r\n  }  \r\n};\r\n\r\nEventBus.prototype.addListener = function(eventType, fun) { \r\n  const [type, id] = eventType.split('#')\r\n  \r\n  if (id) {\r\n    this.events[eventType] = [fun];\r\n  } else {\r\n    this.events[type] = this.events[type] || []; \r\n    this.events[type].push(fun);\r\n  }\r\n};\r\nEventBus.prototype.on = EventBus.prototype.addListener;\r\nconst eventBus = new EventBus();\r\n\r\nexport default eventBus;\r\n","import axios from 'axios';\r\nimport url from '@/common/api'\r\nimport cookie from 'react-cookies';\r\nimport { message } from 'antd';\r\nimport loading from '@/commonComp/Loading'\r\nimport { LOG_OVERDUE_CODE } from '@/common/constant'\r\nimport { removeLoginCookie } from '@/commonComp/logReg/loginCookie'\r\nimport eventBus from '@/common/eventBus'\r\n\r\nexport const UPDATE_DATA = 'UPDATE_DATA';    // 这个只是修改siteMng里的数据 ，别他妈搞忘了\r\nexport const UPDATE_COM_DATA = 'UPDATE_COM_DATA';    // 这个修改公共的数据\r\nexport const UPDATE_LIST = 'UPDATE_LIST';\r\nexport const UPDATE_CATALOG_LIST = 'UPDATE_CATALOG_LIST';\r\nexport const UPDATE_CATALOG_LIST_SITE = 'UPDATE_CATALOG_LIST_SITE';\r\nexport const SET_USER_NAME = 'SET_USER_NAME';\r\nexport const UPDATE_TOP10_LIST = 'UPDATE_TOP10_LIST';\r\nexport const SET_REPLY_NUM = 'SET_REPLY_NUM';\r\nexport const SET_CATALOG = 'SET_CATALOG';\r\n\r\naxios.interceptors.request.use(\r\n  config => {\r\n    loading.transShow();\r\n    return config\r\n  },\r\n  err => {\r\n    loading.close();\r\n    return Promise.reject(err)\r\n  }\r\n)\r\n\r\n// 添加响应拦截器\r\naxios.interceptors.response.use(function (response) {\r\n  // 对响应数据做点什么\r\n  // console.log(response)\r\n  const { data } = response\r\n  const { resultCode } = data\r\n  if (resultCode && (resultCode !== 200)) {\r\n    message.error(data.resultMessage)\r\n    if (resultCode === LOG_OVERDUE_CODE) {\r\n      // removeLoginCookie()\r\n      eventBus.emit('logout#clear', data)\r\n    }\r\n    loading.close()\r\n    return Promise.reject(data);\r\n  }\r\n  return data;\r\n}, function (err) {\r\n  // 对响应错误做点什么\r\n  loading.close()\r\n  message.error('系统错误！')\r\n  return Promise.reject(err);\r\n});\r\n\r\nexport function updateComData (data) {\r\n  return {\r\n    type: UPDATE_COM_DATA, \r\n    data\r\n  }\r\n}\r\nexport function updateSiteMngData (data) {\r\n  return {\r\n    type: UPDATE_DATA, \r\n    data\r\n  }\r\n}\r\nexport function setCatalog (data) {\r\n  return {\r\n    type: SET_CATALOG, \r\n    data\r\n  }\r\n}\r\n\r\nfunction getAuthorization () {\r\n  return {\r\n    Authorization: cookie.load('user_token') || ''\r\n  }\r\n}\r\n\r\nfunction updateSiteList (data) {\r\n  return {\r\n    type: UPDATE_LIST, \r\n    data\r\n  }\r\n}\r\nfunction updateCatalogList (data) {\r\n  return {\r\n    type: UPDATE_CATALOG_LIST, \r\n    data\r\n  }\r\n}\r\nfunction updateCatalogListSite (data) {\r\n  return {\r\n    type: UPDATE_CATALOG_LIST_SITE, \r\n    data\r\n  }\r\n}\r\nfunction updateTop10SiteList (data) {\r\n  return {\r\n    type: UPDATE_TOP10_LIST, \r\n    data\r\n  }\r\n}\r\nexport function setUsername (data) {\r\n  return {\r\n    type: SET_USER_NAME, \r\n    data\r\n  }\r\n}\r\nexport function setReplyNum (data=0) {\r\n  return {\r\n    type: SET_REPLY_NUM, \r\n    data\r\n  }\r\n}\r\n// 修改分类名\r\nexport const editCatalog = params => axios.post(url + '/editCatalog', params, {headers: getAuthorization()})\r\nexport const editNotice = params => axios.post(url + '/editNotice', params, {headers: getAuthorization()})\r\nexport const delCatalog = params => axios.get(url + '/delCatalog', {params, headers: getAuthorization()})\r\n// 收藏网址\r\nexport const collectSite = params => axios.get(url + '/collectSite', {params, headers: getAuthorization()})\r\n// 获取相关推荐\r\nexport const getRecomdList = params => axios.get(url + '/getRecomdList', {params})\r\n\r\n// 获取注册用的验证码\r\nexport const getRegCode = params => axios.post(url + '/sendRegMailCode', params)\r\n// 获取重置密码用的验证码\r\nexport const getRestCode = params => axios.post(url + '/sendRestPswCode', params)\r\nexport const resetPassword = params => axios.post(url + '/resetPassword', params)\r\n\r\n// 注册，成功后，自动登录\r\nexport const register = params => axios.post(url + '/register', params)\r\nexport const login = params => axios.post(url + '/login', params)\r\n\r\n// 这接口貌似没卵用啊-放屁-检测该用户有没有点击的时候是有用的\r\nexport const getIP = () => axios.get(url + '/getIP', {headers: getAuthorization()})  // 这个不需要写错误处理\r\nexport const setRate = params => axios.post(url + '/setRate', params)\r\nexport const addView = params => axios.post(url + '/addView', params)\r\nexport const reportCommit = params => axios.post(url + '/reportCommit', params, {headers: getAuthorization()})\r\nexport const replyCommit = params => axios.post(url + '/replyCommit', params, {headers: getAuthorization()})\r\nexport const getReportCommit = params => axios.get(url + '/getReportCommit', {params})\r\nexport const getReplyCommit = params => axios.get(url + '/getReplyCommit', {params})\r\n// clearreplynum 和 getReplyMeList 在一体，所以只需要写 getReplyMeList 就行了\r\nexport const clearreplynum = params => axios.get(url + '/clearreplynum', {params, headers: getAuthorization()})\r\nexport const getReplyMeList = params => axios.get(url + '/getReplyMeList', {params, headers: getAuthorization()})\r\n// 待回复的数量\r\n// export const getToBeRepliedNums = params => axios.get(url + '/getToBeRepliedNums', {params, headers: getAuthorization()})\r\nexport const getNewestCommit = params => axios.get(url + '/getNewestCommit', {params})\r\n\r\n// 获取单个信息\r\nexport const getSiteDetail = params => {\r\n  loading.open();\r\n  return axios.get(url + '/getSiteDetail', {params}).then(res => {\r\n    loading.close()\r\n    return res\r\n  })\r\n}\r\n\r\n// 获取top10最热网站\r\nexport const getTop10SiteList = () => dispatch => {\r\n  axios.post(url + '/getSiteList', {pageIndex: 1, pageSize: 10, orderBy: 'monthViews', status: 1}).then(res => {\r\n    dispatch(updateTop10SiteList(res.result))\r\n  })\r\n}\r\n// 得到网页列表- 因为页面管理需要登录信息，所以还是要传入tooken\r\n// catalog, status, pageIndex, pageSize, isTotal\r\nexport const getSiteList = params => dispatch => {\r\n  loading.open();\r\n  return axios.post(url + '/getSiteList', params, {headers: getAuthorization()}).then(res => {\r\n    dispatch(updateSiteList(res.result))\r\n    loading.close()\r\n  })\r\n}\r\n// 得到网页分类-只有名称和id\r\n// catalog, status, pageIndex, pageSize, isTotal\r\nexport const getAllCatalog = params => dispatch => axios.get(url + '/getAllCatalog', params).then(res => {\r\n  // console.log(res.data.result || [])\r\n  dispatch(updateCatalogList(res.result))\r\n})\r\n\r\nconst getCatalogList = params => axios.get(url + '/getCatalogList', {params})\r\n\r\n// 获取网站分类-包含该分类的网站总数\r\nexport const dispatchCatalogList = params => dispatch => getCatalogList(params).then(res => {\r\n  // console.log(res.data.result || [])\r\n  dispatch(updateCatalogListSite(res.result))\r\n})\r\n\r\n// 删除网页\r\n// _id, status\r\nexport const delSite = params => axios.post(url + '/delSite', params, {headers: getAuthorization()})\r\n// 新增分类\r\n// _id, status\r\nexport const addCatalog = params => axios.post(url + '/addCatalog', params, {headers: getAuthorization()})\r\n// 新增公告\r\nexport const addNotice = params => axios.post(url + '/addNotice', params, {headers: getAuthorization()})\r\n// 保存头像\r\nexport const saveportrait = params => axios.post(url + '/saveportrait', params, {headers: getAuthorization()})\r\n\r\n\r\n// 新增网页-这个在头部那里\r\nexport const addSite = (params) => {\r\n  return axios.request({\r\n    url: url + '/addSite', \r\n    method: 'post',\r\n    data: params,\r\n    headers: {'Content-Type':'multipart/form-data', ...getAuthorization()}\r\n  })\r\n}\r\n// 编辑网页-这个在siteItem里\r\nexport const editSite = (params) => {\r\n  return axios.request({\r\n    url: url + '/editSite', \r\n    method: 'post',\r\n    data: params,\r\n    headers: {'Content-Type':'multipart/form-data', ...getAuthorization()}\r\n  })\r\n}\r\n\r\nexport const checkNameExist = params => axios.get(url + '/checkName', {params})\r\n// 获取公告列表\r\nexport const getNoticeList = params => axios.get(url + '/getNoticeList', {params})\r\n// 删除公告\r\nexport const delNotice = params => axios.get(url + '/delNotice', {params, headers: getAuthorization()})\r\n// 用户信息\r\nexport const getUserportrait = params => axios.post(url + '/getUserportrait', params, {headers: getAuthorization()})\r\n// 更新分类排序\r\nexport const updateCatalogSort = params => axios.post(url + '/updateCatalogSort', params, {headers: getAuthorization()})\r\n\r\n// 收藏\r\nexport const getCollectList = params => axios.get(url + '/getCollectList', {params, headers: getAuthorization()})\r\n\r\nexport {\r\n  getCatalogList,\r\n  updateSiteList,\r\n}\r\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Cropper from 'cropperjs';\n\nconst optionProps = [\n  'dragMode',\n  'aspectRatio',\n  'data',\n  'crop',\n  // unchangeable props start from here\n  'viewMode',\n  'preview',\n  'responsive',\n  'restore',\n  'checkCrossOrigin',\n  'checkOrientation',\n  'modal',\n  'guides',\n  'center',\n  'highlight',\n  'background',\n  'autoCrop',\n  'autoCropArea',\n  'movable',\n  'rotatable',\n  'scalable',\n  'zoomable',\n  'zoomOnTouch',\n  'zoomOnWheel',\n  'wheelZoomRatio',\n  'cropBoxMovable',\n  'cropBoxResizable',\n  'toggleDragModeOnDblclick',\n  'minContainerWidth',\n  'minContainerHeight',\n  'minCanvasWidth',\n  'minCanvasHeight',\n  'minCropBoxWidth',\n  'minCropBoxHeight',\n  'ready',\n  'cropstart',\n  'cropmove',\n  'cropend',\n  'zoom',\n];\n\nconst unchangeableProps = optionProps.slice(4);\n\nclass ReactCropper extends Component {\n  componentDidMount() {\n    const options = Object.keys(this.props)\n      .filter(propKey => optionProps.indexOf(propKey) !== -1)\n      .reduce((prevOptions, propKey) =>\n        Object.assign({}, prevOptions, { [propKey]: this.props[propKey] }), {});\n    this.cropper = new Cropper(this.img, options);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.src !== this.props.src) {\n      this.cropper.reset().clear().replace(nextProps.src);\n    }\n    if (nextProps.aspectRatio !== this.props.aspectRatio) {\n      this.setAspectRatio(nextProps.aspectRatio);\n    }\n    if (nextProps.data !== this.props.data) {\n      this.setData(nextProps.data);\n    }\n    if (nextProps.dragMode !== this.props.dragMode) {\n      this.setDragMode(nextProps.dragMode);\n    }\n    if (nextProps.cropBoxData !== this.props.cropBoxData) {\n      this.setCropBoxData(nextProps.cropBoxData);\n    }\n    if (nextProps.canvasData !== this.props.canvasData) {\n      this.setCanvasData(nextProps.canvasData);\n    }\n    if (nextProps.moveTo !== this.props.moveTo) {\n      if (nextProps.moveTo.length > 1) {\n        this.moveTo(nextProps.moveTo[0], nextProps.moveTo[1]);\n      } else {\n        this.moveTo(nextProps.moveTo[0]);\n      }\n    }\n    if (nextProps.zoomTo !== this.props.zoomTo) {\n      this.zoomTo(nextProps.zoomTo);\n    }\n    if (nextProps.rotateTo !== this.props.rotateTo) {\n      this.rotateTo(nextProps.rotateTo);\n    }\n    if (nextProps.scaleX !== this.props.scaleX) {\n      this.scaleX(nextProps.scaleX);\n    }\n    if (nextProps.scaleY !== this.props.scaleY) {\n      this.scaleY(nextProps.scaleY);\n    }\n    if (nextProps.enable !== this.props.enable) {\n      if (nextProps.enable) {\n        this.enable();\n      } else {\n        this.disable();\n      }\n    }\n\n    Object.keys(nextProps).forEach((propKey) => {\n      let isDifferentVal = nextProps[propKey] !== this.props[propKey];\n      const isUnchangeableProps = unchangeableProps.indexOf(propKey) !== -1;\n\n      if (typeof nextProps[propKey] === 'function' && typeof this.props[propKey] === 'function') {\n        isDifferentVal = nextProps[propKey].toString() !== this.props[propKey].toString();\n      }\n\n      if (isDifferentVal && isUnchangeableProps) {\n        throw new Error(`prop: ${propKey} can't be change after componentDidMount`);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.img) {\n      // Destroy the cropper, this makes sure events such as resize are cleaned up and do not leak\n      this.cropper.destroy();\n      delete this.img;\n      delete this.cropper;\n    }\n  }\n\n  setDragMode(mode) {\n    return this.cropper.setDragMode(mode);\n  }\n\n  setAspectRatio(aspectRatio) {\n    return this.cropper.setAspectRatio(aspectRatio);\n  }\n\n  getCroppedCanvas(options) {\n    return this.cropper.getCroppedCanvas(options);\n  }\n\n  setCropBoxData(data) {\n    return this.cropper.setCropBoxData(data);\n  }\n\n  getCropBoxData() {\n    return this.cropper.getCropBoxData();\n  }\n\n  setCanvasData(data) {\n    return this.cropper.setCanvasData(data);\n  }\n\n  getCanvasData() {\n    return this.cropper.getCanvasData();\n  }\n\n  getImageData() {\n    return this.cropper.getImageData();\n  }\n\n  getContainerData() {\n    return this.cropper.getContainerData();\n  }\n\n  setData(data) {\n    return this.cropper.setData(data);\n  }\n\n  getData(rounded) {\n    return this.cropper.getData(rounded);\n  }\n\n  crop() {\n    return this.cropper.crop();\n  }\n\n  move(offsetX, offsetY) {\n    return this.cropper.move(offsetX, offsetY);\n  }\n\n  moveTo(x, y) {\n    return this.cropper.moveTo(x, y);\n  }\n\n  zoom(ratio) {\n    return this.cropper.zoom(ratio);\n  }\n\n  zoomTo(ratio) {\n    return this.cropper.zoomTo(ratio);\n  }\n\n  rotate(degree) {\n    return this.cropper.rotate(degree);\n  }\n\n  rotateTo(degree) {\n    return this.cropper.rotateTo(degree);\n  }\n\n  enable() {\n    return this.cropper.enable();\n  }\n\n  disable() {\n    return this.cropper.disable();\n  }\n\n  reset() {\n    return this.cropper.reset();\n  }\n\n  clear() {\n    return this.cropper.clear();\n  }\n\n  replace(url, onlyColorChanged) {\n    return this.cropper.replace(url, onlyColorChanged);\n  }\n\n  scale(scaleX, scaleY) {\n    return this.cropper.scale(scaleX, scaleY);\n  }\n\n  scaleX(scaleX) {\n    return this.cropper.scaleX(scaleX);\n  }\n\n  scaleY(scaleY) {\n    return this.cropper.scaleY(scaleY);\n  }\n\n  render() {\n    const {\n      src,\n      alt,\n      crossOrigin,\n      style,\n      className,\n    } = this.props;\n    return (\n      <div\n        style={style}\n        className={className}\n      >\n        <img\n          crossOrigin={crossOrigin}\n          ref={(img) => { this.img = img; }}\n          src={src}\n          alt={alt === undefined ? 'picture' : alt}\n          style={{ opacity: 0 }}\n        />\n      </div>\n    );\n  }\n}\n\nReactCropper.propTypes = {\n  style: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  className: PropTypes.string,\n\n  // react cropper options\n  crossOrigin: PropTypes.string,\n  src: PropTypes.string,\n  alt: PropTypes.string,\n\n  // props of option can be changed after componentDidmount\n  aspectRatio: PropTypes.number,\n  dragMode: PropTypes.oneOf(['crop', 'move', 'none']),\n  data: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    rotate: PropTypes.number,\n    scaleX: PropTypes.number,\n    scaleY: PropTypes.number,\n  }),\n  scaleX: PropTypes.number,\n  scaleY: PropTypes.number,\n  enable: PropTypes.bool,\n  cropBoxData: PropTypes.shape({\n    left: PropTypes.number,\n    top: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n  canvasData: PropTypes.shape({\n    left: PropTypes.number,\n    top: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n  zoomTo: PropTypes.number,\n  moveTo: PropTypes.arrayOf(PropTypes.number),\n  rotateTo: PropTypes.number,\n\n  // cropperjs options\n  // https://github.com/fengyuanchen/cropperjs#options\n  // aspectRatio, dragMode, data\n  viewMode: PropTypes.oneOf([0, 1, 2, 3]),\n  preview: PropTypes.string,\n  responsive: PropTypes.bool,\n  restore: PropTypes.bool,\n  checkCrossOrigin: PropTypes.bool,\n  checkOrientation: PropTypes.bool,\n  modal: PropTypes.bool,\n  guides: PropTypes.bool,\n  center: PropTypes.bool,\n  highlight: PropTypes.bool,\n  background: PropTypes.bool,\n  autoCrop: PropTypes.bool,\n  autoCropArea: PropTypes.number,\n  movable: PropTypes.bool,\n  rotatable: PropTypes.bool,\n  scalable: PropTypes.bool,\n  zoomable: PropTypes.bool,\n  zoomOnTouch: PropTypes.bool,\n  zoomOnWheel: PropTypes.bool,\n  wheelZoomRatio: PropTypes.number,\n  cropBoxMovable: PropTypes.bool,\n  cropBoxResizable: PropTypes.bool,\n  toggleDragModeOnDblclick: PropTypes.bool,\n  minContainerWidth: PropTypes.number,\n  minContainerHeight: PropTypes.number,\n  minCanvasWidth: PropTypes.number,\n  minCanvasHeight: PropTypes.number,\n  minCropBoxWidth: PropTypes.number,\n  minCropBoxHeight: PropTypes.number,\n  ready: PropTypes.func,\n  cropstart: PropTypes.func,\n  cropmove: PropTypes.func,\n  cropend: PropTypes.func,\n  crop: PropTypes.func,\n  zoom: PropTypes.func,\n};\n\nReactCropper.defaultProps = {\n  src: null,\n  dragMode: 'crop',\n  data: null,\n  scaleX: 1,\n  scaleY: 1,\n  enable: true,\n  zoomTo: 1,\n  rotateTo: 0,\n};\n\nexport default ReactCropper;\n","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux'\r\n// import 'cropperjs/dist/cropper.css';\r\nimport { message, Button, Popover } from 'antd';\r\nimport './Portrait.scss'\r\nimport Cropper from './react-cropper';\r\nimport { saveportrait, getUserportrait, setUsername } from '@/store/actions'\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport loading from '@/commonComp/Loading'\r\nimport defaultFace from '@/assets/images/face.png'\r\n\r\nimport eventBus from '@/common/eventBus'\r\nimport imgurl from '@/common/api'\r\n/* global FileReader */\r\nimport {\r\n\r\n  faceImgTip,\r\n  MAX_IMG_SIZE,\r\n  siteImgErrorText,\r\n  // LOG_OVERDUE_CODE\r\n} from '@/common/constant'\r\n\r\n\r\nclass Portrait extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      src: '',\r\n      orgSrc: ''\r\n      // cropResult: null,\r\n      // imgError: -1,\r\n    };\r\n    this.cropImage = this.cropImage.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n  componentDidMount () {\r\n    const { setUsername, history } = this.props;\r\n    loading.transShow()\r\n    getUserportrait().then(res => {\r\n      const { result } = res;\r\n      this.setState({\r\n        orgSrc: result ? imgurl + result : defaultFace\r\n      })\r\n    }).catch(res => {\r\n      eventBus.emit('logout#toHome', res)\r\n    })\r\n  }\r\n  checkImg (file) {\r\n    let flag = -1;\r\n    if (file.size > MAX_IMG_SIZE) {\r\n      flag = 1\r\n    } else if (file.type.indexOf('image') === -1) {\r\n      flag = 0\r\n    }\r\n    return flag;\r\n  }\r\n  onChange(e) {\r\n    e.preventDefault();\r\n    let files;\r\n    if (e.dataTransfer) {\r\n      files = e.dataTransfer.files;\r\n    } else if (e.target) {\r\n      files = e.target.files;\r\n    }\r\n    if (files.length === 0) {\r\n      message.error('请选择图片！')\r\n      return;\r\n    }\r\n    const [file] = files\r\n    const imgError = this.checkImg(file);\r\n    if (imgError !== -1) {\r\n      /*this.setState({\r\n        imgError\r\n      })*/\r\n      message.error(siteImgErrorText[imgError])\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      this.setState({ src: reader.result });\r\n      this.cropper.replace(reader.result)\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n\r\n  cropImage() {\r\n    const cropped = this.cropper.getCroppedCanvas()\r\n    // console.log(cropped)\r\n    if (!cropped) {\r\n      message.error(siteImgErrorText[3])\r\n      return;\r\n    }\r\n    const imgData = cropped.toDataURL()\r\n    saveportrait({imgData})\r\n      .then(res => message.success(res.resultMessage))\r\n      \r\n    /*this.setState({\r\n      cropResult: cropped.toDataURL(),\r\n    });*/\r\n  }\r\n  \r\n\r\n  render() {\r\n    // console.log(this.state.src)\r\n    const { src, orgSrc } = this.state;\r\n    // console.log(!!cropResult)\r\n    return (\r\n      <div className=\"face-container main-content\">\r\n        <div className=\"face-wrapper\">\r\n          <div className=\"show-ctn\">\r\n            <div className=\"cropper-ctn\">\r\n              <Cropper\r\n                style={{ height: 400, width: 400 }}\r\n                aspectRatio={1}\r\n                preview=\".img-preview\"\r\n                guides={false}\r\n                src={this.state.src}\r\n                ref={cropper => { this.cropper = cropper; }}\r\n              />\r\n              <div className={\"cropper-bg self-bg \" + (!!src ? 'hidden' : '')}></div>\r\n            </div>\r\n            <div className=\"opera-bottom\">\r\n              <Popover placement=\"topLeft\" content={<div>{faceImgTip}</div>} trigger=\"hover\">\r\n                <label className=\"ant-btn\" htmlFor=\"fileimg\">选择头像</label>\r\n              </Popover>\r\n              <Button type=\"primary\" onClick={this.cropImage}>保存头像</Button>\r\n            </div>\r\n\r\n            <input id=\"fileimg\" type=\"file\" style={{display: 'none'}} accept=\"image/*\" onChange={this.onChange} />\r\n          </div>\r\n          <div className=\"preview-ctn\">\r\n            <h3 className=\"title\">头像预览</h3>\r\n            {\r\n              !!src \r\n              ? <div className=\"img-preview-ctn\" >\r\n                  <div className=\"img-preview\" />\r\n                  <p>大头像112*112</p>\r\n                  <div className=\"img-preview small\" />\r\n                  <p>小头像40*40</p>\r\n                </div>\r\n              : <div className=\"img-preview-ctn show-org-img\" >\r\n                  <div className=\"img-preview\">\r\n                    <img src={orgSrc} alt=\"\"/>\r\n                  </div>\r\n                  <p>大头像112*112</p>\r\n                  <div className=\"img-preview small\">\r\n                    <img src={orgSrc} alt=\"\"/>\r\n                  </div>\r\n                  <p>小头像40*40</p>\r\n                </div>\r\n            }\r\n          </div>\r\n        </div>\r\n        \r\n\r\n        {/*<div>\r\n          <div className=\"box\" style={{ width: '50%',  }}>\r\n            <h1>\r\n              <span>Crop</span>\r\n            </h1>\r\n            <img style={{ width: 112 }} src={cropResult} alt=\"cropped image\" />\r\n          </div>\r\n        </div>*/}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUsername (params) {\r\n      return dispatch(setUsername(params))\r\n    },\r\n  };\r\n};\r\n// export default ComContent;\r\nexport default withRouter(connect(null, mapDispatchToProps)(Portrait));\r\n","const url = process.env.NODE_ENV === 'development' ? '/api' : '';\r\n\r\nexport default url;","import React, { Component } from 'react';\r\nimport './bg.scss'\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Backgound extends Component {\r\n  render () {\r\n    return (\r\n      <div className=\"solar-syst\">\r\n        <div className=\"star mercury\"></div>\r\n        <div className=\"star venus\"></div>\r\n        <div className=\"star earth\"></div>\r\n        <div className=\"star mars\"></div>\r\n        <div className=\"star jupiter\"></div>\r\n        <div className=\"star saturn\"></div>\r\n        <div className=\"star uranus\"></div>\r\n        <div className=\"star neptune\"></div>\r\n        <div className=\"star pluto\"></div>\r\n        <div className=\"star asteroids-belt\"></div>\r\n        <div className=\"star sun\"></div>\r\n        <div className=\"star solar-syst-bg\"></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nlet div = document.createElement('div');\r\ndocument.body.appendChild(div);\r\n \r\nlet background = ReactDOM.render(React.createElement(\r\n  Backgound,\r\n), div);\r\n\r\nexport default background\r\n","import React, { Component } from 'react';\r\nimport { AutoComplete } from 'antd';\r\n\r\nconst { Option } = AutoComplete;\r\n\r\nclass Email extends Component {\r\n  state = {\r\n    result: []\r\n  }\r\n  handleSearch = value => {\r\n    let res = [];\r\n    this.props.onSelect(value);\r\n    if (!value || value.indexOf('@') >= 0) {\r\n      res = [];\r\n    } else {\r\n      res = ['qq.com', '163.com', 'foxmail.com', 'gmail.com'].map(domain => `${value}@${domain}`);\r\n    }\r\n\r\n    this.setState({\r\n      result: res\r\n    })\r\n  };\r\n\r\n  render () {\r\n\r\n    const { result } = this.state;\r\n\r\n    return (\r\n      <AutoComplete\r\n        style={{\r\n          width: 200,\r\n        }}\r\n        onBlur={this.props.onBlur}\r\n        onSearch={this.handleSearch}\r\n        {...this.props}\r\n      >\r\n        {result.map(email => (\r\n          <Option key={email} value={email}>\r\n            {email}\r\n          </Option>\r\n        ))}\r\n      </AutoComplete>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Email;","import React, { Component } from 'react';\r\nimport { Button } from 'antd';\r\nimport { COUNT_DOWN } from '@/common/constant'\r\n\r\nclass CodeBtn extends Component {\r\n  state = {\r\n    mailClick: false,\r\n    mailCount: COUNT_DOWN\r\n  }\r\n\r\n  mailCountInterval = null;\r\n\r\n  startCountDown = () => {\r\n    clearInterval(this.mailCountInterval)\r\n    this.mailCountInterval = setInterval(() => {\r\n      const { mailCount } = this.state;\r\n      if (mailCount <= 1) {\r\n        this.setState({\r\n          mailClick: false,\r\n          mailCount: COUNT_DOWN\r\n        })\r\n        clearInterval(this.mailCountInterval)\r\n        return;\r\n      }\r\n      this.setState({\r\n        mailCount: mailCount - 1\r\n      })\r\n    }, 1000)\r\n  }\r\n\r\n  codeClick = () => {\r\n    this.setState({\r\n      mailClick: true\r\n    })\r\n\r\n    this.props.onClick()\r\n      .then(ok => this.startCountDown())\r\n      .catch(err => this.setState({ mailClick: false }))\r\n  }\r\n\r\n  render () {\r\n    \r\n    const { mailClick, mailCount } = this.state;\r\n\r\n    return (\r\n      <Button onClick={this.codeClick} disabled={mailClick} type=\"link\">{mailClick ? `${mailCount}s后再次获取` : '获取验证码'}</Button>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default CodeBtn;","import React, { Component, Fragment } from 'react';\r\nimport { Input, Popover } from 'antd';\r\nimport { CloseOutlined, CheckOutlined } from '@ant-design/icons'\r\nimport { pswTipText } from '@/common/constant'\r\n\r\nfunction getPswErr (psw='') {\r\n\treturn pswTipText.map(it => it.isok(psw))\r\n}\r\n\r\nclass CheckPassword extends Component {\r\n\t\r\n\tstate = {\r\n\t\t// password: '',\r\n\t\tpswok: getPswErr()\r\n\t}\r\n\r\n\tpswChange = e => {\r\n\t\tconst password = e.target.value\r\n\t\tconst pswok = getPswErr(password)\r\n\t\tthis.setState({\r\n\t\t\t// password,\r\n\t\t\tpswok,\r\n\t\t\t\r\n\t\t})\r\n\t\tthis.props.onChange(e)\r\n\t\t// this.props.checkTipShow(false)\r\n\t\t// this.props.checkPswIsOk(this.getPswIsOk(pswok))\r\n\t\t\r\n\t}\r\n\tgetPswIsOk (pswok) {\r\n\t\treturn pswok.reduce((a, pr) => a && pr, true)\r\n\t}\r\n\tpswBlur = (e) => {\r\n\t\tthis.props.onBlur(e)\r\n\t\t// console.log(e)\r\n\t\t// const { pswok } = this.state;\r\n\t\t\r\n\t\t// this.props.checkPswIsOk(this.getPswIsOk(pswok))\r\n\t}\r\n\trender() {\r\n    // const { password } = this.state;\r\n    const { pswok } = this.state;\r\n    const { pswErrorTipShow, password, text } = this.props;\r\n\t\tconst isIgnorPsw = password.length === 0;\r\n\t\tconst pswTipContent = (\r\n\t\t\t<ul className=\"password-tip\">\r\n\t\t\t\t{\r\n\t\t\t\t\tpswTipText.map((it, index) => {\r\n\t\t\t\t\t\tconst isok = pswok[index]\r\n\t\t\t\t\t\treturn <li key={index} className={isok || isIgnorPsw ? '' : 'error'}>{ !isIgnorPsw && (isok ? <CheckOutlined/> : <CloseOutlined/>)} {it.tip}</li>\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</ul>\r\n    )\r\n    return (\r\n    \t<Fragment>\r\n    \t\t<Popover placement=\"topLeft\" content={pswTipContent} trigger=\"focus\">\r\n\t\t\t\t\t<label>{text || '密码'}</label>\r\n\t\t\t\t\t<Input.Password \r\n\t\t\t\t\t\tclassName={(this.getPswIsOk(pswok) || isIgnorPsw) && !pswErrorTipShow ? '' : 'error'} \r\n\t\t\t\t\t\t// type=\"password\" \r\n\t\t\t\t\t\tonBlur={this.pswBlur}\r\n\t\t\t\t\t\tplaceholder=\"请设置登录密码\" \r\n\t\t\t\t\t\tonChange={this.pswChange} \r\n\t\t\t\t\t\tvalue={password} \r\n\t\t\t\t\t/>\r\n\t\t\t\t</Popover>\r\n\t\t\t\t{\r\n\t\t\t\t\tpswErrorTipShow && <p className=\"error-tip\">密码设置不符合要求</p>\r\n\t\t\t\t}\r\n    \t</Fragment>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default CheckPassword;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { message, Modal, Button, Input, Popover } from 'antd';\r\nimport { checkMail, getStrChartLen, isLegal, checkPassword } from '@/common/common'\r\nimport { MAX_NAME_CHART, nameErrorText, nameTipText } from '@/common/constant'\r\nimport { register, setUsername, getRegCode, checkNameExist, updateComData } from '@/store/actions'\r\nimport { connect } from 'react-redux'\r\n// import { CloseOutlined, CheckOutlined } from '@ant-design/icons'\r\nimport Email from '@/commonComp/input/Email'\r\nimport CodeBtn from '@/commonComp/input/CodeBtn'\r\n// import imgUrl from '@/common/api'\r\n// import cookie from 'react-cookies'\r\nimport { saveLoginCookie } from './loginCookie'\r\nimport CheckPassword from './CheckPassword'\r\n\r\n/*function getPswErr (psw='') {\r\n\treturn pswTipText.map(it => it.isok(psw))\r\n}*/\r\n\r\n// 注册是不需要登录回调的，因为用户刚创建，所以不会有任何数据跟该用户相关\r\nclass Register extends Component {\r\n\t\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.initData = {\r\n\t\t\tname: '',\r\n\t\t\tpassword: '',\r\n\t\t\t// repsw: '',\r\n\t\t\tcode: '',\r\n\t\t\temail: '',\r\n\t\t\tnameError: -1,\t\t\t// 0: 过长 1: 包含特殊字符 2: 不能为空\r\n\t\t\tpswErrorTipShow: false,\r\n\t\t\t// pswok: getPswErr(''),\t\t\t\t// 0: 长度不符合要求 1: 没包含 字母/数字以及标点符号至少包含2种 3: 不允许有空格、中文\r\n\t\t\tisEmailError: false,\r\n\t\t\tisCodeError: false,\r\n\r\n\t\t\tisNameFirst: true,\r\n\t\t\tisPswFirst: true,\r\n\t\t\tisEmailFirst: true,\r\n\t\t\tisCodeFirst: true,\r\n\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tconfirmLoading: false,\r\n\t\t\t...this.initData\r\n\t\t};\r\n\t}\r\n\t\r\n\r\n\topen = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t  visible: true,\r\n\t\t});\r\n\t\r\n\t};\r\n\t\r\n\t\r\n\tsendcode = () => {\r\n\t\tconst { email } = this.state;\r\n\t\t// console.log(email)\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (!checkMail(email) || email.length === 0) {\r\n\t\t\t\tthis.setState({isEmailError: true})\r\n\t\t\t\treturn reject();\r\n\t\t\t}\r\n\t\t\tgetRegCode({email}).then(res => {\r\n\t\t\t\tmessage.success('验证码已成功发送，请在半小时内填写！')\r\n\t\t\t\tresolve();\r\n\t\t\t}).catch(res => reject())\r\n\t\t\r\n\t\t})\r\n\t}\r\n\t\r\n\t\r\n\thandleOver = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t...this.initData,\r\n\t\t  visible: false,\r\n\t\t});\r\n\t}\r\n\t// 上架\r\n\thandleOk = () => {\r\n\t\tconst { name, password, email, code, nameError } = this.state;\r\n\t\t// console.log(password)\r\n\t\tif (nameError !== -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (name.length === 0) {\r\n\t\t\tthis.setState({nameError: 2})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!checkPassword(password)) {\r\n\t\t\tthis.setState({ pswErrorTipShow: true })\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t/*if (!this.getPswIsOk() || password.length === 0) {\r\n\t\t\tthis.setState({ pswErrorTipShow: true })\r\n\t\t\treturn;\r\n\t\t}*/\r\n\t\tif (!checkMail(email) || email.length === 0) {\r\n\t\t\tthis.setState({isEmailError: true})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (code.length === 0) {\r\n\t\t\tthis.setState({isCodeError: true})\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\n\t\tthis.setState({confirmLoading: true})\r\n\t\tregister({name, password, email, code}).then(data => {\r\n\t\t\t// console.log(res)\r\n\t\t\tconst { result, resultMessage } = data;\r\n\t\t\tconst { _id, token, is_async } = result;\r\n\t\r\n\t\t\tsaveLoginCookie(_id, token, name)\r\n\t\t\t\r\n\t\t\tmessage.success(resultMessage)\r\n\t\t\tthis.setState({\r\n\t\t\t\tvisible: false,\r\n\t\t\t})\r\n\r\n\t\t\tthis.props.setUsername(name)\r\n\t\t\tthis.props.updateComData({is_async})\r\n\t\t}).finally(res => this.setState({ confirmLoading: false }))\r\n\t};\r\n\t\r\n\r\n\thandleCancel = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t\t\r\n\t};\r\n\t\r\n\t/*checkRePsw = () => {\r\n\t\tconst { password, repsw } = this.state;\r\n\t\tif (password !== repsw) {\r\n\t\t\tmessage.error('两次密码不一致')\r\n\t\t}\r\n\t}*/\r\n\r\n\t/*componentDidMount () {\r\n\t\tconsole.log(process.env)\r\n\t\tthis.props.getCatalogList();\r\n\t}*/\r\n\tcheckName = (name) => {\r\n\t\tlet nameError = -1;\r\n\t\tconst namChartlen = getStrChartLen(name);\r\n\t\tif (namChartlen > MAX_NAME_CHART) {\r\n\t\t\tnameError = 0\r\n\t\t\t// console.log(name, getStrChartLen(name))\r\n\t\t} else if (!isLegal(name)) {\r\n\t\t\tnameError = 1\r\n\t\t} else if (name === '') {\r\n\t\t\tnameError = 2\r\n\t\t}\r\n\t\treturn nameError\r\n\t}\r\n\t\r\n\tnameChange = e => {\r\n\t\tconst { value } = e.target\r\n\t\t// isLegal\r\n\t\tthis.setState({\r\n\t\t\tname: value,\r\n\t\t\tisNameFirst: false,\r\n\t\t\tnameError: this.checkName(value)\r\n\t\t})\r\n\r\n\t}\r\n\tnameBlur = () => {\r\n\t\tconst { name } = this.state\r\n\t\tconst nameError = this.checkName(name)\r\n\t\tif (nameError === -1) {\r\n\t\t\tcheckNameExist({name}).then(res => {\r\n\t\t\t\tif (res.result) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tnameError: 3\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnameError\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t}\r\n\tpswChange = e => {\r\n\t\tconst password = e.target.value\r\n\t\tthis.setState({\r\n\t\t\tpassword,\r\n\t\t\tpswErrorTipShow: false,\r\n\t\t\tisPswFirst: false,\r\n\t\t})\r\n\t\t\r\n\t}\r\n\tpswBlur = (e) => {\r\n\t\tthis.setState({ pswErrorTipShow: !checkPassword(e.target.value) })\r\n\t}\r\n\t/*getPswIsOk () {\r\n\t\treturn this.state.pswok.reduce((a, pr) => a && pr, true)\r\n\t}*/\r\n\t/*repswChange = e => {\r\n\t\tthis.setState({\r\n\t\t\trepsw: e.target.value\r\n\t\t})\r\n\t}*/\r\n\t\r\n\tcodeChange = e => {\r\n\t\tconst code = e.target.value\r\n\t\tthis.setState({\r\n\t\t\tcode,\r\n\t\t\tisCodeError: code.length === 0,\r\n\t\t\tisCodeFirst: false\r\n\t\t})\r\n\t}\r\n\temailChange = (email) => {\r\n\t\t// console.log(a, b, c)\r\n\t\tconst isEmailError = !checkMail(email);\r\n\t\tthis.setState({\r\n\t\t\temail,\r\n\t\t\tisEmailFirst: false\r\n\t\t})\r\n\t\t// 只有输入不对的时候才会\r\n\t\tif (!isEmailError) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisEmailError,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\temailBlur = () => {\r\n\t\tthis.setState((prevState) => {\r\n\t\t\treturn {\r\n\t\t\t\tisEmailError: !checkMail(prevState.email)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t\r\n\trender() {\r\n    const { \r\n    \tvisible, confirmLoading, name, password, code,\r\n    \tnameError, isEmailError, isCodeError, pswErrorTipShow,\r\n    \tisNameFirst, isPswFirst, isEmailFirst, isCodeFirst\r\n    } = this.state;\r\n   \r\n\r\n    return (\r\n    \t<Fragment>\r\n    \t\t<Button onClick={this.open} type=\"link\">注册</Button>\r\n\t      <Modal\r\n\t      \twidth={400}\r\n\t\t\t\t\ttitle=\"注册\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\tfooter={null}\r\n\t\t\t\t\t// confirmLoading={confirmLoading}\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t\t// onOk={this.handleOk}\r\n\t\t\t\t\t// okText=\"确定\"\r\n\t\t\t\t\t// cancelText=\"取消\"\r\n\t      >\r\n\t        <div className=\"self-wrapper\">\r\n\t        \r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<Popover placement=\"topLeft\" content={<div>{nameTipText}</div>} trigger=\"focus\">\r\n\t\t\t\t\t\t\t\t<label>用户名</label>\r\n\t\t\t\t\t\t\t\t<Input className={nameError !== -1 && 'error'} placeholder=\"请设置用户名\" onBlur={this.nameBlur} onChange={this.nameChange} value={name} />\r\n\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tnameErrorText[nameError] && <p className=\"error-tip\">{nameErrorText[nameError]}</p>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<CheckPassword \r\n\t\t\t\t\t\t\t\tpassword={password}\r\n\t\t\t\t\t\t\t\tpswErrorTipShow={pswErrorTipShow} \r\n\t\t\t\t\t\t\t\tonBlur={this.pswBlur}\r\n\t\t\t\t\t\t\t\tonChange={this.pswChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>重复密码</label><Input type=\"password\" onBlur={this.checkRePsw} onChange={this.repswChange} value={repsw} />\r\n\t\t\t\t\t\t</div>*/}\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>邮箱</label>\r\n\t\t\t\t\t\t\t{/*<Input placeholder=\"可用于登录和找回密码\" onChange={this.emailChange} value={email} />*/}\r\n\t\t\t\t\t\t\t<Email className={isEmailError && 'error'} style={{width: '100%'}} placeholder=\"可用于登录和找回密码\" onBlur={this.emailBlur} onSelect={this.emailChange} />\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisEmailError && <p className=\"error-tip\">邮箱不符合格式</p>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>验证码</label>\r\n\t\t\t\t\t\t\t<div className=\"inline\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Input className={isCodeError && 'error'} placeholder=\"请输入验证码\" onChange={ this.codeChange} value={code} style={{width: 150}} />\r\n\t\t\t\t\t\t\t\t\t<CodeBtn onClick={this.sendcode} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tisCodeError && <p className=\"error-tip\">验证码不能为空</p>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{/*<Button onClick={this.sendcode} disabled={mailClick} type=\"link\">{mailClick ? `${mailCount}s后再次获取` : '获取验证码'}</Button>*/}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line\">\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\tdisabled={(isNameFirst || isPswFirst || isCodeFirst || isEmailFirst) ? true : (nameError !== -1 || !checkPassword(password) || isEmailError || isCodeError)}\r\n\t\t\t\t\t\t\t\tstyle={{width: '100%'}} \r\n\t\t\t\t\t\t\t\ttype=\"primary\" \r\n\t\t\t\t\t\t\t\tloading={confirmLoading} \r\n\t\t\t\t\t\t\t\tonClick={this.handleOk} \r\n\t\t\t\t\t\t\t>注册</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t        </div>\r\n\t      \t\r\n\t      </Modal>\r\n    \t</Fragment>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tsetUsername (name) {\r\n\t\t\treturn dispatch(setUsername(name))\r\n  \t},\r\n  \tupdateComData (data) {\r\n  \t\treturn dispatch(updateComData(data))\r\n  \t}\r\n  };\r\n};\r\nRegister = connect(null, mapDispatchToProps)(Register)\r\nexport default Register;\r\n// Register = connect(mapStateToProps, mapDispatchToProps)(Register)\r\n","import React, { Component, Fragment } from 'react';\r\nimport { message, Modal, Button, Input } from 'antd';\r\nimport { checkPassword } from '@/common/common'\r\nimport { getRestCode, resetPassword } from '@/store/actions'\r\n// import {connect} from 'react-redux'\r\n\r\n// import Email from '@/commonComp/input/Email'\r\nimport CodeBtn from '@/commonComp/input/CodeBtn'\r\n// import imgUrl from '@/common/api'\r\nimport CheckPassword from './CheckPassword'\r\n// import cookie from 'react-cookies'\r\n// import { saveLoginCookie } from './loginCookie'\r\n\r\n\r\nclass RestPsw extends Component {\r\n\t\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.initData = {\r\n\t\t\tname: '',\r\n\t\t\tpassword: '',\r\n\t\t\tcode: '',\r\n\t\t\tpswErrorTipShow: false,\r\n\r\n\t\t\tisNameFirst: true,\r\n\t\t\tisPswFirst: true,\r\n\t\t\tisCodeFirst: true,\r\n\t\t\tisNameError: false,\r\n\t\t\tisPswError: false,\r\n\t\t\tisCodeError: false,\r\n\t\t}\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tconfirmLoading: false,\r\n\t\t\t...this.initData\r\n\t\t};\r\n\t}\r\n\r\n\tsendcode = () => {\r\n\t\tconst { name } = this.state;\r\n\t\t// console.log(name)\r\n\t\t// return;\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tgetRestCode({name}).then(res => {\r\n\t\t\t\tmessage.success(res.resultMessage)\r\n\t\t\t}).catch(res => reject())\r\n\t\t\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\r\n\topen = () => {\r\n\t\tconst { handleOpen } = this.props;\r\n\t\tthis.setState({\r\n\t\t  visible: true,\r\n\t\t});\r\n\t\t\r\n\t\thandleOpen && handleOpen();\r\n\t};\r\n\t\r\n\r\n\t\r\n\t\r\n\thandleOver = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t...this.initData,\r\n\t\t  visible: false,\r\n\t\t});\r\n\t}\r\n\t// 登陆\r\n\thandleOk = () => {\r\n\t\tconst { name, password, code } = this.state;\r\n\t\tthis.setState({confirmLoading: true})\r\n\t\tresetPassword({name, password, code: code.toString()}).then(data => {\r\n\t\t\tconst { resultMessage } = data;\r\n\t\t\tmessage.success(resultMessage)\r\n\t\t\tthis.handleOver()\r\n\t\t}).finally(res => this.setState({confirmLoading: false}))\r\n\t};\r\n\t\r\n\r\n\thandleCancel = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t\t\r\n\t};\r\n\t\r\n\r\n\t/*componentDidMount () {\r\n\t\tconsole.log(process.env)\r\n\t\tthis.props.getCatalogList();\r\n\t}*/\r\n\r\n\tnameChange = e => {\r\n\t\tconst name = e.target.value;\r\n\t\t// isLegal\r\n\t\tthis.setState({\r\n\t\t\tname,\r\n\t\t\tisNameError: !name,\r\n\t\t\tisNameFirst: false,\r\n\t\t})\r\n\t}\r\n\r\n\tcodeChange = e => {\r\n\t\tthis.setState({\r\n\t\t\tcode: e.target.value,\r\n\t\t\tisCodeFirst: false,\r\n\t\t})\r\n\t}\r\n\t\r\n\tpswChange = e => {\r\n\t\tconst password = e.target.value\r\n\t\tthis.setState({\r\n\t\t\tpassword,\r\n\t\t\tpswErrorTipShow: false,\r\n\t\t\tisPswFirst: false,\r\n\t\t})\r\n\t\t\r\n\t}\r\n\tpswBlur = (e) => {\r\n\t\tthis.setState({ pswErrorTipShow: !checkPassword(e.target.value) })\r\n\t}\r\n\tnameBlur = () => {\r\n\t\tthis.setState(prevState => ({isNameError: !prevState.name}))\r\n\t}\r\n\r\n\t/*codeBlur = () => {\r\n\t\tthis.setState(prevState => ({isCodeError: !prevState.code}))\r\n\t}*/\r\n\t\r\n\trender() {\r\n    const { visible, confirmLoading, name, password, code, pswErrorTipShow,\r\n    \tisNameError, isCodeError, \r\n    \tisNameFirst, isPswFirst, isCodeFirst \r\n     } = this.state;\r\n\r\n    return (\r\n    \t<Fragment>\r\n    \t\t<span className=\"link-a\" onClick={this.open}>忘记密码?</span>\r\n\t      <Modal\r\n\t      \twidth={400}\r\n\t\t\t\t\ttitle=\"重置密码\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\t// confirmLoading={confirmLoading}\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t\tonOk={this.handleOk}\r\n\t\t\t\t\t// okText=\"确定\"\r\n\t\t\t\t\t// cancelText=\"取消\"\r\n\t\t\t\t\tfooter={null}\r\n\t      >\r\n\t        <div className=\"self-wrapper\">\r\n\t        \r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>用户名</label>\r\n\t\t\t\t\t\t\t<Input placeholder=\"用户名/邮箱\" className={isNameError && 'error'} onBlur={this.nameBlur} onChange={this.nameChange} value={name} />\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisNameError && <p className=\"error-tip\">用户名不能为空</p>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>验证码</label>\r\n\t\t\t\t\t\t\t<div className=\"inline\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Input className={isCodeError && 'error'} placeholder=\"请输入验证码\" onChange={this.codeChange} value={code} style={{width: 150}} />\r\n\t\t\t\t\t\t\t\t\t<CodeBtn onClick={this.sendcode} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisCodeError && <p className=\"error-tip\">验证码不能为空</p>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<CheckPassword \r\n\t\t\t\t\t\t\t\ttext=\"新密码\"\r\n\t\t\t\t\t\t\t\tpassword={password}\r\n\t\t\t\t\t\t\t\tpswErrorTipShow={pswErrorTipShow} \r\n\t\t\t\t\t\t\t\tonBlur={this.pswBlur}\r\n\t\t\t\t\t\t\t\tonChange={this.pswChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line\">\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\tstyle={{width: '100%'}} \r\n\t\t\t\t\t\t\t\tdisabled={(isNameFirst || isPswFirst || isCodeFirst) ? true : (isNameError || !checkPassword(password) || isCodeError)}\r\n\t\t\t\t\t\t\t\ttype=\"primary\" loading={confirmLoading} \r\n\t\t\t\t\t\t\t\tonClick={this.handleOk} \r\n\t\t\t\t\t\t\t>重置密码</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t        </div>\r\n\t      \t\r\n\t      </Modal>\r\n    \t</Fragment>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default RestPsw;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { message, Modal, Button, Input } from 'antd';\r\nimport { trim, isLegal, pathType } from '@/common/common'\r\nimport { pswTipText } from '@/common/constant'\r\nimport { login, setUsername, updateComData, setReplyNum } from '@/store/actions'\r\nimport { connect } from 'react-redux'\r\n\r\nimport imgUrl from '@/common/api'\r\n// import cookie from 'react-cookies'\r\nimport { saveLoginCookie } from './loginCookie'\r\nimport RestPsw from './RestPsw'\r\nimport eventBus from '@/common/eventBus'\r\n\r\n// 登陆的时候粗略的校验一下就行了，没必要和注册一个逻辑\r\nclass Login extends Component {\r\n\t\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.initData = {\r\n\t\t\tname: '',\r\n\t\t\tpassword: '',\r\n\t\t\tcode: '',\r\n\t\t\tcodeurl: '',\r\n\t\t\tisNameFirst: true,\r\n\t\t\tisPswFirst: true,\r\n\t\t\tisCodeFirst: true,\r\n\t\t\tisNameError: false,\r\n\t\t\tisPswError: false,\r\n\t\t\tisCodeError: false,\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tconfirmLoading: false,\r\n\t\t\t...this.initData\r\n\t\t};\r\n\t}\r\n\t\r\n\r\n\topen = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t  visible: true,\r\n\t\t});\r\n\t\tthis.refreshCode();\r\n\t\r\n\t};\r\n\t\r\n\t\r\n\thandleOver = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t...this.initData,\r\n\t\t  visible: false,\r\n\t\t});\r\n\t}\r\n\t// 登陆\r\n\thandleOk = () => {\r\n\t\tconst { name, password, code } = this.state;\r\n\t\tconst { setUsername, updateComData, setReplyNum, pathname } = this.props;\r\n\t\tif (!trim(name)) {\r\n\t\t\tthis.setState({isNameError: true})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!trim(password)) {\r\n\t\t\tthis.setState({isPswError: true})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!trim(code)) {\r\n\t\t\tthis.setState({isCodeError: true})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({confirmLoading: true})\r\n\t\tlogin({name, password, code: code.toString().toLowerCase()}).then(data => {\r\n\t\t\t// console.log(res)\r\n\t\t\tconst { result, resultMessage } = data;\r\n\t\t\tconst { _id, token, name: user_name, is_async, check_reply_num } = result;\r\n\r\n\t\t\tsaveLoginCookie(_id, token, user_name)\r\n\t\t\t\r\n\t\t\tmessage.success(resultMessage)\r\n\t\t\tthis.setState({\r\n\t\t\t\tvisible: false,\r\n\t\t\t})\r\n\t\t\t// 因为在头部的时候，设置用户名之后，登陆和注册按钮都没了。同时，弹窗动画还没隐藏，所以会报错，节点被删除，但是事件还未完成\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetUsername(user_name)\r\n\t\t\t\tupdateComData({is_async})\r\n\t\t\t\tsetReplyNum(check_reply_num)\r\n\t\t\t\t\r\n\t\t\t\t// 需要在不同的路由配置不同的回调\r\n\t\t\t\tconst pht = pathType(pathname)\r\n\t\t\t\tif (pht === 'home') {\r\n\t\t\t\t\teventBus.emit('login#content')\t// 获取列表内容\r\n\t\t\t\t} else if (pht === 'sitedetail') {\r\n\t\t\t\t\teventBus.emit('login#siteDetail')\t// 获取网页详情\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}, 30)\r\n\t\t}).catch(res => {\r\n\t\t\tthis.refreshCode()\r\n\t\t}).finally(res => this.setState({confirmLoading: false}))\r\n\t};\r\n\t\r\n\r\n\thandleCancel = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t\t\r\n\t};\r\n\t\r\n\r\n\t/*componentDidMount () {\r\n\t\tconsole.log(process.env)\r\n\t\tthis.props.getCatalogList();\r\n\t}*/\r\n\r\n\tnameChange = e => {\r\n\t\t// isLegal\r\n\t\tconst name = e.target.value;\r\n\t\t// console.log(name, !name)\r\n\t\tthis.setState({\r\n\t\t\tname,\r\n\t\t\tisNameError: !name,\r\n\t\t\tisNameFirst: false\r\n\t\t})\r\n\t}\r\n\tnameBlur = () => {\r\n\t\tthis.setState(prevState => ({isNameError: !isLegal(prevState.name)}))\r\n\t}\r\n\tpswChange = e => {\r\n\t\tconst password = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\tpassword,\r\n\t\t\tisPswError: !password, isPswFirst: false\r\n\t\t})\r\n\t}\r\n\tpswBlur = () => {\r\n\t\tthis.setState(prevState => ({isPswError: !pswTipText[2].isok(prevState.password)}))\r\n\t}\r\n\tcodeChange = e => {\r\n\t\tconst code = e.target.value\r\n\t\tthis.setState({\r\n\t\t\tcode,\r\n\t\t\tisCodeError: !trim(code), \r\n\t\t\tisCodeFirst: false\r\n\t\t})\r\n\t}\r\n\t\r\n\t/*codeBlur = () => {\r\n\t\tthis.setState(prevState => ({isCodeError: !prevState.code}))\r\n\t}*/\r\n\trefreshCode = () => {\r\n\t\tthis.setState({\r\n\t\t\tcodeurl: imgUrl + '/getCaptcha?r='+Math.random()\r\n\t\t})\r\n\t}\r\n\r\n\t\r\n\trender() {\r\n    const { \r\n    \tvisible, confirmLoading, name, password, code, codeurl, \r\n    \tisNameError, isPswError, isCodeError, \r\n    \tisNameFirst, isPswFirst, isCodeFirst \r\n    } = this.state;\r\n\t\t// console.log(isNameError, isPswError, isCodeError)\r\n    return (\r\n    \t<Fragment>\r\n    \t\t<Button onClick={this.open} type=\"link\">登录</Button>\r\n\t      <Modal\r\n\t      \twidth={400}\r\n\t\t\t\t\ttitle=\"登录\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\t// confirmLoading={confirmLoading}\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t\tonOk={this.handleOk}\r\n\t\t\t\t\t// okText=\"确定\"\r\n\t\t\t\t\t// cancelText=\"取消\"\r\n\t\t\t\t\tfooter={null}\r\n\t      >\r\n\t        <div className=\"self-wrapper\">\r\n\t        \r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>用户名</label><Input className={isNameError && 'error'} placeholder=\"用户名/邮箱\" onBlur={this.nameBlur} onChange={this.nameChange} value={name} />\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisNameError && <p className=\"error-tip\">用户名不能包含空格及不能为空</p>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>密码</label><Input.Password className={isPswError && 'error'} placeholder=\"请输入密码\" onBlur={this.pswBlur} onChange={this.pswChange} value={password} />\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisPswError && <p className=\"error-tip\">密码不能包含空格及不能为空</p>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>验证码</label>\r\n\t\t\t\t\t\t\t<div className=\"inline\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"请输入右侧验证码\" onChange={this.codeChange} value={code} style={{width: 150}} />\r\n\t    \t\t\t\t\t\t<span className=\"link-a\" onClick={this.refreshCode}><img className=\"code\" src={codeurl} alt=\"验证码\" /></span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tisCodeError && <p className=\"error-tip\">验证码不能为空</p>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line\">\r\n\t\t\t\t\t\t\t<Button style={{width: '100%'}} disabled={(isNameFirst || isPswFirst || isCodeFirst) ? true : (isNameError || isPswError || isCodeError)} type=\"primary\" loading={confirmLoading} onClick={this.handleOk} >登录</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line\">\r\n\t\t\t\t\t\t\t<RestPsw handleOpen={this.handleCancel} />\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t        </div>\r\n\t      \t\r\n\t      </Modal>\r\n    \t</Fragment>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tsetUsername (name) {\r\n\t\t\treturn dispatch(setUsername(name))\r\n  \t},\r\n  \tsetReplyNum (num) {\r\n  \t\treturn dispatch(setReplyNum(num))\r\n  \t},\r\n  \tupdateComData (data) {\r\n  \t\treturn dispatch(updateComData(data))\r\n  \t}\r\n  };\r\n};\r\nexport default connect(null, mapDispatchToProps)(Login);\r\n","import React, { Component } from 'react';\r\nimport './BraftEditorMax.scss'\r\n// 把UPDATE_DATA 修改一下 改成函数，不要到处写\r\nimport BraftEditor from 'braft-editor'\r\nimport { ContentUtils } from 'braft-utils'\r\n\r\nclass BraftEditorMax extends Component {\r\n\r\n\thandleChange = val => {\r\n\t\tconst { maxLen, value } = this.props\r\n\t\tif (value.toText().length > maxLen) {\r\n\t\t\tval = ContentUtils.insertText(ContentUtils.clear(value), val.toText().slice(0, maxLen))\r\n\t\t}\r\n\t\tthis.props.onChange(val)\r\n\t}\r\n\r\n\trender () {\r\n\t\tconst { value, maxLen } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"diy-edit-max\">\r\n        <BraftEditor\r\n          {...this.props}\r\n        />\r\n        <span className=\"diy-tip\">{value.toText().length}/{maxLen}</span>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default BraftEditorMax;","import React, { Component, createRef } from 'react';\n// import {connect} from 'react-redux'\nimport {message, Modal, Button, Input, Select, Popover } from 'antd';\n// import './AddWebSite.scss';\nimport { addSite, editSite, /*getCatalogList*/ } from '@/store/actions'\nimport {\n\tisLegal,\n\tgetBase64,\n\tgetStrChartLen,\n\tcheckUrl,\n\t// trim\n} from '@/common/common'\n\nimport {\n\tsiteNameTip,\n\tsiteNameErrorText,\n\tMAX_SIT_NAME,\n\t// siteDescTip,\n\tMAX_SIT_DESC,\n\tsiteErrorText,\n\n\tsiteImgTip,\n\tMAX_IMG_SIZE,\n\tsiteImgErrorText,\n\n\tdescControls\n} from '@/common/constant'\nimport ReactDOM from 'react-dom';\nimport imgUrl from '@/common/api'\n// import defaultImg from './default-cover.jpg';\nimport defaultImg from '@/assets/images/black-hole.png';\n// import cookie from 'react-cookies'\nimport BraftEditor from 'braft-editor'\nimport { ContentUtils } from 'braft-utils'\nimport BraftEditorMax from '@/commonComp/BraftEditorMax'\n\n// const { TextArea } = Input;\nconst { Option } = Select;\n\n\nclass AddWebSite extends Component {\n\t\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.fileInput = createRef();\n\t\tconst desc = BraftEditor.createEditorState('');\n\t\tthis.initData = {\n\t\t\tname: '',\n\t\t\turl: 'http://',\n\t\t\tdesc: ContentUtils.clear(desc),\t\t// 清除改变值，会触发descChange方法\n\t\t  imgfiles: null,\n\t\t\tcatalog: [],\n\t\t\timg: '',\t// 图片地址\n\t\t\tpreviewImage: null,\t// 图片地址\n\t\t\ttags: [],\n\n\t\t\tnameError: -1,\n\t\t\tisUrlError: false,\n\n\t\t\tdescError: -1,\n\t\t\t// isDescError: false,\n\t\t\timgError: -1,\n\t\t\t// isImgError: -1,\n\t\t\tisNameFirst: true,\n\t\t\tisUrlFirst: true,\n\t\t\tisDescFirst: true,\n\t\t\tisImgFirst: true,\n\t\t\tisCatalogFirst: true,\n\t\t\tisTagFirst: true,\n\t\t\t\n\t\t}\n\t\tthis.state = {\n\t\t\tvisible: false,\n\t\t\tconfirmLoading: false,\n\t\t\t\n\t\t\t...this.initData,\n\t\t\t// data: {},\n\t\t\tcatalogList: [],\n\t\t\t// isEdit: props.isEdit\n\t\t};\n\t}\n\t\n\n\t// showModal = config => {\n\topen = config => {\n\t\t// console.log(this.state)\n\t\t/*const initData = {\n\t\t\tname: '',\n\t\t\turl: '',\n\t\t\tdesc: '',\n\t\t  imgfiles: null,\n\t\t\tcatalog: [],\n\t\t\timg: '',\t// 图片地址\n\t\t}*/\n\t\tthis.setState({\n\t\t\t// desc: '123',\n\t\t  visible: true,\n\t\t\t// ...initData,\n\t\t\t// descError: -1,\t\t// 因为\n\t\t  ...config,\n\t\t  desc: ContentUtils.insertHTML(this.state.desc, config.desc),\n\t\t});\n\t\t/*axios.get('/api/ip').then((res) => {\n\t\t\tconsole.log(res)\n\t\t})*/\n\t};\n\t\n\thandleSite = (status) => {\n\t\tthis.setState({confirmLoading: true})\n\t\tconst { isEdit } = this.props\n\t\tconst { name, url, desc, imgfiles, catalog, handleOk, /*handleError,*/ _id, img, tags } = this.state;\n\t\t// console.log(tags)\n\t\t\n\t\tlet formData = new FormData();\n\t\tformData.append('name', name);\n\t\tformData.append('url', url);\n\t\tformData.append('desc', desc.toHTML());\n\t\tformData.append('status', status);\n\t\t// formData.append('orgStatus', orgStatus);\n\t\tcatalog.forEach((it, index) => {\n\t\t\tformData.append(`catalog`, parseInt(it));\n\t\t})\n\t\ttags.forEach((it, index) => {\n\t\t\tformData.append(`tags`, it);\n\t\t})\n\n\t\tif (isEdit) {\n\t\t\tformData.append('_id', _id);\n\t\t\tif (imgfiles) {\n\t\t\t\tformData.append('img', imgfiles[0])\n\t\t\t} else {\n\t\t\t\tformData.append('img', img)\n\t\t\t}\n\t\t} else {\n\t\t\timgfiles && formData.append('img', imgfiles[0]);\n\t\t}\n\t\t// catalog.length > 0 && formData.append('catalog', catalog.join(','));\n\t\t// tags.length > 0 && formData.append('tags', tags.join(','));\n\t\t// window.abc = formData;\n\t\t;(isEdit ? editSite : addSite)(formData).then(data => {\n\t\t\t// return;\n\t\t\thandleOk && handleOk();\n\t\t\tthis.handleOver();\n\t\t\tmessage.success(data.resultMessage)\n\t\t})/*.catch(res => {\n\t\t\thandleError && handleError(res);\n\t\t})*/.finally(data => {\n\t\t\tthis.setState({confirmLoading: false})\n\t\t})\n\t}\n\thandleOver = () => {\n\t\t\n\t\tthis.setState({\n\t\t\t...this.initData,\n\t\t  visible: false,\n\t\t});\n\t}\n\t// 上架\n\thandleSure = () => {\n\t\tthis.handleSite(1)\n\t};\n\t// 草稿\n\thandleDraft = () => {\n\t\tthis.handleSite(2)\n\t};\n\n\thandleCancel = () => {\n\t\tconst { isEdit } = this.props;\n\t\t// console.log(this.initData)\n\t\tif (isEdit) {\n\t\t\tthis.setState({\n\t\t\t\t...this.initData,\n\t\t\t\tvisible: false,\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tvisible: false,\n\t\t\t});\n\t\t}\n\t\t\n\t};\n\t\n\tcheckName = (name) => {\n\t\tconst nameStrlen = getStrChartLen(name);\n\t\tlet flag = -1\n\t\tif (nameStrlen > MAX_SIT_NAME) {\n\t\t\tflag = 0\n\t\t} else if (!isLegal(name)) {\n\t\t\tflag = 1\n\t\t} else if (name.length === 0) {\n\t\t\tflag = 2\n\t\t}\n\t\treturn flag;\n\t}\n\t\n\n\t/*componentDidMount () {\n\t\tconsole.log(process.env)\n\t\tthis.props.getCatalogList();\n\t}*/\n\n\tnameChange = e => {\n\t\tconst name = e.target.value;\n\t\tthis.setState({\n\t\t\tname,\n\t\t\tnameError: this.checkName(name),\n\t\t\tisNameFirst: false,\n\t\t})\n\t}\n\tnameBlur = () => {\n\t\tthis.setState({\n\t\t\tnameError: this.checkName(this.state.name)\n\t\t})\n\t}\n\t\n\turlChange = e => {\n\t\tconst url = e.target.value\n\t\tthis.setState({\n\t\t\turl,\n\t\t\tisUrlFirst: false,\n\t\t\tisUrlError: !checkUrl(url)\n\t\t})\n\t}\n\turlBlur = () => {\n\t\tthis.setState({\n\t\t\tisUrlError: !checkUrl(this.state.url)\n\t\t})\n\t}\n\tcheckImg (file) {\n\t\tlet flag = -1;\n\t\tif (file.size > MAX_IMG_SIZE) {\n\t\t\tflag = 1\n\t\t} else if (file.type.indexOf('image') === -1) {\n\t\t\tflag = 0\n\t\t}\n\t\treturn flag;\n\t}\n\tfileChange = e => {\n\t\tlet files;\n    if (e.dataTransfer) {\n      files = e.dataTransfer.files;\n    } else if (e.target) {\n      files = e.target.files;\n    }\n\t\tconst [file] = files\n\t\tconst imgError = this.checkImg(file);\n\t\tif (imgError !== -1) {\n\t\t\tthis.setState({\n\t\t\t\timgError\n\t\t\t})\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\timgfiles: files,\n\t\t\tisImgFirst: false,\n\t\t\timgError: -1,\n\t\t})\n\t\tgetBase64(file).then(res => {\n\t\t\t// console.log(res)\n\t\t\tthis.setState({\n\t\t\t\tpreviewImage: res\n\t\t\t})\n\t\t\tthis.fileInput.current.setAttribute('type', 'text');\n\t\t\tthis.fileInput.current.setAttribute('type', 'file');\n\t\t})\n\t\t// console.log(this.fileInput)\n\t\t\n\t}\n\t/*descChange = e => {\n\t\tconst desc = e.target.value\n\t\tthis.setState({\n\t\t\tdesc,\n\t\t\tisDescFirst: false,\n\t\t})\n\t}*/\n\n\tdescCheck = desc => {\n\t\t// const strlen = desc.toText().length;\n\t\tlet flag = -1\n\t\t/*if (strlen > MAX_SIT_DESC) {\n\t\t\tflag = 0\n\t\t} else */if (desc.isEmpty()) {\n\t\t\tflag = 1;\n\t\t}\n\t\treturn flag;\n\t}\n\thandleDescChange = (desc) => {\n    this.setState({\n      desc,\n      descError: this.descCheck(desc),\n      // descError: desc.isEmpty() ? 1 : -1,\n      isDescFirst: false,\n      // outputHTML: editorState.toHTML()\n    })\n  }\n\tdescBlur = () => {\n\t\tconst { desc } = this.state;\n\t\tthis.setState({\n\t\t\tdescError: this.descCheck(desc)\n\t\t})\n\t}\n\n\tcatalogChange = catalog => {\n\t\t// console.log(catalog)\n\t\tif (catalog.length > 3) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({\n\t\t\tcatalog,\n\t\t\tisCatalogFirst: false\n\t\t})\n\t}\n\ttagChange = tags => {\n\t\tif (tags.length > 5) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({tags, isTagFirst: false})\n\t}\n\n\t\n\trender() {\n    const { \n    \tvisible, confirmLoading, name, url, desc, catalog, catalogList, img, previewImage, tags,\n    \tnameError, isUrlError, imgError, descError,\n    \tisNameFirst, isUrlFirst, isImgFirst, isDescFirst, isCatalogFirst, isTagFirst\n    } = this.state;\n\t\tconst { isEdit } = this.props;\n    return (\n      <Modal\n      \twidth={700}\n      \tfooter={(\n      \t\t<div>\n      \t\t\t<Button onClick={this.handleCancel}>取消</Button>\n        \t\t<Button \n\t\t\t\t\t\t\tdisabled={(isNameFirst || isUrlFirst) ? true : (nameError!==-1 || isUrlError)}\n        \t\t\tloading={confirmLoading} onClick={this.handleDraft} type=\"primary\"\n        \t\t>保存为草稿</Button>\n        \t\t<Button \n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t(isNameFirst || isUrlFirst || isImgFirst || isDescFirst || isCatalogFirst || isTagFirst) \n\t\t\t\t\t\t\t\t? true \n\t\t\t\t\t\t\t\t: (nameError!==-1 || isUrlError || isUrlError || descError !== -1 || imgError !== -1 || catalog.length === 0 || tags.length === 0)\n\t\t\t\t\t\t\t}\n        \t\t\tloading={confirmLoading} onClick={this.handleSure} type=\"primary\"\n        \t\t>上架</Button>\n      \t\t</div>\n      \t)}\n      \tbodyStyle={{padding: 0}}\n\t\t\t\tclassName=\"self-modal-wrapper\"\n\t\t\t\ttitle={(isEdit ? '编辑' : '新增')+'网站'}\n\t\t\t\tvisible={visible}\n\t\t\t\tmaskClosable={false}\n\t\t\t\tconfirmLoading={confirmLoading}\n\t\t\t\tonCancel={this.handleCancel}\n\t\t\t\t// onOk={this.handleSure}\n\t\t\t\t// okText=\"提交\"\n\t\t\t\t// cancelText=\"取消\"\n      >\n        <div className=\"self-wrapper flex\">\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>名称</label>\n\t\t\t\t\t\t<div className=\"self-text-wrapper\">\n\t\t\t\t\t\t\t<Popover placement=\"topLeft\" content={<div>{siteNameTip}</div>} trigger=\"focus\">\n\t\t\t\t\t\t\t\t<Input className={nameError !== -1 && 'error'} onBlur={this.nameBlur} onChange={this.nameChange} value={name} />\n\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnameError !== -1 && <p className=\"error-tip\">{siteNameErrorText[nameError]}</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>地址</label>\n\t\t\t\t\t\t<div className=\"self-text-wrapper\">\n\t\t\t\t\t\t\t<Input className={isUrlError && 'error'} onBlur={this.urlBlur} onChange={this.urlChange} value={url} />\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tisUrlError && <p className=\"error-tip\">网址不合法</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>描述</label>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"self-text-wrapper\">\n\t\t\t\t\t\t\t<BraftEditorMax \n                controls={descControls}\n          \t\t\tclassName={\"normal-edit \" + (descError !== -1 ? 'error' : '')}\n\t\t            value={desc}\n                maxLen={MAX_SIT_DESC} \n                onBlur={this.descBlur}\n                onChange={this.handleDescChange} \n              />\n\t\t\t\t\t\t\t\n\t\t          {\n\t\t\t\t\t\t\t\tdescError !== -1 && <p className=\"error-tip\">{siteErrorText[descError]}</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>图片</label>\n\t\t\t\t\t\t<div className=\"self-text-wrapper\">\n\t\t\t\t\t\t\t{visible && <input ref={this.fileInput} id=\"uploadImg\" type=\"file\" style={{display: 'none'}} onChange={this.fileChange} accept=\"image/*\"/>}\n\t\t\t\t\t\t\t<Popover placement=\"topLeft\" content={<div>{siteImgTip}</div>} trigger=\"hover\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"uploadImg\" className=\"img-ctn\">\n\t\t\t\t\t\t\t\t\t<img src={ previewImage ? previewImage : img ? (imgUrl + img) : defaultImg } alt=\"\"/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\timgError !== -1 && <p className=\"error-tip\">{siteImgErrorText[imgError]}</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>分类</label>\n\t\t\t\t\t\t<Select\n\t\t\t  \t\t\tmode=\"multiple\"\n\t\t        \tplaceholder=\"请选择网站分类, 最多3个\"\n\t\t        \tdefaultActiveFirstOption={false}\n\t\t        \t// filterOption={(val, opt) => !!opt}\n\t\t        \tvalue={catalog.map(n => n+'')}\n\t\t        \tonChange={this.catalogChange}\n\t\t        \tstyle={{ width: '100%' }}\n\t\t\t      >\n\t\t\t        {\n\t\t\t        \tcatalogList.map(it => <Option key={it._id}>{it.name}</Option>)\n\t\t\t        }\n\t\t        </Select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>标签</label>\n\t\t\t\t\t\t<Select\n\t\t\t  \t\t\tmode=\"tags\"\n\t\t        \tplaceholder=\"请输入网站标签, 最多5个\"\n\t\t        \t// defaultActiveFirstOption={false}\n\t\t        \t// filterOption={(val, opt) => !!opt}\n\t\t        \tvalue={tags}\n\t\t        \tonChange={this.tagChange}\n\t\t        \tstyle={{ width: '100%' }}\n\t\t\t      >\n\t\t        </Select>\n\t\t\t\t\t</div>\n        </div>\n      \t\n      </Modal>\n\t  );\n\t}\n}\n\n/*\nconst mapStateToProps = state => {\n\tconst {catalogList} = state.systemComp\n\n  return {\n  \tcatalogList: catalogList.slice(1),\n  };\n};\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  \tgetCatalogList (params) {\n\t\t\treturn dispatch(getCatalogList(params))\n  \t},\n  };\n};\nAddWebSite = connect(mapStateToProps, mapDispatchToProps)(AddWebSite)*/\n\nlet div = document.createElement('div');\n// let props = {};\ndocument.body.appendChild(div);\n \nlet addWebSite = ReactDOM.render(React.createElement(\n    AddWebSite,\n    {\n    \tisEdit: false\n    }\n),div);\n\n\nlet div2 = document.createElement('div');\ndocument.body.appendChild(div2);\n\nlet editWebSite = ReactDOM.render(React.createElement(\n    AddWebSite,\n    {\n    \tisEdit: true\n    }\n),div2);\n\n\nexport {\n\taddWebSite,\n\teditWebSite\n};","import React, { Component, Fragment } from 'react';\r\n// import { isSystemPage } from '@/common/common'\r\nimport { connect } from 'react-redux'\r\nimport Register from '@/commonComp/logReg/Register'\r\nimport Login from '@/commonComp/logReg/Login'\r\nimport { addWebSite } from '@/components/AddWebSite/AddWebSite'\r\nimport { isLogOverdue } from '@/common/common'\r\n// import cookie from 'react-cookies'\r\nimport { withRouter } from \"react-router\";\r\nimport { setUsername, updateSiteMngData, getSiteList, getAllCatalog, getTop10SiteList, updateComData, dispatchCatalogList } from '@/store/actions'\r\nimport { Link } from \"react-router-dom\";\r\nimport { Dropdown, Menu, Input, Button } from 'antd'\r\nimport { removeLoginCookie } from '@/commonComp/logReg/loginCookie'\r\nimport './Header.scss'\r\nimport { AccountNavRoute } from '@/common/Routers'\r\n// import { LOG_OVERDUE_CODE } from '@/common/constant'\r\nimport logo from '@/assets/images/logo.png'\r\nimport eventBus from '@/common/eventBus'\r\n// import CurContext from '@/components/ComContent/cur-context'\r\n\r\n\r\nclass Header extends Component {\r\n\r\n  componentDidMount () {\r\n    this.props.getAllCatalog()\r\n    this.props.getTop10SiteList()\r\n    this.props.dispatchCatalogList()\r\n    eventBus.on('logout#clear', res => {\r\n      // console.log(res)\r\n      if (isLogOverdue(res)) {\r\n        this.clear()\r\n      }\r\n    })\r\n    eventBus.on('logout#toHome', (res) => {\r\n      if (isLogOverdue(res)) {\r\n        this.toHome();\r\n      }\r\n    })\r\n\r\n    // console.log('header did mount')\r\n    // console.log(this.props)\r\n  }\r\n  \r\n  clear = () => {\r\n    removeLoginCookie();\r\n    this.props.setUsername('')\r\n  }\r\n\r\n  toHome = () => this.props.history.replace('/')\r\n\r\n  logout = () => {\r\n    this.clear();\r\n    this.toHome();\r\n  }\r\n  addNewSite = () => {\r\n    // const { catalog } = this.state;\r\n    // const catalog = parseInt(this.props.match.params.catalog) || -1\r\n    const { getSiteList, catalogList, pageIndex, pageSize, status, catalog, setUsername } = this.props\r\n    addWebSite.open({\r\n      catalogList,\r\n      handleOk () {\r\n        getSiteList({ catalog, status, pageIndex, pageSize, isTotal: true, is_edit: true });\r\n      }/*,\r\n      handleError (res) {\r\n        if (isLogOverdue(res)) {\r\n          setUsername('')\r\n        }\r\n      }*/\r\n    });\r\n  }\r\n  \r\n  \r\n  // 搜索框\r\n  onSearch = value => {\r\n    const { location, history, isSystem, catalog } = this.props;\r\n  \r\n    history.push((isSystem ? '/system' : '') + '/' + (catalog === -1 ? 0 : catalog) +'/'+value)\r\n    /*const { updateSiteMngData } = this.props\r\n    // const catalog = parseInt(match.params.catalog) || -1\r\n    const { getSiteList, pageIndex, pageSize, status, catalog, isSystem } = this.props\r\n    const search = value\r\n    updateSiteMngData({\r\n      search \r\n    })\r\n    getSiteList({ catalog, status, pageIndex, pageSize, search, isTotal: true, is_edit: isSystem });*/\r\n  }\r\n\r\n  routerClick = () => {\r\n    const { isSystem } = this.props;\r\n    if (!isSystem) {\r\n      return\r\n    }\r\n    this.props.updateSiteMngData({\r\n      isSystem: false\r\n    })\r\n  }\r\n\r\n\trender() {\r\n    const { check_reply_num=0, isSystem, is_async, location: {pathname} } = this.props\r\n    // const isSystem = isSystemPage(match);\r\n    // const { checkReplyNum } = this.state;\r\n\r\n    const menu = (\r\n      <Menu className=\"user-setting-list\">\r\n        <Menu.Item><Link onClick={this.routerClick} to=\"/collect\">我的收藏</Link></Menu.Item>\r\n        <Menu.Item><Link onClick={this.routerClick} to=\"/replyme\">回复我的({check_reply_num})</Link></Menu.Item>\r\n        <Menu.Item><Link onClick={this.routerClick} to={AccountNavRoute[0].path} >账号管理</Link></Menu.Item>\r\n        <Menu.Item><Link to=\"/system/0\">页面管理</Link></Menu.Item>\r\n        <Menu.Item><span className=\"link-a\" onClick={this.logout}>退出</span></Menu.Item>\r\n      </Menu>\r\n    )\r\n\t\tconst { user_name } = this.props\r\n    return (\r\n      <div className=\"header\">\r\n        <div className=\"max-container\">\r\n          <div className=\"logo-ctn\">\r\n            <Link className=\"logo\" to=\"/\"><img src={logo} alt=\"首页\"/></Link>\r\n            <ul className=\"top-nav-list\">\r\n              <li><Link onClick={this.routerClick} to=\"/\">首页</Link></li>\r\n              <li><Link onClick={this.routerClick} to=\"/feedback\">用户体验</Link></li>\r\n              {\r\n                is_async && \r\n                <Fragment>\r\n                  <li><Link onClick={this.routerClick}  to=\"/catalogmng\" >分类管理</Link></li>\r\n                  <li><Link onClick={this.routerClick}  to=\"/noticemng\" >公告管理</Link></li>\r\n                </Fragment>\r\n              }\r\n            </ul>\r\n          </div>\r\n          <div className=\"user-ctn\">\r\n            <Input.Search placeholder=\"请输入关键词\" onSearch={this.onSearch} style={{width: 200}}  enterButton />\r\n          \t{\r\n              user_name \r\n              ? (<Fragment>\r\n                  {\r\n                    isSystem && \r\n                      <Button type=\"link\" onClick={this.addNewSite}>新增网站</Button>\r\n                  }\r\n\r\n                  <Dropdown overlay={menu} placement=\"bottomRight\" >\r\n                    <Button type=\"link\" className=\"user-btn\">{user_name}({check_reply_num})</Button>\r\n                  </Dropdown>\r\n                </Fragment>) \r\n              : (<Fragment><Login pathname={pathname} /><Register /></Fragment>)\r\n            }\r\n          </div>\r\n        </div>\r\n        \r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n\tconst { user_name, check_reply_num, is_async } = state.com\r\n  const { pageIndex, pageSize, catalogList, status, catalog, isSystem } = state.siteMng\r\n  return {\r\n  \tuser_name, check_reply_num, is_async,\r\n    pageIndex, pageSize, catalogList, status, catalog, isSystem\r\n  };\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tsetUsername (name) {\r\n\t\t\treturn dispatch(setUsername(name))\r\n  \t},\r\n    updateSiteMngData (data) {\r\n      return dispatch(updateSiteMngData(data))\r\n    },\r\n    getSiteList (params) {\r\n      return dispatch(getSiteList(params))\r\n    },\r\n    dispatchCatalogList (params) {\r\n      return dispatch(dispatchCatalogList(params))\r\n    },\r\n    getAllCatalog (params) {\r\n      return dispatch(getAllCatalog(params))\r\n    },\r\n    getTop10SiteList (params) {\r\n      return dispatch(getTop10SiteList(params))\r\n    },\r\n  };\r\n};\r\n// Header = connect(mapStateToProps, mapDispatchToProps)(Header)\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));\r\n","import React, { Component, Fragment } from 'react';\r\nimport './Footer.scss'\r\n\r\nclass Footer extends Component {\r\n\r\n\trender() {\r\n    const year = new Date().getFullYear();\r\n    return (\r\n      <div className=\"footer\">\r\n        <div className=\"max-container\">\r\n          ©{year} ∵\r\n        </div>\r\n        \r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default Footer;\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport { Menu } from 'antd';\r\nimport { Link } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n// import { isSystemPage } from '@/common/common'\r\n// import { updateSiteMngData } from '@/store/actions'\r\n\r\n// const { SubMenu } = Menu;\r\n\r\nclass RightNav extends Component {\r\n\t/*constructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tkeys: props.defaultSelectedKeys\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount () {\r\n\t\tthis.props.getCatalogList();\r\n\t}*/\r\n\t/*rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\r\n  state = {\r\n    openKeys: ['sub1'],\r\n  };*/\r\n\r\n  /*onOpenChange = openKeys => {\r\n    const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\r\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n      this.setState({ openKeys });\r\n    } else {\r\n      this.setState({\r\n        openKeys: latestOpenKey ? [latestOpenKey] : [],\r\n      });\r\n    }\r\n  };*/\r\n\trender () {\r\n\t\tconst { catalogListSite, match: { params: { catalog, search='' } }, isSystem } = this.props;\r\n\t\t// console.log(match.params.catalog)\r\n    // const isSystem = isSystemPage(match)\r\n\t\treturn (\r\n      <div className=\"nav-list catalog-nav\">\r\n        <div className=\"title\">分类</div>\r\n  \t\t\t<Menu\r\n          // mode=\"inline\"\r\n          // theme=\"dark\"\r\n          selectedKeys={[catalog]}\r\n          // onOpenChange={this.onOpenChange}\r\n          // onSelect={onSelect}\r\n          style={{ width: 256 }}\r\n        >\r\n        \t{\r\n        \t\tcatalogListSite.map(({_id, name, total}) => \r\n              <Menu.Item key={_id}>\r\n                <Link to={(isSystem ? '/system' : '') + '/' + _id + '/' + search} >{name} { total && !isSystem ? `(${total})` : ''}</Link>\r\n              </Menu.Item>\r\n            )\r\n        \t}\r\n          \r\n        </Menu>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = state => {\r\n\tconst { catalogListSite } = state.siteMng\r\n  // const total = catalogListSite.reduce((a, p) => a + p.total, 0)\r\n  return {\r\n  \tcatalogListSite: [{_id: 0, name: '全部'} ,...catalogListSite],\r\n  };\r\n};\r\n\r\n\r\n/*const mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tupdateSiteMngData (data) {\r\n\t\t\treturn dispatch(updateSiteMngData(data))\r\n  \t},\r\n  };\r\n};*/\r\nexport default withRouter(connect(mapStateToProps, null)(RightNav));\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport { Menu } from 'antd';\r\n// import { withRouter } from \"react-router\";\r\nimport { statusArr } from '@/common/constant'\r\nimport { getSiteList, updateSiteMngData } from '@/store/actions'\r\n\r\n// const { SubMenu } = Menu;\r\n\r\nclass StatusNav extends Component {\r\n\t\r\n  onSelect = (a, b, c) => {\r\n    const { pageSize, catalog, search } = this.props;\r\n    const { updateDate, getSiteList } = this.props;\r\n    const status = parseInt(a.key)\r\n    updateDate({\r\n      status,\r\n      pageIndex: 1\r\n    })\r\n    getSiteList({catalog, status, pageIndex: 1, pageSize, search, isTotal: true, is_edit: true});\r\n    // console.log(a, b, c)\r\n  }\r\n\trender () {\r\n\t\tconst { status } = this.props;\r\n\t\t// console.log(match.params.catalog)\r\n\t\treturn (\r\n      <div className=\"nav-list status-nav\">\r\n        <div className=\"title\">状态</div>\r\n  \t\t\t<Menu\r\n          // mode=\"inline\"\r\n          // theme=\"dark\"\r\n          selectedKeys={[status+'']}\r\n          // onOpenChange={this.onOpenChange}\r\n          onSelect={this.onSelect}\r\n          style={{ width: 256 }}\r\n        >\r\n        \t{\r\n        \t\t[{id: -1, name: '全部'}, ...statusArr].map(({id, name}) => <Menu.Item key={id}>{name}</Menu.Item>)\r\n        \t}\r\n          \r\n        </Menu>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = state => {\r\n  const { pageSize, catalog, status, search } = state.siteMng\r\n  return {\r\n    pageSize, catalog, search,\r\n    status,\r\n  };\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    updateDate (data) {\r\n      return dispatch(updateSiteMngData(data))\r\n    },\r\n  \tgetSiteList (params) {\r\n      return dispatch(getSiteList(params))\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StatusNav);\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\n// import { Menu } from 'antd';\r\nimport { Link } from \"react-router-dom\";\r\n// import { getTop10SiteList } from '@/store/actions'\r\nimport { addView } from '@/store/actions'\r\n\r\n// const { SubMenu } = Menu;\r\n\r\nclass Top10Site extends Component {\r\n\t/*constructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tkeys: props.defaultSelectedKeys\r\n\t\t}\r\n\t}\r\n\t*/\r\n\t/*rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\r\n  state = {\r\n    openKeys: ['sub1'],\r\n  };*/\r\n\r\n  /*onOpenChange = openKeys => {\r\n    const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\r\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n      this.setState({ openKeys });\r\n    } else {\r\n      this.setState({\r\n        openKeys: latestOpenKey ? [latestOpenKey] : [],\r\n      });\r\n    }\r\n  };*/\r\n  /*componentDidMount () {\r\n    console.log('Top10Site mounted')\r\n  }*/\r\n\trender () {\r\n\t\tconst { top10List } = this.props;\r\n\t\treturn (\r\n      <div className=\"top10-list nav-list\">\r\n        <div className=\"title\">本月最热</div>\r\n  \t\t\t<ul\r\n          // mode=\"inline\"\r\n          // theme=\"dark\"\r\n          // defaultSelectedKeys={this.props.defaultSelectedKeys}\r\n          // onOpenChange={this.onOpenChange}\r\n          // onSelect={onSelect}\r\n          style={{ width: 256 }}\r\n        >\r\n        \t{\r\n        \t\ttop10List.map(({_id, name, url}) => \r\n              <li key={_id}>\r\n                <Link className=\"underline\" to={'/sitedetail/'+_id} onClick={() => addView({_id})}>{name}</Link>\r\n              </li>)\r\n        \t}\r\n          \r\n        </ul>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = state => {\r\n\tconst { top10List } = state.siteMng\r\n  return {\r\n  \ttop10List,\r\n  };\r\n};\r\n\r\n\r\n/*const mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tgetTop10SiteList (params) {\r\n\t\t\treturn dispatch(getTop10SiteList(params))\r\n  \t},\r\n  };\r\n};*/\r\nexport default connect(mapStateToProps, null)(Top10Site);\r\n","import React, { Component, Fragment } from 'react';\r\nimport defaultFace from '@/assets/images/face.png'\r\nimport './Comment.scss'\r\nimport { Link } from \"react-router-dom\";\r\nimport { dateForNow } from '@/common/common'\r\nimport url from '@/common/api'\r\n\r\nclass Comment extends Component {\r\n \r\n  render() {\r\n    const { data, children, notOnlyShow } = this.props;\r\n    const { user_face, user_name, to_user_name, content, create_time, site_id } = data;\r\n\r\n    const contentDiv = <div className=\"comment-content-detail\" >{content}</div>\r\n    return (\r\n      <div className=\"comment-item\">\r\n        <div className=\"comment-box\">\r\n          <div className=\"comment-avatar\">\r\n            <img src={user_face ? url + user_face : defaultFace} alt=\"头像\"/>\r\n          </div>\r\n          <div className=\"comment-rich\">\r\n            <div className=\"comment-content-author\">\r\n              <span>{user_name}</span>\r\n              {to_user_name && <Fragment><b>回复:</b><span>{to_user_name}</span></Fragment>}\r\n              <span className=\"comment-content-author-time\">{notOnlyShow ? dateForNow(create_time) : create_time}</span>\r\n            </div>\r\n            {\r\n              notOnlyShow ? <Link to={'/sitedetail/'+site_id} className=\"underline\" >{contentDiv}</Link> : contentDiv\r\n            }\r\n            \r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Comment;\r\n","import React, { Component } from 'react';\r\nimport { getNewestCommit } from '@/store/actions'\r\nimport CommentItem from '@/commonComp/CommentItem'\r\n// import './NewestCommit.scss'\r\n\r\nclass NewestCommit extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      commitList: [],\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    getNewestCommit().then(({result}) => this.setState({ commitList: result }))\r\n  }\r\n \r\n\r\n  \r\n\r\n  render() {\r\n    const { commitList } = this.state;\r\n    return (\r\n      <div className=\"newest-comment-wrapper comment-container nav-list\">\r\n        <h3 className=\"title\">最新评论</h3>\r\n        <div className=\"comment-list\">\r\n          {\r\n            commitList.map(it => <CommentItem key={it._id} data={it} notOnlyShow={true} />)\r\n          }\r\n        </div>\r\n      </div>\r\n         \r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default NewestCommit;\r\n","import React, {Component} from 'react';\r\nimport { Menu } from 'antd';\r\nimport { Link } from \"react-router-dom\";\r\nimport { AccountNavRoute } from '@/common/Routers'\r\n\r\n\r\n\r\nclass AccountNav extends Component {\r\n\t\r\n\trender () {\r\n\t\t// const { catalogList, match } = this.props;\r\n\t\t// console.log(match.params.catalog)\r\n\t\treturn (\r\n      <div className=\"nav-list\">\r\n  \t\t\t<Menu\r\n          // mode=\"inline\"\r\n          // theme=\"dark\"\r\n          // selectedKeys={[match.params.catalog]}\r\n          // onOpenChange={this.onOpenChange}\r\n          // onSelect={onSelect}\r\n          style={{ width: 256 }}\r\n        >\r\n        \t{\r\n        \t\tAccountNavRoute.map(({path, name}, index) => <Menu.Item key={index}><Link to={path} >{name}</Link></Menu.Item>)\r\n        \t}\r\n          \r\n        </Menu>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default AccountNav;\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport { Menu } from 'antd';\r\nimport { Link } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n// import { isSystemPage } from '@/common/common'\r\nimport { getCatalogList } from '@/store/actions'\r\n\r\n// const { SubMenu } = Menu;\r\n\r\nclass CollectRightNav extends Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlist: []\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount () {\r\n    console.log('abcdefg')\r\n    getCatalogList({type: 'collect'}).then(res => {\r\n      const { list } = res.result\r\n      this.setState({ list: [{_id: 0, name: '全部'}, ...list] })\r\n    })\r\n\t\t \r\n\t}\r\n\t/*rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\r\n  state = {\r\n    openKeys: ['sub1'],\r\n  };*/\r\n\r\n  /*onOpenChange = openKeys => {\r\n    const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\r\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n      this.setState({ openKeys });\r\n    } else {\r\n      this.setState({\r\n        openKeys: latestOpenKey ? [latestOpenKey] : [],\r\n      });\r\n    }\r\n  };*/\r\n\trender () {\r\n\t\tconst { list } = this.state;\r\n\t\t// console.log(match.params.catalog)\r\n    // const isSystem = isSystemPage(match)\r\n\t\treturn (\r\n      <div className=\"nav-list catalog-nav\">\r\n        <div className=\"title\">收藏分类</div>\r\n  \t\t\t<Menu\r\n          // mode=\"inline\"\r\n          // theme=\"dark\"\r\n          selectedKeys={['catalog']}\r\n          // onOpenChange={this.onOpenChange}\r\n          // onSelect={onSelect}\r\n          style={{ width: 256 }}\r\n        >\r\n        \t{\r\n        \t\tlist.map(({_id, name, total}) => \r\n              <Menu.Item key={_id}>\r\n                <Link to={'/collect/'+_id}>{name} { total ? `(${total})` : ''}</Link>\r\n              </Menu.Item>\r\n            )\r\n        \t}\r\n          \r\n        </Menu>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\n/*const mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tupdateSiteMngData (data) {\r\n\t\t\treturn dispatch(updateSiteMngData(data))\r\n  \t},\r\n  };\r\n};*/\r\nexport default withRouter(CollectRightNav);\r\n","import React, {Component} from 'react';\r\n// import {connect} from 'react-redux'\r\n// import { Menu } from 'antd';\r\n// import { Link } from \"react-router-dom\";\r\n// import { withRouter } from \"react-router\";\r\n// import { isSystemPage } from '@/common/common'\r\nimport { getNoticeList } from '@/store/actions'\r\n\r\n// const { SubMenu } = Menu;\r\n\r\nclass Notice extends Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdata: {}\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount () {\r\n    getNoticeList({pageIndex: 1, pageSize: 1}).then(res => {\r\n\r\n      this.setState({data: res.result.list[0] || {}})\r\n    })\r\n\t}\r\n\t/*rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\r\n  state = {\r\n    openKeys: ['sub1'],\r\n  };*/\r\n\r\n  /*onOpenChange = openKeys => {\r\n    const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\r\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n      this.setState({ openKeys });\r\n    } else {\r\n      this.setState({\r\n        openKeys: latestOpenKey ? [latestOpenKey] : [],\r\n      });\r\n    }\r\n  };*/\r\n\trender () {\r\n\t\tconst { data: { content, create_time } } = this.state;\r\n\t\t// console.log(match.params.catalog)\r\n    // const isSystem = isSystemPage(match)\r\n\t\treturn (\r\n      !!content && <div className=\"top-notice\">\r\n        <div className=\"title\">最新公告 </div>\r\n        <span className=\"time\" >发布时间： {create_time}</span>\r\n  \t\t\t<div>\r\n          <span className=\"time\">内容：</span>{content}\r\n        </div>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default Notice;\r\n","import React, { Component, Fragment } from 'react';\r\nimport RightNav from './RightNav'\r\nimport StatusNav from './StatusNav'\r\nimport Top10Site from './Top10Site'\r\nimport NewestCommit from './NewestCommit'\r\nimport AccountNav from './AccountNav'\r\nimport CollectRightNav from './CollectRightNav'\r\nimport Notice from './Notice'\r\n// import {connect} from 'react-redux'\r\n// import { Input } from 'antd';\r\n// import { withRouter } from \"react-router\";\r\n// import { connect } from 'react-redux'\r\n// import { updateSiteMngData } from '@/store/actions'\r\n\r\n\r\nimport './RightComp.scss';\r\n\r\nclass RightComp extends Component {\r\n  componentDidMount () {\r\n    // console.log(this.props)\r\n    console.log('RightComp did mount')\r\n  }\r\n  // 搜索框\r\n  /*onSearch = value => {\r\n    const { location, history, isSystem, match: { params: { catalog=0 } } } = this.props;\r\n  \r\n    history.push((isSystem ? '/system' : '') + '/' + catalog +'/'+value)\r\n  }*/\r\n\r\n  render () {\r\n\t\tconst { isSystem, isAccount, isCollect/*, match: { params: { search='' } }*/ } = this.props\r\n  \t// const { visible, confirmLoading } = this.state;\r\n  \t// console.log(current)\r\n  \treturn (\r\n\t\t\t<div className=\"right-content\">\r\n        <Notice />\r\n        {\r\n          isAccount \r\n          ? <AccountNav />\r\n          : (\r\n            <Fragment>\r\n              {/*<Input.Search className=\"search-btn\" placeholder=\"请输入关键词\" defaultValue={search} onSearch={this.onSearch} enterButton />*/}\r\n              {\r\n                isSystem ? <StatusNav /> : <Top10Site />\r\n              }\r\n              {\r\n                isCollect ? <CollectRightNav /> : <RightNav isSystem={isSystem} />\r\n              }\r\n              \r\n              <NewestCommit />\r\n            </Fragment>\r\n          )\r\n\r\n        }\r\n\t\t\t</div>\r\n\t  )\r\n  }\r\n}\r\n/*const mapStateToProps = state => {\r\n  const { catalogListSite } = state.siteMng\r\n  // const total = catalogListSite.reduce((a, p) => a + p.total, 0)\r\n  return {\r\n    catalogListSite: [{_id: 0, name: '全部'} ,...catalogListSite],\r\n  };\r\n};*/\r\n\r\n/*const mapStateToProps = state => {\r\n  const { search } = state.siteMng\r\n  return {\r\n    search\r\n  };\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    updateSiteMngData (data) {\r\n      return dispatch(updateSiteMngData(data))\r\n    },\r\n  };\r\n};*/\r\n// export default withRouter(RightComp);\r\nexport default RightComp;\r\n","import React from 'react';\r\n\r\nconst CurContext = React.createContext({\r\n  handleOk: () => {},\t\t// 获取网站列表\r\n  // collectClick: () => {},\t// 点击收藏\r\n});\r\nexport default CurContext;","import React, {Component} from 'react';\r\nimport { Modal } from 'antd';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Dialog extends Component {\r\n\tstate = {\r\n\t\tconfirmLoading: false,\r\n\t\tvisible: false,\r\n\t\ttitle: '',\r\n\t\tcontent: '',\r\n\t}\r\n\topen = (config={}) => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\t...config,\r\n\t\t})\r\n\t}\r\n\tshowLoading = () => {\r\n\t\tthis.setState({\r\n\t\t\tconfirmLoading: true,\r\n\t\t})\r\n\t}\r\n\thideLoading = () => {\r\n\t\tthis.setState({\r\n\t\t\tconfirmLoading: false,\r\n\t\t})\r\n\t}\r\n\tclose = () => {\r\n\t\tthis.setState({\r\n\t\t\tconfirmLoading: false,\r\n\t\t\tvisible: false,\r\n\t\t\tfooter: undefined,\r\n\t\t})\r\n\t}\r\n\trender () {\r\n\t\tconst {content} = this.state;\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\t{...this.state}\r\n\t\t\t  // title={title}\r\n\t\t\t  // footer={footer}\r\n\t\t\t  maskClosable={false}\r\n\t\t\t  // visible={visible}\r\n\t\t\t  // onOk={onOk}\r\n\t\t\t  // confirmLoading={confirmLoading}\r\n\t\t\t  okText=\"确定\"\r\n\t\t\t\tcancelText=\"取消\"\r\n\t\t\t  onCancel={this.close}\r\n\t\t\t>\r\n\t\t\t  <p>{content}</p>\r\n\t\t\t</Modal>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nlet div = document.createElement('div');\r\nlet props = {\r\n   \r\n};\r\ndocument.body.appendChild(div);\r\n \r\nlet Box = ReactDOM.render(React.createElement(\r\n    Dialog,\r\n    props\r\n),div);\r\n \r\nexport default Box;","import React, {Component} from 'react';\r\nimport { CloseOutlined, VerticalAlignBottomOutlined } from '@ant-design/icons'\r\nimport Dialog from '@/commonComp/Dialog'\r\nimport {connect} from 'react-redux'\r\nimport { message } from 'antd';\r\n// import cookie from 'react-cookies';\r\n// import url from '@/common/api'\r\nimport { NORMAL_CODE } from '@/common/constant'\r\nimport { delSite, updateSiteMngData, getSiteList } from '@/store/actions'\r\n\r\n\r\nclass CloseIcon extends Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tshowModel = () => {\r\n\r\n\t\tconst { data, updateSiteMngData, pageIndex: tPageindex, siteTotal, pageSize, catalog, getSiteList, status: listStatus } = this.props;\r\n\t\tconst { _id, status, name } = data;\r\n\t\tconst isdown = status === NORMAL_CODE;\r\n\t\tconst txt = isdown ? '下架' : '删除'\r\n\t\tlet pageIndex = tPageindex\r\n\t\tif (!isdown) {\r\n\t\t\tconst maxPages = Math.ceil((siteTotal-1) / pageSize)\r\n\t\t\tpageIndex = isdown ? tPageindex > maxPages ? maxPages : tPageindex : tPageindex;\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tDialog.open({\r\n\t\t\ttitle: txt,\r\n\t\t\tcontent: <span>确定{txt}“<span style={{color: '#F55'}}>{name}</span>”该网站吗？</span>,\r\n\t\t\t// footer: true,\r\n\t\t\tonOk () {\r\n\t\t\t\tDialog.showLoading();\r\n\t\t\t\tdelSite({_id, status }).then(res => {\r\n\t\t    \t// handleOk && handleOk(1)\r\n\t\t    \tupdateSiteMngData({ pageIndex })\r\n\t\t\t\t\tmessage.success(txt + '成功')\r\n\t\t\t\t\tgetSiteList({catalog, status: listStatus , pageIndex, pageSize, isTotal: true, is_edit: true});\r\n\t      \tDialog.close();\r\n\t\t    }).catch(res => {\r\n\t\t    \tDialog.hideLoading();\r\n\t\t    })\r\n\t\t\t}\r\n\t\t});\r\n\t\t// closeClick\r\n\t}\r\n\trender () {\r\n\t\t// console.log(this.props)\r\n\t\tconst { data } = this.props;\r\n\r\n\t\tconst {status} = data;\r\n\r\n\t\treturn (\r\n\t\t\t\tstatus === NORMAL_CODE\r\n\t\t\t\t? <VerticalAlignBottomOutlined title=\"下架\" onClick={this.showModel} />\r\n\t\t\t\t: <CloseOutlined title=\"删除\" style={{color: '#fff'}} onClick={this.showModel} />\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = state => {\r\n\tconst { siteList, siteTotal, pageIndex, pageSize, catalog, status } = state.siteMng\r\n  return {\r\n  \tsiteList,\r\n  \tsiteTotal,\r\n  \tpageIndex, pageSize, catalog,\r\n  \tstatus,\r\n  };\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tupdateSiteMngData (data) {\r\n  \t\treturn dispatch(updateSiteMngData(data))\r\n  \t},\r\n  \tgetSiteList (params) {\r\n\t\t\treturn dispatch(getSiteList(params))\r\n  \t},\r\n  };\r\n};\r\n// export default ComContent;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CloseIcon);\r\n// export default CloseIcon;","import React, { Component, Fragment} from 'react';\r\nimport './SiteItem.scss'\r\nimport { EditOutlined, HeartFilled } from '@ant-design/icons'\r\nimport { getStatus, getCeil5, isLogOverdue } from '@/common/common'\r\nimport { NORMAL_CODE } from '@/common/constant'\r\n// import Dialog from '@/commonComp/Dialog'\r\nimport imgurl from '@/common/api'\r\n// import cookie from 'react-cookies'\r\nimport { setRate, addView, setUsername, collectSite } from '@/store/actions'\r\nimport { Rate, Spin, Tooltip } from 'antd';\r\nimport {editWebSite} from '@/components/AddWebSite/AddWebSite'\r\nimport CurContext from '@/provider/cur-context'\r\nimport { connect } from 'react-redux'\r\n\r\nimport DelIcon from './Icons/DelIcon'\r\nimport { Link } from \"react-router-dom\";\r\n// import eventBus from '@/common/eventBus'\r\n\r\n\r\nclass SiteItem extends Component {\r\n\tstatic contextType = CurContext;\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\trate: props.data.rate,\r\n\t\t\tisCollected: props.data.isCollected,\t\t// 是否收藏\r\n\t\t\t// viewsCount: props.data.views,\r\n\t\t\tisRating: false,\r\n\t\t\tisCollecting: false,\r\n\t\t\t// hasRated: false,\r\n\t\t}\r\n\t}\r\n\t/*static getDerivedStateFromProps (props, state) {\r\n\t\tconsole.log(props, state)\r\n\t\tif ((props.data || {}).isCollected !== state.isCollected) {\r\n\t\t\treturn {\r\n\t\t\t\tisCollected: props.data.isCollected\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}*/\r\n\t// 评价\r\n\trateChange = value => {\r\n\t\tconst site_id = this.props.data._id;\r\n\t\tthis.setState({\r\n\t\t\tisRating: true,\r\n\t\t})\r\n\t\t/*setTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisRating: false,\r\n\t\t\t})\r\n\t\t}, 3000)\r\n\t\treturn;*/\r\n\t\tsetRate({\r\n\t\t\tsite_id,\r\n\t\t\t// user_ip: cookie.load('userIp'),\r\n\t\t\tvalue\r\n\t\t}).then(res => {\r\n\t\t\t\r\n\t\t\tthis.setState((prevState) => {\r\n\t\t\t\tconst { value: tval, length } = prevState.rate;\r\n\t\t\t\treturn {\r\n\t\t\t\t\trate: {\r\n\t\t\t\t\t\tisRated: true,\r\n\t\t\t\t\t\tvalue: tval + value, \r\n\t\t\t\t\t\tlength: length+ 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}).finally(res => this.setState({ isRating: false }))\r\n\t\t\r\n\t}\r\n\t// 跳转页面并计算点击量\r\n\tlinkTo = () => {\r\n\t\tconst { _id } = this.props.data;\r\n\t\taddView({_id})/*.then(data => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tviewsCount: data.result\r\n\t\t\t})\r\n\t\t})*/\r\n\t\t// window.open(url)\r\n\t}\r\n\t// 编辑弹窗\r\n\teditClick = () => {\r\n\t\tconst ctx = this.context;\r\n\t\tconst { data, catalogList, setUsername } = this.props;\r\n\t\teditWebSite.open({\r\n\t    catalogList,\r\n\t\t\t...data,\r\n\t\t\tisNameFirst: false,\r\n\t\t\tisUrlFirst: false,\r\n\t\t\tisDescFirst: false,\r\n\t\t\tisImgFirst: !data.img,\r\n\t\t\tisCatalogFirst: false,\r\n\t\t\tisTagFirst: false,\r\n\t\t\thandleOk: ctx.handleOk,\r\n\t\t\t/*handleError (res) {\r\n        eventBus.emit('logout#clear', res)\r\n      }*/\r\n\t\t})\r\n\t}\r\n\t/*collectClick = () => {\r\n\t\tconst { data: { _id }, setUsername } = this.props\r\n\t\tconst { isCollected } = this.state;\r\n\t\tthis.setState({ isCollecting: true })\r\n\t\tcollectSite({_id}).then(res => {\r\n\t\t\t// console.log(res)\r\n\t\t\tthis.setState({\r\n\t\t\t\tisCollected: !isCollected\r\n\t\t\t})\r\n\t\t}).catch(res => {\r\n\t\t\tif (res.resultCode === LOG_OVERDUE_CODE) {\r\n        setUsername('')\r\n      }\r\n\t\t}).finally(() => this.setState({ isCollecting: false }))\r\n\t}*/\r\n\r\n\temitCollectClick = () => {\r\n\t\tconst { data: { _id }, collectClick } = this.props\r\n\t\tthis.setState({isCollecting: true})\r\n\t\tcollectClick && collectClick(_id)\r\n\t\t\t// .catch(res => eventBus.emit('logout#clear', res))\r\n\t\t\t.finally(res => this.setState({isCollecting: false}))\r\n\t}\r\n\trender () {\r\n\t\t// const ctx = this.context;\r\n\t\t// console.log(ctx);\r\n\t\tconst { data, isSystem, catalogList, catalogMap, is_async, onlyShow, isCollected } = this.props;\r\n\t\t// console.log('is_async', is_async)\r\n\t\tconst { isRating, rate, isCollecting } = this.state;\r\n\t\t// console.log(isCollected)\r\n\t\t\r\n\t\t// console.log(catalogMap)\r\n\t\tconst rateval = rate.value / rate.length || 0;\r\n\t\tconst { _id, name, url, status, desc, img, create_time, catalog=[], tags: ttags, create_user_name, views, commit_total } = data;\r\n\t\tconst tags = ttags || [];\r\n\t\tconst isNormal = status === NORMAL_CODE\r\n\t\t// <div className=\"rich-content-text\" dangerouslySetInnerHTML={{__html: desc}} ></div>\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className={\"site-item \" + (onlyShow ? 'only-show' : '')}>\r\n\t\t\t\t{/*<Skeleton avatar  active paragraph={{ rows: 3 }} loading={false} >*/}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<h2 className=\"site-title\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tisNormal ? <Link to={'/sitedetail/' + _id}>{name}</Link> : <span >{name} {getStatus(status)}</span>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*<Tooltip placement=\"right\" title={`点击跳转`}>\r\n\t\t\t\t\t\t\t<a className=\"underline\" href={site_url} rel=\"noopener noreferrer\" target=\"_blank\" onClick={this.linkTo}>{name} {getStatus(status)}</a>\r\n\t\t\t\t\t\t</Tooltip>*/}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tisSystem \r\n\t\t\t\t\t\t\t\t? ((isNormal ? is_async : true) && <span><EditOutlined title=\"编辑\" onClick={this.editClick} style={{marginRight: 8}} /><DelIcon data={data} /></span>) \r\n\t\t\t\t\t\t\t\t: <Tooltip placement=\"top\" title={isCollected ? '取消收藏' : '收藏'}>\r\n\t\t\t\t\t\t\t\t\t\t<Spin spinning={isCollecting} size=\"small\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<HeartFilled className={\"icon \" + (/*isCollecting ? 'disabled' : */isCollected ? 'active' : '')} onClick={this.emitCollectClick} />\r\n\t\t\t        \t\t\t</Spin>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<p className=\"sit-sub-text\">hot {views}°C</p>\r\n\t\t\t\t\t<div className=\"rich-head\">\r\n\t\t\t\t\t\t<Spin spinning={isRating} size=\"small\" >\r\n\t\t\t\t\t\t\t<span>评分: </span><Rate disabled={rate.isRated} value={getCeil5(rateval)} allowHalf onChange={this.rateChange} />\r\n\t\t        </Spin>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"rich-content\">\r\n\t\t\t\t\t\t<div className=\"rich-content-text\" dangerouslySetInnerHTML={{__html: desc}} ></div>\r\n\t\t\t\t\t\t<div className=\"rich-content-cover\">\r\n\t\t\t\t\t\t\t<div className=\"rich-content-cover-inner\">\r\n\t\t\t\t\t\t\t\t{img && <img src={imgurl + img} alt=\"\"/>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"rich-footer\">\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>地址：<a className=\"underline color-blue\" href={url} rel=\"noopener noreferrer\" target=\"_blank\" onClick={this.linkTo}>{url}</a></li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t分类： \r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tcatalog.map((id, index) => \r\n\t\t\t\t\t\t\t\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={'/' + id}>{catalogMap[id]}</Link> \r\n\t\t\t\t\t\t\t\t\t\t\t\t{index !== catalog.length - 1 && '、'}\r\n\t\t\t\t\t\t\t\t\t\t\t</Fragment>) \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t标签： \r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttags.map((name, index) => \r\n\t\t\t\t\t\t\t\t\t\t\t<Fragment key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={'/tag/' + name}>{name}</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{index !== tags.length - 1 && '、'}\r\n\t\t\t\t\t\t\t\t\t\t\t</Fragment>) \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>作者：{create_user_name}</li>\r\n\t\t\t\t\t\t\t\t<li>发布时间：{create_time}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisNormal && !onlyShow && \r\n\t\t\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t\t\t<Link className=\"link-to\" to={'/sitedetail/'+_id} >查看评论({commit_total})</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/*</Skeleton>*/}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = state => {\r\n\tconst { catalogList } = state.siteMng\r\n\tconst { is_async } = state.com\r\n\tconst catalogMap = {};\r\n\tcatalogList.forEach(it => catalogMap[it._id] = it.name)\r\n  return {\r\n  \tcatalogList,\r\n  \tis_async,\r\n  \tcatalogMap\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tsetUsername (name) {\r\n\t\t\treturn dispatch(setUsername(name))\r\n  \t},\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SiteItem);","import React, { Component } from 'react';\r\n// import blackhole from '@/assets/images/black-hole.png'\r\nimport './Empty.scss'\r\n\r\nclass Empty extends Component {\r\n  \r\n\trender() {\r\n    return (\r\n    \t<div className=\"no-data\">\r\n    \t\t{/*<img src={blackhole} alt=\"暂无数据\"/>*/}\r\n    \t\t<span>暂无数据</span>\r\n    \t</div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default Empty;\r\n","import React, {PureComponent, Fragment} from 'react';\nimport SiteItem from '@/commonComp/SiteItem'\n// import DelModal from '@/commonComp/DelModal'\n// import { delSite } from '@/store/actions'\nimport { Pagination } from 'antd'\nimport Empty from '@/commonComp/Empty'\n\nimport './Content.scss';\n\nclass Content extends PureComponent {\n  render () {\n  \t// const { visible, confirmLoading } = this.state;\n  \tconst {list=[], total, current, pageSize, onChange, onShowSizeChange, isSystem, collectClick} = this.props;\n  \t// console.log(current)\n  \treturn (\n\t\t  <div className=\"site-wrapper\">\n\t\t  \t{/*<div className=\"max-container\">*/}\n\t\t\t\t\t<div className=\"main-content\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlist.length > 0 \n\t\t\t\t\t\t\t?\t(\n\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t  \t\t\t\t\t<div className=\"site-container\">\n\t\t\t\t\t\t\t\t  \t\t{\n\t\t\t\t\t\t\t\t  \t\t\tlist.map(it => \n\t\t\t\t\t\t\t\t  \t\t\t\t<SiteItem \n\t\t\t\t\t\t\t\t  \t\t\t\t\tisSystem={isSystem} \n\t\t\t\t\t\t\t\t  \t\t\t\t\tkey={it._id} \n\t\t\t\t\t\t\t\t  \t\t\t\t\tcollectClick={collectClick}\n\t\t\t\t\t\t\t\t  \t\t\t\t\tisCollected={it.isCollected}\n\t\t\t\t\t\t\t\t  \t\t\t\t\tdata={it} \n\t\t\t\t\t\t\t\t  \t\t\t\t\t// closeClick={() => {this.showModal({_id: it._id, status: it.status})}} \n\t\t\t\t\t\t\t\t  \t\t\t\t\t// closeClick={handleOk} \n\t\t\t\t\t\t\t\t  \t\t\t\t/>\n\t\t\t\t\t\t\t\t  \t\t\t)\n\t\t\t\t\t\t\t\t  \t\t}\n\t\t\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t\t\t  \t<Pagination \n\t\t\t\t\t\t\t\t  \t\ttotal={total} current={current} pageSize={pageSize}\n\t\t\t\t\t\t\t\t\t  \tshowQuickJumper \n\t\t\t\t              size=\"small\" \n\t\t\t\t              // showSizeChanger  \n\t\t\t\t\t\t\t\t\t  \tonChange={onChange} \n\t\t\t\t\t\t\t\t\t  \tpageSizeOptions={['5', '10', '15']}\n\t\t\t\t\t\t\t\t\t  \tonShowSizeChange={onShowSizeChange} \n\t\t\t\t\t\t\t\t\t  \t// showTotal={total => `共 ${total} 条数据`} \n\t\t\t\t\t\t\t\t  \t/>\n\t\t\t\t\t\t\t  \t</Fragment>\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: <Empty />\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t  \t{/*</div>*/}\n\t\t\n\t  \t</div>\n\t  )\n  }\n}\n\nexport default Content;\n","import React, { Component } from 'react';\nimport Content from '../Content/Content'\n\n// import Dialog from '@/commonComp/Dialog'\nimport { connect } from 'react-redux'\n// import './SystemComp.scss';\n// import { Button } from 'antd'\n// import { LOG_OVERDUE_CODE } from '@/common/constant'\nimport { getSiteList, updateSiteMngData, setUsername, updateSiteList, collectSite } from '@/store/actions'\nimport { withRouter } from \"react-router\";\n\nimport CurContext from '@/provider/cur-context';\nimport eventBus from '@/common/eventBus'\n\n\nclass ComContent extends Component {\n\t\t\n\tgetsys () {\n\n\t\tconst { isSystem, status, match: { params: { catalog, tagName, search } } } = this.props;\n\t\treturn {\n\t\t\tcatalog: parseInt(catalog) || -1,\n\t\t\tstatus: isSystem ? status : 1,\n\t\t\tis_edit: !!isSystem,\n\t\t\ttag_name: tagName,\n\t\t\tsearch\n\t\t}\n\t}\n\n\n\tconstructor (props) {\n\t\tsuper(props)\n\t\t// console.log(props)\n\t\tthis.state = {\n\t\t\tlist: [],\n\t\t\t// status: props.isSystem ? -1 : 1,\n\t\t}\n\t}\n\tcomponentDidUpdate (prevProps) {\n\t\tconst { isSystem } = this.props;\n\t\tconst { params: prevParams } = prevProps.match\n\t\tconst { params: curParams } = this.props.match\n\t\t// console.log(prevParams, curParams)\n\t\tif (prevParams.catalog !== curParams.catalog || prevParams.tagName !== curParams.tagName || prevParams.search !== curParams.search) {\n      // this.handleOk();\n      this.props.updateSiteMngData({\n      \tcatalog: parseInt(curParams.catalog) || -1,\n      \tisSystem,\n      \t// search: curParams.search\n      })\n      this.getListAndSet({pageIndex: 1, isTotal: true})\n    }\n\t}\n\tcomponentDidMount () {\n\t\tconst { isSystem, match: { params: { catalog } } } = this.props;\n\t\t// console.log('commonComp did mount ', isSystem)\n    this.props.updateSiteMngData({\n    \tcatalog: parseInt(catalog) || -1,\n    \tisSystem,\n    \t// search\n    })\n    this.getListAndSet({pageIndex: 1, isTotal: true})\n    // console.log(this.props)\n    eventBus.on('login#content', () => {\n    \tthis.handleOk();\n    })\n\t}\n\n\thandleOk = () => {\n\t\tconst { pageIndex, pageSize } = this.props;\n\t\t/*const { pageIndex: tPageindex, pageSize } = this.props;\n\t\tconst { siteTotal } = this.props;\n\t\tconst max = Math.ceil((siteTotal-dels) / pageSize)\n\t\tconst pageIndex = tPageindex > max ? max : tPageindex;\n\t\tconsole.log(pageIndex, max, dels, siteTotal, pageSize)*/\n\t\tthis.props.getSiteList({ pageIndex, pageSize, isTotal: true, ...this.getsys() });\n\t}\n\n\tgetListAndSet = (params) => {\n\t\tconst { pageIndex: sPageIndex, pageSize: sPageSize, setUsername, history } = this.props;\n\n\t\tconst { pageIndex=sPageIndex, pageSize=sPageSize, isTotal } = params;\n\t\t// console.log(catalog)\n\t\tthis.props.updateSiteMngData({pageIndex, pageSize})\n\t\tthis.props.getSiteList({\n\t\t\tpageIndex,\n\t\t\tpageSize, \n\t\t\t// search,\n\t\t\tisTotal,\n\t\t\t...this.getsys()\n\t\t}).catch(res => {\n      eventBus.emit('logout#toHome', res)\n    })\n\t}\n\t\n\tonChange = pageIndex => {\n\n\t\tthis.getListAndSet({pageIndex})\n\t}\n  onShowSizeChange = (pageIndex, pageSize) => this.getListAndSet({pageIndex, pageSize})\n\n  collectClick = _id => {\n\t\tconst { siteList } = this.props;\n\t\treturn collectSite({_id}).then(res => {\n      this.props.updateSiteList(siteList.map(it => it._id === _id ? {...it, isCollected: !it.isCollected} : it))\n    })\n  }\n\n\trender () {\n\t\tconst { handleOk, collectClick } = this;\n\t\t// const { catalog } = this.state;\n\t\tconst { pageIndex, pageSize, siteList, siteTotal, isSystem } = this.props;\n\n\t\t// console.log(pageIndex, siteTotal)\n\n\t  return (\n  \t\t<CurContext.Provider value={{ handleOk }}>\n\t      {/*<AddWebSite handleOk={this.handleOk} />*/}\n\t      \n\t\t  \t\t\n\t\t\t  \t<Content \n\t\t\t  \t\tisSystem={isSystem}\n\t\t\t  \t\tlist={siteList} \n\t\t\t  \t\tcollectClick={collectClick}\n\t\t\t  \t\t// handleOk={this.handleOk} \n\t\t\t  \t\ttotal={siteTotal} current={pageIndex} pageSize={pageSize}\n\t\t\t\t  \tonChange={this.onChange} \n\t\t\t\t  \tonShowSizeChange={this.onShowSizeChange} \n\t\t\t  \t/>\n\t\t\t\t  \t\n\t  \t</CurContext.Provider>\n\t  )\n\t}\n}\nconst mapStateToProps = state => {\n\tconst { siteList, siteTotal, pageIndex, pageSize, status } = state.siteMng\n  return {\n  \tsiteList,\n  \tsiteTotal,\n  \tpageIndex, pageSize,\n  \tstatus,\n  \t// search\n  };\n};\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  \tupdateSiteMngData (data) {\n  \t\treturn dispatch(updateSiteMngData(data))\n  \t},\n  \tupdateSiteList (list) {\n  \t\treturn dispatch(updateSiteList({list}))\n  \t},\n  \t/*setCatalog (data) {\n  \t\treturn dispatch(setCatalog(data))\n  \t},*/\n  \tgetSiteList (params) {\n\t\t\treturn dispatch(getSiteList(params))\n  \t},\n  \tsetUsername (params) {\n\t\t\treturn dispatch(setUsername(params))\n  \t},\n  \n  };\n};\n// export default ComContent;\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ComContent));\n","import React, { Component, Fragment } from 'react';\r\nimport { Button, Pagination } from 'antd';\r\nimport './CommentReplyCtn.scss'\r\nimport CommentItem from '../CommentItem'\r\nimport { replyCommit, getReplyCommit, setUsername } from '@/store/actions'\r\nimport { MAX_COMMIT_LEN } from '@/common/constant'\r\nimport { connect } from 'react-redux'\r\n\r\n// 把UPDATE_DATA 修改一下 改成函数，不要到处写\r\nimport BraftEditor from 'braft-editor'\r\nimport { ContentUtils } from 'braft-utils'\r\nimport BraftEditorMax from '@/commonComp/BraftEditorMax'\r\n\r\nclass CommentReplyCtn extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    const { reply_arr=[], reply_total=0 } = props.commitData;\r\n    this.state = {\r\n      confirmLoading: false,\r\n      commitContent: BraftEditor.createEditorState(''),\r\n      pageIndex: 1,  \r\n      replyList: reply_arr,\r\n      replyTotal: reply_total,\r\n      to_user_id: null,\r\n      to_user_name: null,\r\n      isShowReply: false,\r\n      isCheckReply: reply_total > 0\r\n    }\r\n  }\r\n  \r\n  handleDescChange = commitContent => {\r\n    this.setState({commitContent})\r\n  }\r\n  \r\n\r\n  onChange = (pageIndex) => {\r\n    const { _id: commit_id, site_id } = this.props.commitData;\r\n    getReplyCommit({pageIndex, commit_id, site_id}).then(res => {\r\n      this.setState({\r\n        replyList: res.result.list,\r\n        pageIndex\r\n      })\r\n    })\r\n  }\r\n\r\n  replyToCommit = () => {\r\n    const { user_id } = this.props.commitData;\r\n    this.setState({\r\n      isShowReply: true, \r\n      commitContent: ContentUtils.clear(this.state.commitContent),\r\n      to_user_id: user_id,\r\n      to_user_name: null\r\n    })\r\n  }\r\n  replyToUser = (item) => {\r\n    const { user_id, user_name } = item;\r\n    this.setState({\r\n      isShowReply: true, \r\n      commitContent: ContentUtils.insertText(ContentUtils.clear(this.state.commitContent), `回复 ${user_name}：`), \r\n      to_user_id: user_id,\r\n      to_user_name: user_name\r\n    })\r\n  }\r\n  report = () => {\r\n    const { _id: commit_id, site_id } = this.props.commitData;\r\n    const { commitContent, replyList, to_user_id, to_user_name, replyTotal } = this.state;\r\n    this.setState({confirmLoading: true})\r\n    console.log(to_user_id)\r\n    if (commitContent.isEmpty()) {\r\n      return;\r\n    }\r\n    // console.log(commitContent)\r\n    // return;\r\n    replyCommit({\r\n      commit_id,\r\n      site_id,\r\n      content: commitContent.toText().replace(`回复 ${to_user_name}：`, ''),\r\n      is_to_commit: !to_user_name,\r\n      to_user_id,\r\n      // to_user_name\r\n    }).then(res => {\r\n      this.setState({\r\n        commitContent: ContentUtils.clear(this.state.commitContent),\r\n        replyList: [...replyList, res.result],\r\n        replyTotal: replyTotal + 1\r\n      })\r\n    }).finally(res => this.setState({ confirmLoading: false }))\r\n  }\r\n  collspaeClick = () => {\r\n    const { isCheckReply, to_user_name } = this.state;\r\n    const { user_id } = this.props.commitData;\r\n    if (!isCheckReply) {\r\n      this.setState({\r\n        isShowReply: true\r\n      })\r\n      if (!to_user_name) {\r\n\r\n        this.setState({\r\n          to_user_id: user_id,\r\n          to_user_name: null\r\n        })\r\n      }\r\n    }\r\n    this.setState({\r\n      isCheckReply: !isCheckReply\r\n    })\r\n  }\r\n  render() {\r\n    const { commitContent, confirmLoading, pageIndex, replyList, replyTotal=0, isShowReply, isCheckReply } = this.state;\r\n    const { user_name } = this.props;\r\n    const totalStr = replyTotal === 0 ? '' : `(${replyTotal})`\r\n    return (\r\n      <Fragment>\r\n        <div className=\"align-right\" ><span className=\"collspae-btn\" onClick={this.collspaeClick} >{!isCheckReply ? `回复`+totalStr : '收起回复'}</span></div>\r\n        <div className=\"reply-comment-container\" style={{display: isCheckReply ? 'block': 'none' }} >\r\n          {\r\n            replyList.length > 0 && \r\n            <div className=\"comment-container\">\r\n              <div className=\"comment-list\">\r\n                {\r\n                  replyList.map(it => {\r\n                    if (it.is_to_commit) {\r\n                      it.to_user_name = '';\r\n                    }\r\n\r\n                    return <CommentItem key={it._id} data={it} >\r\n                      <div>\r\n                        <span className=\"link-btn\" onClick={() => {this.replyToUser(it)}} >回复</span>\r\n                      </div>\r\n                    </CommentItem>\r\n                  })\r\n                }\r\n                <Pagination \r\n                  hideOnSinglePage={true}\r\n                  total={replyTotal} current={pageIndex} pageSize={10}\r\n                  showQuickJumper \r\n                  size=\"small\" \r\n                  onChange={this.onChange} \r\n                />\r\n              </div>\r\n\r\n            </div>\r\n          }\r\n          {\r\n            replyList.length > 0 && <div className=\"reply-btn-line\"><span className=\"link-btn\" onClick={this.replyToCommit} >我也说一句</span></div>\r\n          }\r\n          <div className=\"reply-ctn\">\r\n            {\r\n              !!user_name \r\n                ? <div className={'reply-edit-container ' + (isShowReply ? '' : 'hidden')}>\r\n                    <BraftEditorMax \r\n                      controls={['emoji']}\r\n                      className=\"normal-edit\"\r\n                      value={commitContent} \r\n                      maxLen={MAX_COMMIT_LEN} \r\n                      onChange={this.handleDescChange} \r\n                    />\r\n                    \r\n                    <Button type=\"primary\" className=\"reply-btn\" loading={confirmLoading} onClick={this.report} >发表</Button>\r\n                  </div>\r\n                : <span className=\"bofore-commit-tip\">请登录后，再回复。</span>\r\n            }\r\n          </div>\r\n        \r\n          \r\n        </div>\r\n      </Fragment>\r\n         \r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  const { user_name } = state.com\r\n  return {\r\n    user_name\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUsername (name) {\r\n      return dispatch(setUsername(name))\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentReplyCtn);","import React, { Component, Fragment } from 'react';\r\nimport { Button, Pagination } from 'antd';\r\nimport { reportCommit, getReportCommit, setUsername } from '@/store/actions'\r\nimport './CommentCtn.scss'\r\nimport CommentItem from '../CommentItem'\r\nimport CommentReplyCtn from '../CommentReplyCtn'\r\nimport { connect } from 'react-redux'\r\nimport { MAX_COMMIT_LEN } from '@/common/constant'\r\n// 把UPDATE_DATA 修改一下 改成函数，不要到处写\r\nimport BraftEditor from 'braft-editor'\r\nimport { ContentUtils } from 'braft-utils'\r\nimport BraftEditorMax from '@/commonComp/BraftEditorMax'\r\n// import { Modifier } from 'draft-js'\r\n\r\nclass CommentCtn extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      confirmLoading: false,\r\n      commitContent: BraftEditor.createEditorState(''),\r\n      commitList: [],\r\n      total: 0,\r\n      pageIndex: 1,\r\n\r\n    }\r\n  }\r\n  getReportCommit = (params={}) => {\r\n    window.scrollTo(0, 0)\r\n    const { siteId } = this.props\r\n    const { pageIndex } = this.state;\r\n    const { isTotal } = params;\r\n    getReportCommit({site_id: siteId, pageIndex, ...params}).then(({result}) => {\r\n      this.setState({\r\n        commitList: result.list || [],\r\n      })\r\n      if (isTotal) {\r\n        this.setState({\r\n          total: result.total\r\n        })\r\n      }\r\n    })\r\n  }\r\n  componentDidUpdate (prevProps) {\r\n    const { siteId: prevsiteId } = prevProps\r\n    const { siteId: cursiteId } = this.props\r\n    // console.log(prevParams, curParams)\r\n    if (prevsiteId !== cursiteId) {\r\n      // this.handleOk();\r\n      this.getReportCommit({isTotal: true});\r\n      // this.getSite$Add()\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    this.getReportCommit({isTotal: true});\r\n  }\r\n  handleDescChange = commitContent => {\r\n    this.setState({commitContent})\r\n  }\r\n  report = () => {\r\n    const { commitContent, commitList } = this.state;\r\n    const { siteId } = this.props\r\n    if (commitContent.isEmpty()) {\r\n      return;\r\n    }\r\n    this.setState({confirmLoading: true})\r\n    reportCommit({site_id: siteId, content: commitContent.toText()}).then(res => {\r\n      this.setState({\r\n        commitContent: ContentUtils.clear(this.state.commitContent),\r\n        commitList: [...commitList, res.result]\r\n      })\r\n    }).finally(() => this.setState({ confirmLoading: false }))\r\n    // console.log(siteId)\r\n  }\r\n\r\n  onChange = (pageIndex) => {\r\n    this.setState({pageIndex}, () => {\r\n      this.getReportCommit();\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { commitContent, confirmLoading, commitList, total, pageIndex } = this.state;\r\n    const { user_name } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <div className=\"comment-container\">\r\n          {\r\n            commitList.length > 0 \r\n            ? <div className=\"comment-list\">\r\n              {\r\n                commitList.map(it => \r\n                  <CommentItem key={it._id} data={it}>\r\n                    <CommentReplyCtn commitData={it} />\r\n                  </CommentItem>)\r\n              }\r\n              <Pagination \r\n                total={total} current={pageIndex} pageSize={10}\r\n                showQuickJumper \r\n                size=\"small\" \r\n                // showSizeChanger  \r\n                onChange={this.onChange} \r\n                // pageSizeOptions={['5', '10', '15']}\r\n                // onShowSizeChange={onShowSizeChange} \r\n                // showTotal={total => `共 ${total} 条数据`} \r\n              />\r\n            </div>\r\n            : <div className=\"no-commit\">好惨，都没人评论。。。</div>\r\n          }\r\n        </div>\r\n        <div className=\"reply-ctn\">\r\n          {\r\n            !!user_name \r\n              ? <div className=\"reply-edit-container\">\r\n                  <BraftEditorMax \r\n                    controls={['emoji']}\r\n                    className=\"normal-edit\"\r\n                    value={commitContent} \r\n                    maxLen={MAX_COMMIT_LEN} \r\n                    onChange={this.handleDescChange} \r\n                  />\r\n                  <Button type=\"primary\" className=\"reply-btn\" loading={confirmLoading} onClick={this.report} >发表</Button>\r\n                </div>\r\n              : <span className=\"bofore-commit-tip\">请登录后，再评论。</span>\r\n          }\r\n        </div>\r\n      </Fragment>\r\n         \r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const { user_name } = state.com\r\n  return {\r\n    user_name\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUsername (name) {\r\n      return dispatch(setUsername(name))\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentCtn);\r\n","import React, { Component } from 'react';\r\nimport { getRecomdList } from '@/store/actions'\r\nimport imgurl from '@/common/api'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass RecomdList extends Component {\r\n  state = {\r\n    list: []\r\n  }\r\n  componentDidUpdate (prevProps) {\r\n    const { siteId: prevSiteId, catalog: prevCatalog } = prevProps;\r\n    const { siteId, catalog } = this.props;\r\n    if (prevCatalog !== catalog) {\r\n      this.getRecomdList();\r\n      // console.log(siteId, catalog)\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    // this.getRecomdList();\r\n  }\r\n  getRecomdList = () => {\r\n    const { catalog } = this.props;\r\n    getRecomdList({catalog}).then(res => {\r\n      // console.log(res)\r\n      this.setState({\r\n        list: res.result.list\r\n      })\r\n    })\r\n  }\r\n\r\n\trender() {\r\n    const { list } = this.state;\r\n    return (\r\n      <div className=\"recomd-wrapper\">\r\n        <div className=\"title\">相关推荐∵</div>\r\n        <ul>\r\n          {\r\n            list.map(it => \r\n              <li key={it._id}>\r\n                <Link to={'/sitedetail/'+it._id}>\r\n                  <p>{it.name}</p>\r\n                  <div className=\"img-ctn\">\r\n                    <img src={imgurl+it.img} alt=\"图片\"/>\r\n                  </div>\r\n                </Link>\r\n              </li>\r\n            )\r\n          }\r\n        </ul>\r\n\r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default RecomdList;\r\n","import React, { Component } from 'react';\r\n// import { Input, Button } from 'antd';\r\nimport { withRouter } from \"react-router\";\r\nimport SiteItem from '@/commonComp/SiteItem'\r\nimport { getSiteDetail, addView, setUsername, collectSite } from '@/store/actions'\r\n// import { LOG_OVERDUE_CODE } from '@/common/constant'\r\nimport './SiteDetail.scss'\r\nimport CommentCtn from '@/commonComp/CommentCtn'\r\nimport RecomdList from './RecomdList'\r\nimport eventBus from '@/common/eventBus'\r\n\r\n// import BraftEditor from 'braft-editor'\r\n\r\nclass SiteDetail extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    // console.log(this.props)\r\n    this.state = {\r\n      siteData: {},\r\n      isCollected: false,\r\n      // commitContent: BraftEditor.createEditorState(''),\r\n    }\r\n  }\r\n  componentDidUpdate (prevProps) {\r\n    const { params: prevParams } = prevProps.match\r\n    const { params: curParams } = this.props.match\r\n    // console.log(prevParams, curParams)\r\n    if (prevParams.siteId !== curParams.siteId) {\r\n      // this.handleOk();\r\n      this.getSite$Add()\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    this.getSite$Add()\r\n    eventBus.on('login#siteDetail', () => {\r\n      this.getSite$Add();\r\n    })\r\n  }\r\n  getSite$Add = () => {\r\n    const { siteId: t_id } = this.props.match.params\r\n    const siteId = parseInt(t_id);\r\n    addView({_id: siteId})\r\n    // const { params } = match\r\n    // console.log(siteId, this.props)\r\n    getSiteDetail({site_id: siteId})\r\n      .then(({result={}}) => this.setState({siteData: result, isCollected: result.isCollected}))\r\n      /*.catch(res => {\r\n        if (res.resultCode === LOG_OVERDUE_CODE) {\r\n          this.props.setUsername('')\r\n        }\r\n      })*/\r\n  }\r\n  collectClick = (_id) => {\r\n    // const { data: { _id }, setUsername } = this.props\r\n    \r\n    // this.setState({ isCollecting: true })\r\n    const { isCollected } = this.state;\r\n    return collectSite({_id}).then(res => {\r\n      // console.log(res)\r\n      this.setState({\r\n        isCollected: !isCollected\r\n      })\r\n    })\r\n  }\r\n\trender() {\r\n    const { siteId } = this.props.match.params\r\n    const { siteData, isCollected } = this.state;\r\n    return (\r\n      <div className=\"site-detail main-content site-wrapper\">\r\n        <div className=\"site-container\">\r\n          {\r\n            !!siteData._id \r\n             ? <SiteItem \r\n                isSystem={false} \r\n                onlyShow={true}\r\n                data={siteData} \r\n                isCollected={isCollected}\r\n                collectClick={this.collectClick}\r\n              />\r\n              : <p>非常抱歉，该网站已下架！</p>\r\n          }\r\n          <RecomdList siteId={siteId} catalog={(siteData.catalog || []).join(',')} />\r\n          <h3 className=\"title\" style={{marginTop: 15}} >评论</h3>\r\n          <CommentCtn siteId={siteId} />\r\n        </div>\r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default withRouter(SiteDetail);\r\n","import React, { Component } from 'react';\r\nimport { getReplyMeList, clearreplynum, setReplyNum } from '@/store/actions'\r\n// import { withRouter } from \"react-router\";\r\nimport { Pagination } from 'antd'\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux'\r\nimport { FEEDBACK_SITEID } from '@/common/constant'\r\nimport './MessageMng.scss'\r\nimport eventBus from '@/common/eventBus'\r\n\r\n\r\nclass MessageMng extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      list: [],\r\n      total: 0,\r\n      pageIndex: 1,\r\n    }\r\n  }\r\n  \r\n  componentDidMount () {\r\n    this.getReplyMeList({pageIndex: 1, isTotal: true})\r\n    clearreplynum().then(res => this.props.setReplyNum(0))\r\n  }\r\n  getReplyMeList = (params) => {\r\n\r\n    getReplyMeList(params).then(res => {\r\n      const { list, total } = res.result\r\n      this.setState({\r\n        list\r\n      })\r\n      if (params.isTotal) {\r\n        this.setState({\r\n          total\r\n        })\r\n      }\r\n    }).catch(res => {\r\n      eventBus.emit('logout#toHome', res)\r\n    })\r\n  }\r\n  onChange = (pageIndex) => {\r\n    this.getReplyMeList({pageIndex})\r\n    this.setState({pageIndex})\r\n  }\r\n\trender() {\r\n    // const { siteId } = this.props.match.params\r\n    const { list, total, pageIndex } = this.state;\r\n\r\n    return (\r\n      <div className=\"message-wrapper main-content\">\r\n        <div className=\"message-container\">\r\n          <div className=\"message-list\">\r\n            <ul>\r\n              {\r\n                list.map(it => {\r\n                  const isFeedback = it.site_id === FEEDBACK_SITEID;\r\n\r\n                  const linkurl = isFeedback ? '/feedback' : '/sitedetail/' + it.site_id\r\n\r\n                  return <li key={it._id}>\r\n                    <div className=\"rich-left\">\r\n                      <Link to={linkurl} className=\"rich-ctn\" >\r\n                        <div className=\"message-user\" >{it.user_name}：</div>\r\n                        <div className=\"message-content\" dangerouslySetInnerHTML={{__html: it.content}} ></div>\r\n                      </Link>\r\n                      <div className=\"resp-subject\">\r\n                        回复我的页面：<Link to={linkurl} >{isFeedback ? '用户反馈' : it.site_name}</Link>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"rich-right\">\r\n                      <span className=\"time\">{it.create_time}</span>\r\n                    </div>\r\n                  </li>\r\n                })\r\n              }\r\n            </ul>\r\n          </div>\r\n          <Pagination \r\n            total={total} current={pageIndex} pageSize={10}\r\n            showQuickJumper \r\n            size=\"small\" \r\n            onChange={this.onChange} \r\n          />\r\n        </div>\r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setReplyNum (num) {\r\n      return dispatch(setReplyNum(num))\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(MessageMng);\r\n\r\n","import React, { Component, Fragment } from 'react';\nimport {message, Modal, Button, Input } from 'antd';\n// import { LOG_OVERDUE_CODE } from '@/common/constant'\n// import './AddWebSite.scss';\nimport { addCatalog, getAllCatalog, dispatchCatalogList } from '@/store/actions'\nimport { connect } from 'react-redux'\n\n\nclass AddCatalog extends Component {\n\t\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvisible: false,\n\t\t\tconfirmLoading: false,\n\t\t\tname: '',\n\t\t\t\n\t\t};\n\t}\n\t\n\n\tshowModal = () => {\n\t\tthis.setState({\n\t\t  visible: true,\n\t\t});\n\t\t/*axios.get('/api/ip').then((res) => {\n\t\t\tconsole.log(res)\n\t\t})*/\n\t};\n\t\n\t\n\thandleOk = () => {\n\t\t// const that = this;\n\t\tconst {name} = this.state;\n\t\t// const {handleOk} = this.props;\n\n\t\tthis.setState({ confirmLoading: true })\n\t\taddCatalog({name}).then(res => {\n\t\t\tmessage.success('新增成功!')\n\t\t\tthis.props.getAllCatalog()\n\t\t\tthis.props.dispatchCatalogList()\n\t\t})/*.catch(res => {\n      if (res.resultCode === LOG_OVERDUE_CODE) {\n        this.props.setUsername('')\n      }\n    })*/.finally(res => {\n\t\t\tthis.setState({ visible: false, confirmLoading: true });\n\t\t})\n\t\t\n\t};\n\n\thandleCancel = () => {\n\t\tthis.setState({\n\t\t\tvisible: false,\n\t\t});\n\t};\n\t\n\n\tnameChange = e => {\n\t\tthis.setState({\n\t\t\tname: e.target.value\n\t\t})\n\t}\n\t\n\t\n\trender() {\n\t   const { visible, confirmLoading, name} = this.state;\n\t    // console.log(selectOptions)\n\t   return (\n\t\t\t<Fragment>\n\t    \t<Button type=\"primary\" onClick={() => {\n\t        this.showModal()\n\t      }}>新增分类</Button>\n\t       \n        <Modal\n        \twidth={700}\n\t\t\t\t\ttitle=\"新增分类\"\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\tmaskClosable={false}\n\t\t\t\t\tonOk={this.handleOk}\n\t\t\t\t\tconfirmLoading={confirmLoading}\n\t\t\t\t\tonCancel={this.handleCancel}\n\t\t\t\t\tokText=\"提交\"\n\t\t\t\t\tcancelText=\"取消\"\n        >\n\t        <div className=\"self-wrapper\">\n\t\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t\t<label>分类名称</label><Input onChange={this.nameChange} value={name} />\n\t\t\t\t\t\t</div>\n\t        </div>\n        \t\n        </Modal>\n\t\t\t</Fragment>\n\t  );\n\t}\n}\n\n/*const mapStateToProps = state => {\n\tconst { catalogList } = state.siteMng\n  return {\n  \tcatalogList: catalogList.slice(1),\n  };\n};*/\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  \tgetAllCatalog (params) {\n\t\t\treturn dispatch(getAllCatalog(params))\n  \t},\n  \tdispatchCatalogList (params) {\n\t\t\treturn dispatch(dispatchCatalogList(params))\n  \t},\n  };\n};\nexport default connect(null, mapDispatchToProps)(AddCatalog);;\n","import React, { Component, Fragment } from 'react';\r\nimport { List, Modal, Input, message, Button } from 'antd';\r\nimport { ToolOutlined, CloseOutlined } from '@ant-design/icons';\r\nimport { editCatalog, delCatalog, getAllCatalog, dispatchCatalogList, updateCatalogSort } from '@/store/actions'\r\n// import { LOG_OVERDUE_CODE } from '@/common/constant'\r\nimport AddCatalog from './AddCatalog'\r\nimport { connect } from 'react-redux'\r\nimport { sortable } from 'react-sortable';\r\nimport './CatalogMng.scss'\r\n\r\nclass EditModal extends Component {\r\n  render () {\r\n    const { visible, confirmLoading, name, onChange, handleOk, handleCancle } = this.props;\r\n    return (\r\n      <Modal\r\n        width={400}\r\n        title=\"编辑\"\r\n        visible={visible}\r\n        maskClosable={false}\r\n        confirmLoading={confirmLoading}\r\n        onCancel={handleCancle}\r\n        onOk={handleOk}\r\n        okText=\"确定\"\r\n        cancelText=\"取消\"\r\n      >\r\n        <Input placeholder=\"请设置类型名\" onChange={onChange} value={name} />\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\nclass DelModal extends Component {\r\n  render () {\r\n    const { visible, confirmLoading, name, handleOk, handleCancle } = this.props;\r\n    return (\r\n      <Modal\r\n        width={400}\r\n        title=\"删除\"\r\n        visible={visible}\r\n        maskClosable={false}\r\n        confirmLoading={confirmLoading}\r\n        onCancel={handleCancle}\r\n        onOk={handleOk}\r\n        okText=\"确定\"\r\n        cancelText=\"取消\"\r\n      >\r\n        是否删除“{name}”该类名\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nclass Item extends React.Component {\r\n  render() {\r\n    return (\r\n      <li {...this.props}>\r\n        {this.props.children}\r\n      </li>\r\n    )\r\n  }\r\n}\r\nconst SortableItem = sortable(Item);\r\n\r\nclass SortModal extends Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      visible: false,\r\n      confirmLoading: false,\r\n      items: props.list\r\n    }\r\n  }\r\n  static getDerivedStateFromProps (props, state) {\r\n    if (JSON.stringify(props.list) !== JSON.stringify(state.items)) {\r\n      return {\r\n        items: props.list\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  onSortItems = (items) => {\r\n    this.setState({\r\n      items: items\r\n    });\r\n  }\r\n  handleShow = () => this.setState({ visible: true })\r\n  handleOk = () => {\r\n    this.setState({ confirmLoading: true })\r\n    updateCatalogSort({catalog: this.state.items})\r\n      .then(res => {\r\n        this.setState({ visible: false })\r\n        message.success('更新成功！')\r\n        this.props.handleOk();\r\n      })\r\n      .finally(res => this.setState({ confirmLoading: false }))\r\n  }\r\n  handleCancle = () => {\r\n    this.setState({\r\n      visible: false,\r\n      confirmLoading: false\r\n    })\r\n  }\r\n   \r\n  render () {\r\n    const { visible, confirmLoading, items } = this.state;\r\n    // const { visible, confirmLoading, handleOk, handleCancle } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <Button onClick={this.handleShow}>排序</Button>\r\n        <Modal\r\n          width={400}\r\n          title=\"排序\"\r\n          visible={visible}\r\n          maskClosable={false}\r\n          confirmLoading={confirmLoading}\r\n          onCancel={this.handleCancle}\r\n          onOk={this.handleOk}\r\n          okText=\"确定\"\r\n          cancelText=\"取消\"\r\n        >\r\n          <div className=\"sortable-list\">\r\n            <ul>\r\n              {\r\n                items.map((item, i) => \r\n                  <SortableItem\r\n                    key={item._id}\r\n                    onSortItems={this.onSortItems}\r\n                    items={items}\r\n                    sortId={i}\r\n                  >\r\n                    {item.name}\r\n                  </SortableItem>\r\n                )\r\n              }\r\n            </ul>\r\n          </div>\r\n        </Modal>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nclass CatalogMng extends Component {\r\n  state = {\r\n    editvisible: false,\r\n    editloading: false,\r\n    currentData: {},\r\n    delvisible: false,\r\n    delloading: false,\r\n  }\r\n  handleEditShow = (currentData) => {\r\n    this.setState({\r\n      editvisible: true,\r\n      currentData\r\n    })\r\n  }\r\n  handleEditCancle = () => {\r\n    this.setState({\r\n      editvisible: false,\r\n      currentData: {}\r\n    })\r\n  }\r\n  editNameChange = e => {\r\n    const { currentData } = this.state;\r\n    this.setState({\r\n      currentData: {\r\n        ...currentData,\r\n        name: e.target.value\r\n      }\r\n    })\r\n  }\r\n  handleEditOk = () => {\r\n    // console.log(this.state.currentData.name)\r\n    this.setState({\r\n      editloading: true\r\n    })\r\n    editCatalog(this.state.currentData).then(res => {\r\n      this.setState({\r\n        editvisible: false,\r\n        currentData: {}\r\n      })\r\n      this.props.getAllCatalog();\r\n      this.props.dispatchCatalogList();\r\n      message.success('修改成功！')\r\n    })/*.catch(res => {\r\n      if (res.resultCode === LOG_OVERDUE_CODE) {\r\n        this.props.setUsername('')\r\n      }\r\n    })*/.finally(() => this.setState({ editloading: false }))\r\n  }\r\n\r\n\r\n\r\n  handleDelShow = (currentData) => {\r\n    this.setState({\r\n      delvisible: true,\r\n      currentData\r\n    })\r\n  }\r\n  handleDelCancle = () => {\r\n    this.setState({\r\n      delvisible: false,\r\n      currentData: {}\r\n    })\r\n  }\r\n \r\n  handleDelOk = () => {\r\n    // console.log(this.state.currentData.name)\r\n    this.setState({\r\n      delloading: true\r\n    })\r\n    delCatalog({_id: this.state.currentData._id})\r\n      .then(res => {\r\n        this.setState({\r\n          delvisible: false,\r\n          currentData: {}\r\n        })\r\n        this.props.getAllCatalog();\r\n        this.props.dispatchCatalogList();\r\n        message.success('删除成功！')\r\n      })\r\n      /*.catch(res => {\r\n        if (res.resultCode === LOG_OVERDUE_CODE) {\r\n          this.props.setUsername('')\r\n        }\r\n      })*/\r\n      .finally(() => this.setState({ delloading: false }))\r\n  }\r\n\trender() {\r\n    const { editvisible, editloading, currentData, delvisible, delloading } = this.state;\r\n    const { catalogList, getAllCatalog, dispatchCatalogList } = this.props;\r\n    return (\r\n      <div className=\"catalog-wrapper max-container\">\r\n        <AddCatalog/>\r\n        {catalogList.length > 0 && <SortModal handleOk={() => {getAllCatalog();dispatchCatalogList()}} list={catalogList} />}\r\n        <List\r\n          itemLayout=\"vertical\"\r\n          dataSource={catalogList}\r\n          \r\n          renderItem={item => (\r\n            <List.Item\r\n              key={item._id}\r\n            >\r\n              <span className=\"text\" >{item.name}</span>\r\n              <ToolOutlined className=\"icon\" onClick={() => this.handleEditShow(item)} />\r\n              <CloseOutlined className=\"icon\" onClick={() => this.handleDelShow(item)} />\r\n            </List.Item>\r\n          )}\r\n        />\r\n        <EditModal \r\n          visible={editvisible} \r\n          name={currentData.name} \r\n          onChange={this.editNameChange} \r\n          confirmLoading={editloading} \r\n          handleOk={this.handleEditOk} \r\n          handleCancle={this.handleEditCancle}\r\n        />\r\n\r\n        <DelModal \r\n          visible={delvisible} \r\n          name={currentData.name} \r\n          onChange={this.delNameChange} \r\n          confirmLoading={delloading} \r\n          handleOk={this.handleDelOk} \r\n          handleCancle={this.handleDelCancle}\r\n        />\r\n        \r\n\r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const { catalogList } = state.siteMng\r\n  return {\r\n    catalogList\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    /*setUsername (name) {\r\n      return dispatch(setUsername(name))\r\n    },*/\r\n    getAllCatalog (params) {\r\n      return dispatch(getAllCatalog(params))\r\n    },\r\n    dispatchCatalogList (params) {\r\n      return dispatch(dispatchCatalogList(params))\r\n    },\r\n    \r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CatalogMng);\r\n","import React, { Component, Fragment } from 'react';\r\nimport { CloseOutlined } from '@ant-design/icons'\r\nimport Dialog from '@/commonComp/Dialog'\r\n// import {connect} from 'react-redux'\r\nimport { message, Checkbox } from 'antd';\r\n// import cookie from 'react-cookies';\r\n// import url from '@/common/api'\r\nimport { delNotice } from '@/store/actions'\r\n\r\n\r\nclass CloseIcon extends Component {\r\n\t\r\n\tchecked = true;\r\n\tcheckChange = e => this.checked = e.target.checked\r\n\tshowModel = () => {\r\n\t\tconst that = this;\r\n\t\tconst { data, handleOk } = this.props;\r\n\t\tconst { _id, content, commit_id } = data;\r\n\r\n\t\tDialog.open({\r\n\t\t\ttitle: '删除公告',\r\n\t\t\tcontent: <Fragment>\r\n\t\t\t\t<span>确定删除“<span style={{color: '#F55'}}>{content}</span>”该公告吗？</span>\r\n\t\t\t\t<br/>\r\n\t\t\t\t{commit_id !== undefined && <Checkbox defaultChecked={that.checked} onChange={this.checkChange} >是否同步到用户反馈？ </Checkbox>}\r\n\t\t\t</Fragment>,\r\n\t\t\t\r\n\t\t\t// footer: true,\r\n\t\t\tonOk () {\r\n\t\t\t\tDialog.showLoading();\r\n\t\t\t\tdelNotice({_id, isToCommit: that.checked ? 1 : 0}).then(res => {\r\n\t\t    \thandleOk && handleOk()\r\n\t\t\t\t\tmessage.success('删除成功')\r\n\t      \tDialog.close();\r\n\t\t    }).catch(res => {\r\n\t\t    \tDialog.hideLoading();\r\n\t\t    })\r\n\t\t\t}\r\n\t\t});\r\n\t\t// closeClick\r\n\t}\r\n\trender () {\r\n\r\n\t\treturn (\r\n\t\t\t<CloseOutlined title=\"删除\" style={{color: '#fff'}} onClick={this.showModel} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default CloseIcon;","import React, { Component, Fragment } from 'react';\nimport {message, Modal, Button, Input, Checkbox } from 'antd';\nimport { trim } from '@/common/common'\n// import './AddWebSite.scss';\nimport { addNotice } from '@/store/actions'\nimport { connect } from 'react-redux'\n\nimport BraftEditor from 'braft-editor'\nimport { ContentUtils } from 'braft-utils'\nimport BraftEditorMax from '@/commonComp/BraftEditorMax'\nimport { MAX_COMMIT_LEN } from '@/common/constant'\n\nclass AddNotice extends Component {\n\t\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvisible: false,\n\t\t\tconfirmLoading: false,\n\t\t\tname: '',\n\t\t\tchecked: false,\n\t\t\tcontent: BraftEditor.createEditorState(''),\n\t\t};\n\t}\n\t\n\n\tshowModal = () => {\n\t\tthis.setState({\n\t\t  visible: true,\n\t\t});\n\t};\n\t\n\t\n\thandleOk = () => {\n\t\t// const that = this;\n\t\tconst { content, checked } = this.state;\n\t\tconst { handleOk } = this.props;\n\t\t if (content.isEmpty()) {\n      return message.error('内容不能为空')\n    }\n\t\tthis.setState({ confirmLoading: true })\n\t\taddNotice({content: content.toText(), isToCommit: checked}).then(res => {\n\t\t\tmessage.success('新增成功!')\n\t\t\tthis.setState({\n      \tcontent: ContentUtils.clear(content),\n      \tchecked: false\n\t\t\t})\n\n\t\t\thandleOk && handleOk();\n\t\t}).finally(res => {\n\t\t\tthis.setState({ visible: false, confirmLoading: false });\n\t\t})\n\t\t\n\t};\n\n\thandleCancel = () => {\n\t\tthis.setState({\n\t\t\tvisible: false,\n\t\t});\n\t};\n\t\n\n\tcontentChange = content => {\n\t\tthis.setState({\n\t\t\tcontent\n\t\t})\n\t}\n\n\tcheckChange = e => this.setState({ checked: e.target.checked })\n\t\n\t\n\trender() {\n\t   const { visible, confirmLoading, content, checked } = this.state;\n\t    // console.log(selectOptions)\n\t   return (\n\t\t\t<Fragment>\n\t    \t<Button type=\"primary\" onClick={() => { this.showModal() }}>新增公告</Button>\n\t       \n        <Modal\n        \twidth={700}\n\t\t\t\t\ttitle=\"新增公告\"\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\tmaskClosable={false}\n\t\t\t\t\tonOk={this.handleOk}\n\t\t\t\t\tconfirmLoading={confirmLoading}\n\t\t\t\t\tonCancel={this.handleCancel}\n\t\t\t\t\tokText=\"提交\"\n\t\t\t\t\tcancelText=\"取消\"\n        >\n\t        <div className=\"self-wrapper\">\n\t\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t\t<label>公告</label>\n\t\t\t\t\t\t\t<BraftEditorMax \n                controls={['emoji']}\n                className=\"normal-edit\"\n                value={content} \n                maxLen={MAX_COMMIT_LEN} \n                onChange={this.contentChange} \n              />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<Checkbox checked={checked} onChange={this.checkChange}>是否同步到用户反馈？ </Checkbox>\n\t\t\t\t\t\t</div>\n\t        </div>\n        \t\n        </Modal>\n\t\t\t</Fragment>\n\t  );\n\t}\n}\n\n/*const mapStateToProps = state => {\n\tconst { catalogList } = state.siteMng\n  return {\n  \tcatalogList: catalogList.slice(1),\n  };\n};*/\n\n\nexport default AddNotice;\n","import React, { Component, Fragment } from 'react';\r\nimport { getNoticeList, editNotice } from '@/store/actions'\r\nimport { EditOutlined } from '@ant-design/icons'\r\nimport DelIcon from './Icons/DelIcon'\r\n// import { withRouter } from \"react-router\";\r\nimport { Pagination, Modal, Input, message } from 'antd'\r\nimport AddNotice from './AddNotice'\r\nimport { trim } from '@/common/common'\r\n// import { Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux'\r\nimport './index.scss'\r\nimport eventBus from '@/common/eventBus'\r\n\r\nimport BraftEditor from 'braft-editor'\r\nimport { ContentUtils } from 'braft-utils'\r\nimport BraftEditorMax from '@/commonComp/BraftEditorMax'\r\nimport { MAX_COMMIT_LEN } from '@/common/constant'\r\n\r\n\r\nclass MessageMng extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      list: [],\r\n      total: 0,\r\n      pageIndex: 1,\r\n\r\n      visible: false,\r\n      confirmLoading: false,\r\n      currentData: {},\r\n      content: BraftEditor.createEditorState(''),\r\n    }\r\n  }\r\n  \r\n  componentDidMount () {\r\n    this.getNoticeList({pageIndex: 1, isTotal: 1})\r\n  }\r\n  getNoticeList = (params) => {\r\n\r\n    getNoticeList(params).then(res => {\r\n      const { list, total } = res.result\r\n      this.setState({\r\n        list\r\n      })\r\n      if (params.isTotal) {\r\n        this.setState({\r\n          total\r\n        })\r\n      }\r\n    }).catch(res => {\r\n      eventBus.emit('logout#toHome', res)\r\n    })\r\n  }\r\n  onChange = (pageIndex) => {\r\n    this.getReplyMeList({pageIndex})\r\n    this.setState({pageIndex})\r\n  }\r\n\r\n  showModal = (currentData) => {\r\n    const { content } = this.state;\r\n    this.setState({\r\n      visible: true,\r\n      currentData,\r\n      content: ContentUtils.insertText(ContentUtils.clear(content), currentData.content)\r\n    });\r\n  };\r\n  handleEditCancel = () => {\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n  handleEditOk = () => {\r\n    const { currentData: {_id, commit_id}, content, pageIndex } = this.state;\r\n    if (content.isEmpty()) {\r\n      return message.error('内容不能为空')\r\n    }\r\n    this.setState({ confirmLoading: true })\r\n    editNotice({ _id, commit_id, content: content.toText() }).then(res => {\r\n      message.success('编辑成功')\r\n      this.getNoticeList({pageIndex})\r\n      this.setState({ visible: false })\r\n    }).finally(this.setState({ confirmLoading: false }))\r\n  }\r\n\r\n  contentChange = content => {\r\n    this.setState({\r\n      content\r\n    })\r\n  }\r\n\r\n\r\n\r\n\trender() {\r\n    // const { siteId } = this.props.match.params\r\n    const { list, total, pageIndex, visible, confirmLoading, content } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className=\"notice-wrapper max-container\">\r\n          <div className=\"notice-container\">\r\n            <AddNotice handleOk={() => this.getNoticeList({pageIndex, isTotal: 1})} />\r\n            <div className=\"notice-list\">\r\n              <ul>\r\n                {\r\n                  list.map(it => \r\n                    <li key={it._id}>\r\n                      <div className=\"time\">\r\n                        {it.create_time} \r\n                        <div className=\"icons\">\r\n                          <EditOutlined className=\"icon\" onClick={() => this.showModal(it)} />\r\n                          <DelIcon data={it} handleOk={() => this.getNoticeList({pageIndex})} />\r\n                        </div>\r\n                      </div>\r\n                      <div>{it.content}</div>\r\n                    </li>\r\n                  )\r\n                }\r\n              </ul>\r\n            </div>\r\n            <Pagination \r\n              total={total} current={pageIndex} pageSize={10}\r\n              showQuickJumper \r\n              size=\"small\" \r\n              onChange={this.onChange} \r\n            />\r\n          </div>\r\n        </div>\r\n        <Modal\r\n          width={700}\r\n          title=\"编辑\"\r\n          visible={visible}\r\n          maskClosable={false}\r\n          onOk={this.handleEditOk}\r\n          confirmLoading={confirmLoading}\r\n          onCancel={this.handleEditCancel}\r\n          okText=\"提交\"\r\n          cancelText=\"取消\"\r\n        >\r\n          <div className=\"self-wrapper\">\r\n            <div className=\"self-line must\">\r\n              <label>公告</label>\r\n              <BraftEditorMax \r\n                controls={['emoji']}\r\n                className=\"normal-edit\"\r\n                value={content} \r\n                maxLen={MAX_COMMIT_LEN} \r\n                onChange={this.contentChange} \r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n        </Modal>\r\n      </Fragment>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nexport default MessageMng;\r\n\r\n","import React, { Component } from 'react';\r\n// import { getSiteDetail, addView } from '@/store/actions'\r\nimport './Feedback.scss'\r\nimport CommentCtn from '@/commonComp/CommentCtn'\r\nimport { FEEDBACK_SITEID } from '@/common/constant'\r\n// import RecomdList from './RecomdList'\r\n\r\nclass Feedback extends Component {\r\n \r\n\trender() {\r\n    return (\r\n      <div className=\"feedback-wrapper main-content\">\r\n        <div className=\"title\">大家都在聊什么？</div>\r\n        <CommentCtn siteId={FEEDBACK_SITEID} />\r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default Feedback;\r\n","import React, { Component } from 'react';\r\nimport Content from '@/components/Content/Content'\r\n\r\n// import Dialog from '@/commonComp/Dialog'\r\n// import { connect } from 'react-redux'\r\n// import './SystemComp.scss';\r\n// import { Button } from 'antd'\r\nimport { getCollectList, collectSite } from '@/store/actions'\r\nimport { withRouter } from \"react-router\";\r\n\r\n\r\nclass MyCollections extends Component {\r\n\t\r\n\tstate = {\r\n\t\tpageIndex: 1,\r\n\t\tlist: [],\r\n\t\ttotal: 0,\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n    this.getListAndSet({pageIndex: 1, isTotal: 1})\r\n\t}\r\n\t\r\n\tcomponentDidUpdate (prevProps) {\r\n\t\tconst { isSystem } = this.props;\r\n\t\tconst { params: prevParams } = prevProps.match\r\n\t\tconst { params: curParams } = this.props.match\r\n\t\t// console.log(prevParams, curParams)\r\n\t\tif (prevParams.catalog !== curParams.catalog || prevParams.tagName !== curParams.tagName || prevParams.search !== curParams.search) {\r\n      \r\n      this.getListAndSet({pageIndex: 1, isTotal: 1})\r\n    }\r\n\t}\r\n\t\r\n\r\n\tgetListAndSet = (params) => {\r\n\t\tconst { pageIndex: sPageIndex } = this.state;\r\n\r\n\t\tconst { pageIndex=sPageIndex, isTotal } = params;\r\n\t\tconst { match: { params: { catalog } } } = this.props;\r\n\r\n\t\tthis.setState({\r\n\t\t\tpageIndex\r\n\t\t})\r\n\t\t\r\n\t\tgetCollectList({\r\n\t\t\tcatalog: parseInt(catalog) || -1,\r\n\t\t\t// search,\r\n\t\t\tpageIndex,\r\n\t\t\t// search,\r\n\t\t\tisTotal,\r\n\t\t}).then(res => {\r\n\t\t\tthis.setState({\r\n\t\t\t\t...res.result\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\t\r\n\tonChange = pageIndex => {\r\n\t\tthis.getListAndSet({pageIndex})\r\n\t}\r\n\tcollectClick = _id => {\r\n\t\tconst { list } = this.state;\r\n\t\treturn collectSite({_id}).then(res => {\r\n\r\n      this.setState({\r\n      \tlist: list.map(it => it._id === _id ? {...it, isCollected: !it.isCollected} : it)\r\n      })\r\n    })\r\n  }\r\n\trender () {\r\n\t\tconst { pageIndex, list, total } = this.state;\r\n\r\n\t  return (\r\n\t  \t<Content \r\n\t  \t\tlist={list} \r\n\t  \t\ttotal={total} \r\n\t  \t\tcurrent={pageIndex} \r\n\t  \t\tcollectClick={this.collectClick}\r\n\t  \t\tpageSize={5}\r\n\t\t  \tonChange={this.onChange} \r\n\t  \t/>\r\n\t  )\r\n\t}\r\n}\r\n\r\nexport default withRouter(MyCollections);\r\n","import React, { Fragment, Component } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  // Link\r\n} from \"react-router-dom\";\r\nimport Portrait from '@/components/AccountSetting/Portrait'\r\n// import cookie from 'react-cookies'\r\nimport backgrond from '@/commonComp/Background'\r\nimport Header from '@/commonComp/Header'\r\nimport Footer from '@/commonComp/Footer'\r\nimport RightComp from '@/commonComp/RightComp'\r\nimport ComContent from '@/components/ComContent'\r\nimport SiteDetail from '@/components/SiteDetail'\r\nimport MessageMng from '@/components/MessageMng'\r\nimport CatalogMng from '@/components/CatalogMng'\r\nimport NoticeMng from '@/components/NoticeMng'\r\nimport Feedback from '@/components/Feedback'\r\nimport MyCollections from '@/components/MyCollections'\r\n\r\nconst AccountNavRoute = [\r\n\t{\r\n\t\tpath: '/account/portrait',\r\n\t\tname: '头像修改',\r\n\t\texact: true,\r\n\t\tcontent: <Fragment><Portrait /><RightComp isAccount={true} /></Fragment>\r\n\t}\r\n]\r\n\r\n\r\nclass Routers extends Component {\r\n\r\n\t// 这么做的目的是，不使Header和Rightnav多次加载执行didmount\r\n\t/*getContainer (jsx) {\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<div className=\"container main-content-wrapper\">\r\n\t\t\t\t\t{jsx}\r\n\t\t\t\t</div>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}*/\r\n\r\n\trender () {\r\n\t  return (\r\n\t  \t<Router>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<div className=\"container main-content-wrapper\">\r\n\t\t    \t<Switch>\r\n\t\t    \t\t<Route exact path=\"/catalogmng\">\r\n\t\t\t\t\t\t\t<CatalogMng/>\r\n\t\t        </Route>\r\n\t\t    \t\t<Route exact path=\"/noticemng\">\r\n\t\t\t\t\t\t\t<NoticeMng/>\r\n\t\t        </Route>\r\n\t\t    \t\t{/*<Route exact path=\"/collect/:catalog/:search\">\r\n\t\t    \t\t\t<MyCollections />\r\n\t\t\t\t\t\t\t<RightComp isCollect />\r\n\t\t        </Route>*/}\r\n\t\t    \t\t<Route exact path=\"/collect/:catalog\">\r\n\t\t    \t\t\t<MyCollections />\r\n\t\t\t\t\t\t\t<RightComp isCollect />\r\n\t\t        </Route>\r\n\t\t    \t\t<Route exact path=\"/collect\">\r\n\t\t    \t\t\t<MyCollections />\r\n\t\t\t\t\t\t\t<RightComp isCollect />\r\n\t\t        </Route>\r\n\t\t    \t\t<Route exact path=\"/feedback\">\r\n\t\t\t\t\t\t\t<Feedback/>\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        {\r\n\t\t        \t/*AccountNavRoute.map((it, index) => \r\n\t\t\t\t\t\t\t\t<Route key={index} exact={it.exact} path={it.path}>\r\n\t\t\t\t\t\t\t\t\t{it.content}\r\n\t\t\t\t        </Route>\r\n\t\t        \t)*/\r\n\t\t        }\r\n\t\t        <Route exact path=\"/account/portrait\">\r\n\t\t\t\t\t\t\t<Portrait />\r\n\t\t\t\t\t\t\t<RightComp isAccount />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/tag/:tagName\">\r\n\t\t\t\t\t\t\t<ComContent />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/sitedetail/:siteId\">\r\n\t\t\t\t\t\t\t<SiteDetail />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t    \t\t<Route exact path=\"/replyme\">\r\n\t\t\t\t\t\t\t<MessageMng />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/system/:catalog/:search\">\r\n\t\t\t\t\t\t\t<ComContent isSystem />\r\n\t\t\t\t\t\t\t<RightComp isSystem />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/system/:catalog\">\r\n\t\t\t\t\t\t\t<ComContent isSystem />\r\n\t\t\t\t\t\t\t<RightComp isSystem />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/system\">\r\n\t\t\t\t\t\t\t<ComContent isSystem />\r\n\t\t\t\t\t\t\t<RightComp isSystem />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/:catalog/:search\">\r\n\t\t\t\t\t\t\t<ComContent />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/:catalog\">\r\n\t\t\t\t\t\t\t<ComContent />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/\">\r\n\t\t\t\t\t\t\t<ComContent />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        \r\n\t\t        \r\n\t\t        \r\n\t\t        <Route path=\"*\">\r\n\t\t          404\r\n\t\t        </Route>\r\n\t\t      </Switch>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer />\r\n\t    </Router>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default Routers;\r\nexport { AccountNavRoute }","import React, { Component } from 'react';\nimport {connect} from 'react-redux'\nimport '@/assets/css/default.scss'\nimport 'antd/dist/antd.css';\nimport 'cropperjs/dist/cropper.css';\nimport 'braft-editor/dist/index.css'\nimport './App.scss';\n\nimport { getIP, updateComData } from '@/store/actions'\nimport Routers from '@/common/Routers'\n\n\n\n\nclass App extends Component {\n\tstate = {\n\t\tisShow: false\n\t}\n\n\tcomponentDidMount () {\n\t\tgetIP().then(({result}) => {\n\t\t\tconst { is_async, check_reply_num } = result;\n\t\t\t// console.log(is_async)\n\t\t\tthis.props.updateComDate({is_async: !!is_async, check_reply_num})\n\t\t\tthis.setState({\n\t\t\t\tisShow: true\n\t\t\t})\n\t\t})\n\t}\n\n\trender () {\n\t\tconst { isShow } = this.state;\n\t  return (\n\t  \tisShow && <Routers />\n\t  );\n\t}\n}\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  \tupdateComDate (data) {\n      return dispatch(updateComData(data))\n    },\n  \n  };\n};\nexport default connect(null, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { UPDATE_LIST, UPDATE_CATALOG_LIST, UPDATE_DATA, UPDATE_TOP10_LIST, SET_CATALOG, UPDATE_CATALOG_LIST_SITE } from '../actions';\r\nconst initState = {\r\n  top10List: [],  // top10网站\r\n  siteList: [],\r\n  siteTotal: 0,\r\n  catalogList: [],\r\n  catalogListSite: [],\r\n  pageIndex: 1,\r\n  pageSize: 5,\r\n  search: '',\r\n  catalog: -1,\r\n  status: -1,  // 系统管理-如果后面有状态切换的话， 就会需要到\r\n  isSystem: false,\r\n};\r\n\r\nexport default (state = initState, {type, data}) => {\r\n  switch (type) {\r\n    case UPDATE_DATA:\r\n      return {\r\n        ...state,\r\n        ...data\r\n      }\r\n    case UPDATE_LIST:\r\n      if (data.total !== undefined) {\r\n        return {\r\n          ...state,\r\n          siteList: data.list || [],\r\n          siteTotal: data.total\r\n        }\r\n      } else {\r\n      \treturn {\r\n      \t\t...state,\r\n      \t\tsiteList: data.list || []\r\n      \t}\r\n      };\r\n    case UPDATE_CATALOG_LIST: \r\n      return {\r\n        ...state,\r\n        catalogList: data.list || []\r\n      }\r\n    case UPDATE_CATALOG_LIST_SITE: \r\n      return {\r\n        ...state,\r\n        catalogListSite: data.list || []\r\n      }\r\n    case UPDATE_TOP10_LIST: \r\n      return {\r\n        ...state,\r\n        top10List: data.list || []\r\n      }\r\n    case SET_CATALOG: \r\n      return {\r\n        ...state,\r\n        catalog: data\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n","import { SET_USER_NAME, UPDATE_COM_DATA, SET_REPLY_NUM } from '../actions';\r\nimport cookie from 'react-cookies'\r\nconst initState = {\r\n  // ip: '',\r\n  is_async: false,\r\n  user_name: cookie.load('user_name'),\r\n  check_reply_num: 0,\r\n};\r\n\r\nexport default (state = initState, {type, data}) => {\r\n  switch (type) {\r\n    case UPDATE_COM_DATA:\r\n      return {\r\n        ...state,\r\n        ...data\r\n      }\r\n    case SET_USER_NAME: \r\n      return {\r\n        ...state,\r\n        user_name: data\r\n      }\r\n    case SET_REPLY_NUM: \r\n      return {\r\n        ...state,\r\n        check_reply_num: data\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n","import { combineReducers, createStore, applyMiddleware } from 'redux';\r\n// import createHistory from 'history/createBrowserHistory';\r\nimport siteMng from './siteMng'\r\nimport com from './com'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport createSagaMiddleware from 'redux-saga';\r\n// import { ConnectedRouter, routerReducer, routerMiddleware } from 'react-router-redux';\r\n\r\n// const isDevelopment = process.env.NODE_ENV === 'development';\r\n// const composeEnhancers = (isDevelopment && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst middlewares = [sagaMiddleware, thunkMiddleware];\r\n\r\nconst store = createStore(\r\n\tcombineReducers({\r\n\t\tsiteMng,\r\n\t\tcom,\r\n\t}),\r\n\t(applyMiddleware(...middlewares))\r\n);\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { ConfigProvider } from 'antd';\nimport zhCN from 'antd/es/locale/zh_CN';\nimport { Provider } from 'react-redux';\nimport store from '@/store/reducer'\n\nReactDOM.render(\n\t<ConfigProvider locale={zhCN}>\n\t  <Provider store={store}>\n    \t<App />\n\t  </Provider>\n\n  </ConfigProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}