{"version":3,"sources":["assets/images/face.png","assets/images/black-hole.png","assets/images/logo.png","commonComp/Loading/move.js","commonComp/Loading/index.js","common/common.js","common/constant.js","common/eventBus.js","store/actions/index.js","components/AccountSetting/Portrait/react-cropper.js","components/AccountSetting/Portrait/index.js","common/api.js","commonComp/Background/index.js","commonComp/input/Email.js","commonComp/input/CodeBtn.js","commonComp/logReg/loginCookie.js","commonComp/logReg/CheckPassword.js","commonComp/logReg/Register.js","commonComp/logReg/RestPsw.js","commonComp/logReg/Login.js","commonComp/BraftEditorMax/index.js","components/AddWebSite/AddWebSite.js","commonComp/Header/index.js","commonComp/Footer/index.js","commonComp/RightComp/RightNav.js","commonComp/RightComp/StatusNav.js","commonComp/RightComp/Top10Site.js","commonComp/CommentItem/index.js","commonComp/RightComp/NewestCommit.js","commonComp/RightComp/AccountNav.js","commonComp/RightComp/CollectRightNav.js","commonComp/RightComp/Notice.js","commonComp/RightComp/index.js","provider/cur-context.js","commonComp/Dialog.js","commonComp/SiteItem/Icons/DelIcon.js","commonComp/SiteItem/index.js","commonComp/Empty/index.js","components/Content/Content.js","components/ComContent/index.js","commonComp/CommentReplyCtn/index.js","commonComp/CommentCtn/index.js","components/SiteDetail/RecomdList.js","components/SiteDetail/index.js","components/MessageMng/index.js","components/CatalogMng/AddCatalog.js","components/CatalogMng/index.js","components/NoticeMng/Icons/DelIcon.js","components/NoticeMng/AddNotice.js","components/NoticeMng/index.js","components/Feedback/index.js","components/MyCollections.js","components/Standard/index.js","common/Routers.js","App.js","serviceWorker.js","store/reducer/siteMng.js","store/reducer/com.js","store/reducer/index.js","index.js"],"names":["module","exports","RENDERER","PARTICLE_COUNT","PARTICLE_RADIUS","MAX_ROTATION_ANGLE","Math","PI","TRANSLATION_COUNT","init","canvas","width","height","this","setParameters","STRATEGY","createParticles","setupFigure","reconstructMethod","bindEvent","drawFigure","strategy","context","getContext","center","x","y","rotationX","rotationY","strategyIndex","translationCount","theta","strategies","getStrategies","particles","i","push","PARTICLE","bind","changeAngle","window","addEventListener","event","clientX","clientY","length","setAxis","requestAnimationFrame","fillStyle","fillRect","axis","getAxis2D","beginPath","color","arc","fill","rotateX","rotateY","SCATTER_RADIUS","CONE_ASPECT_RATIO","RING_COUNT","createTorus","createSphere","createVase","random","cos","sin","phi","z","hue","round","cosTheta","sinTheta","sqrt","abs","prototype","SPRING","FRICTION","FOCUS_POSITION","COLOR","vx","vy","vz","translating","nextX","nextY","nextZ","angle","rotateZ","getAxis3D","scale","replace","Loading","createRef","state","show","open","timer","current","document","body","clientWidth","clientHeight","clearTimeout","setState","timeClose","a","b","setTimeout","floor","className","style","opacity","zIndex","ref","Component","div","createElement","appendChild","loading","ReactDOM","render","React","isLogOverdue","res","resultCode","LOG_OVERDUE_CODE","getCeil5","num","ceil","isLegal","str","isNaN","reg","test","checkMail","mail","checkUrl","url","trim","getStrChartLen","len","charCodeAt","checkPassword","psw","pswTipText","map","it","isok","reduce","pr","statusMap","statusArr","name","idx","id","nameErrorText","0","1","2","3","tip","pswChartLen","siteNameTip","MAX_SIT_NAME","siteNameErrorText","siteErrorText","siteImgTip","siteImgErrorText","descControls","faceImgTip","EventBus","events","Object","emit","type","e","args","apply","addListener","eventType","fun","split","on","eventBus","updateComData","data","updateSiteMngData","getAuthorization","Authorization","cookie","load","updateSiteList","setUsername","setReplyNum","axios","interceptors","request","use","config","transShow","err","close","Promise","reject","response","message","error","resultMessage","editCatalog","params","post","headers","delCatalog","get","collectSite","getRecomdList","addView","getReportCommit","getSiteList","dispatch","then","result","getAllCatalog","getCatalogList","dispatchCatalogList","addSite","method","editSite","getNoticeList","delNotice","getCollectList","optionProps","unchangeableProps","slice","ReactCropper","options","keys","props","filter","propKey","indexOf","prevOptions","assign","cropper","Cropper","img","nextProps","src","reset","clear","aspectRatio","setAspectRatio","setData","dragMode","setDragMode","cropBoxData","setCropBoxData","canvasData","setCanvasData","moveTo","zoomTo","rotateTo","scaleX","scaleY","enable","disable","forEach","isDifferentVal","isUnchangeableProps","toString","Error","destroy","mode","getCroppedCanvas","getCropBoxData","getCanvasData","getImageData","getContainerData","rounded","getData","crop","offsetX","offsetY","move","ratio","zoom","degree","rotate","onlyColorChanged","alt","crossOrigin","undefined","defaultProps","Portrait","orgSrc","cropImage","onChange","defaultFace","catch","file","flag","size","M","files","preventDefault","dataTransfer","target","imgError","checkImg","reader","FileReader","onload","readAsDataURL","cropped","imgData","toDataURL","success","preview","guides","placement","content","trigger","htmlFor","onClick","display","accept","Backgound","Option","AutoComplete","Email","handleSearch","value","onSelect","domain","onBlur","onSearch","email","key","CodeBtn","mailClick","mailCount","mailCountInterval","startCountDown","clearInterval","setInterval","codeClick","ok","disabled","saveLoginCookie","token","is_async","expires","Date","now","save","path","console","log","removeLoginCookie","remove","getPswErr","CheckPassword","pswok","pswChange","pswBlur","pswErrorTipShow","password","text","isIgnorPsw","pswTipContent","index","CheckOutlined","CloseOutlined","Password","getPswIsOk","placeholder","Register","visible","sendcode","resolve","isEmailError","handleOver","initData","handleOk","code","nameError","confirmLoading","_id","isCodeError","handleCancel","checkName","nameChange","isNameFirst","nameBlur","isPswFirst","codeChange","isCodeFirst","emailChange","isEmailFirst","emailBlur","prevState","title","maskClosable","footer","onCancel","connect","RestPsw","handleOpen","isNameError","isPswError","onOk","Login","refreshCode","pathname","toLowerCase","user_name","check_reply_num","pht","pathType","codeurl","BraftEditorMax","handleChange","val","maxLen","toText","ContentUtils","insertText","Select","AddWebSite","desc","insertHTML","handleSite","status","isEdit","imgfiles","catalog","tags","formData","FormData","append","toHTML","parseInt","handleSure","handleDraft","urlChange","isUrlFirst","isUrlError","urlBlur","fileChange","isImgFirst","onerror","getBase64","previewImage","fileInput","setAttribute","descCheck","isEmpty","handleDescChange","descError","isDescFirst","descBlur","catalogChange","isCatalogFirst","tagChange","isTagFirst","BraftEditor","createEditorState","catalogList","bodyStyle","padding","controls","defaultImg","defaultActiveFirstOption","n","addWebSite","div2","editWebSite","Header","toHome","history","logout","addNewSite","pageIndex","pageSize","isTotal","is_edit","isSystem","routerClick","getTop10SiteList","location","menu","Item","to","AccountNavRoute","logo","Search","enterButton","overlay","withRouter","com","siteMng","orderBy","Footer","year","getFullYear","RightNav","catalogListSite","match","selectedKeys","total","StatusNav","c","search","updateDate","Top10Site","top10List","Comment","children","notOnlyShow","user_face","to_user_name","create_time","site_id","contentDiv","date","xs","getTime","xm","xh","xd","dateForNow","NewestCommit","commitList","CommentItem","AccountNav","CollectRightNav","list","Notice","RightComp","isAccount","isCollect","CurContext","createContext","Dialog","showLoading","hideLoading","okText","cancelText","Box","CloseIcon","showModel","tPageindex","siteTotal","listStatus","isdown","txt","maxPages","VerticalAlignBottomOutlined","siteList","SiteItem","rateChange","isRating","rate","tval","isRated","linkTo","editClick","ctx","emitCollectClick","collectClick","isCollecting","finally","isCollected","statusCode","catalogMap","onlyShow","rateval","ttags","create_user_name","views","commit_total","isNormal","EditOutlined","marginRight","DelIcon","spinning","HeartFilled","allowHalf","dangerouslySetInnerHTML","__html","href","rel","contextType","Empty","Content","onShowSizeChange","showQuickJumper","pageSizeOptions","PureComponent","ComContent","getsys","getListAndSet","sPageIndex","sPageSize","tagName","tag_name","prevProps","prevParams","curParams","Provider","CommentReplyCtn","commitContent","commitData","commit_id","replyList","replyToCommit","user_id","isShowReply","to_user_id","replyToUser","item","report","replyTotal","is_to_commit","collspaeClick","isCheckReply","reply_arr","reply_total","totalStr","hideOnSinglePage","CommentCtn","scrollTo","siteId","RecomdList","SiteDetail","getSite$Add","t_id","siteData","join","marginTop","MessageMng","getReplyMeList","isFeedback","linkurl","site_name","AddCatalog","showModal","EditModal","handleCancle","DelModal","SortableItem","sortable","SortModal","onSortItems","items","handleShow","sortId","JSON","stringify","CatalogMng","editvisible","editloading","currentData","delvisible","delloading","handleEditShow","handleEditCancle","editNameChange","handleEditOk","handleDelShow","handleDelCancle","handleDelOk","itemLayout","dataSource","renderItem","ToolOutlined","delNameChange","checked","checkChange","that","defaultChecked","isToCommit","AddNotice","contentChange","handleEditCancel","Feedback","MyCollections","Standard","exact","Routers","App","isShow","updateComDate","Boolean","hostname","initState","middlewares","createSagaMiddleware","thunkMiddleware","store","createStore","combineReducers","applyMiddleware","locale","zhCN","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"yFAAAA,EAAOC,QAAU,00D,oBCAjBD,EAAOC,QAAU,IAA0B,wC,kBCA3CD,EAAOC,QAAU,84D,kuBCCbC,G,OAAW,CACXC,eAAgB,IAChBC,gBAAiB,EACjBC,mBAAoBC,KAAKC,GAAK,IAC9BC,kBAAmB,IAEnBC,KAAM,SAAUC,EAAQC,EAAOC,GAC3BC,KAAKC,cAAcC,EAAUL,EAAQC,EAAOC,GAC5CC,KAAKG,kBACLH,KAAKI,cACLJ,KAAKK,oBACLL,KAAKM,YACLN,KAAKO,cAETN,cAAe,SAAUO,EAAUX,EAAQC,EAAOC,GAE9CC,KAAKF,MAAQA,EACbE,KAAKD,OAASA,EAEdF,EAAOC,MAAQE,KAAKF,MACpBD,EAAOE,OAASC,KAAKD,OACrBC,KAAKS,QAAUZ,EAAOa,WAAW,MAEjCV,KAAKW,OAAS,CAAEC,EAAGZ,KAAKF,MAAQ,EAAGe,EAAGb,KAAKD,OAAS,GAEpDC,KAAKc,UAAYd,KAAKR,mBACtBQ,KAAKe,UAAYf,KAAKR,mBACtBQ,KAAKgB,cAAgB,EACrBhB,KAAKiB,iBAAmB,EACxBjB,KAAKkB,MAAQ,EAEblB,KAAKmB,WAAaX,EAASY,gBAC3BpB,KAAKqB,UAAY,IAErBlB,gBAAiB,WACb,IAAK,IAAImB,EAAI,EAAGA,EAAItB,KAAKV,eAAgBgC,IACrCtB,KAAKqB,UAAUE,KAAK,IAAIC,EAASxB,KAAKW,UAG9CN,kBAAmB,WACfL,KAAKI,YAAcJ,KAAKI,YAAYqB,KAAKzB,MACzCA,KAAKO,WAAaP,KAAKO,WAAWkB,KAAKzB,MACvCA,KAAK0B,YAAc1B,KAAK0B,YAAYD,KAAKzB,OAE7CM,UAAW,WACPqB,OAAOC,iBAAiB,QAAS5B,KAAKI,aACtCuB,OAAOC,iBAAiB,YAAa5B,KAAK0B,cAI9CA,YAAa,SAAUG,GACnB,IAAIjB,EAAIiB,EAAMC,QACVjB,EAAIgB,EAAME,QAEd/B,KAAKc,WAAad,KAAKW,OAAOE,EAAIA,GAAKb,KAAKW,OAAOE,EAAIb,KAAKR,mBAC5DQ,KAAKe,WAAaf,KAAKW,OAAOC,EAAIA,GAAKZ,KAAKW,OAAOC,EAAIZ,KAAKR,oBAEhEY,YAAa,WACT,IAAK,IAAIkB,EAAI,EAAGU,EAAShC,KAAKqB,UAAUW,OAAQV,EAAIU,EAAQV,IACxDtB,KAAKqB,UAAUC,GAAGW,QAAQjC,KAAKmB,WAAWnB,KAAKgB,oBAE7ChB,KAAKgB,gBAAkBhB,KAAKmB,WAAWa,SACzChC,KAAKgB,cAAgB,GAEzBhB,KAAKiB,iBAAmB,GAE5BV,WAAY,WAER2B,sBAAsBlC,KAAKO,YAE3BP,KAAKS,QAAQ0B,UAAY,qBACzBnC,KAAKS,QAAQ2B,SAAS,EAAG,EAAGpC,KAAKF,MAAOE,KAAKD,QAE7C,IAAK,IAAIuB,EAAI,EAAGU,EAAShC,KAAKqB,UAAUW,OAAQV,EAAIU,EAAQV,IAAK,CAC7D,IAAIe,EAAOrC,KAAKqB,UAAUC,GAAGgB,UAAUtC,KAAKkB,OAE5ClB,KAAKS,QAAQ8B,YACbvC,KAAKS,QAAQ0B,UAAYE,EAAKG,MAC9BxC,KAAKS,QAAQgC,IAAIJ,EAAKzB,EAAGyB,EAAKxB,EAAGb,KAAKT,gBAAiB,EAAa,EAAVE,KAAKC,IAAQ,GACvEM,KAAKS,QAAQiC,OAEjB1C,KAAKkB,QACLlB,KAAKkB,OAAS,IAEd,IAAK,IAAII,EAAI,EAAGU,EAAShC,KAAKqB,UAAUW,OAAQV,EAAIU,EAAQV,IACxDtB,KAAKqB,UAAUC,GAAGqB,QAAQ3C,KAAKc,WAC/Bd,KAAKqB,UAAUC,GAAGsB,QAAQ5C,KAAKe,WAEnCf,KAAKiB,mBACLjB,KAAKiB,kBAAoBjB,KAAKL,kBAEA,IAA1BK,KAAKiB,kBACLjB,KAAKI,iBAIbF,EAAW,CACX2C,eAAgB,IAChBC,kBAAmB,IACnBC,WAAY,EAEZ3B,cAAe,WACX,MAAO,CAACpB,KAAKgD,YAAYvB,KAAKzB,MAAOA,KAAKiD,aAAaxB,KAAKzB,MAAOA,KAAKkD,WAAWzB,KAAKzB,QAW5FgD,YAAa,WACT,IAAI9B,EAAQzB,KAAK0D,SAAW1D,KAAKC,GAAK,EAClCkB,EAAIZ,KAAK6C,eAAiB7C,KAAK6C,eAAiB,EAAIpD,KAAK2D,IAAIlC,GAC7DL,EAAIb,KAAK6C,eAAiB,EAAIpD,KAAK4D,IAAInC,GACvCoC,EAAM7D,KAAK0D,SAAW1D,KAAKC,GAAK,EAEpC,MAAO,CACHkB,EAAGA,EAAInB,KAAK2D,IAAIE,GAChBzC,EAAGA,EACH0C,EAAG3C,EAAInB,KAAK4D,IAAIC,GAChBE,IAAK/D,KAAKgE,MAAMH,EAAM7D,KAAKC,GAAK,MAGxCuD,aAAc,WACV,IAAIS,EAA2B,EAAhBjE,KAAK0D,SAAe,EAC/BQ,EAAWlE,KAAKmE,KAAK,EAAIF,EAAWA,GACpCJ,EAAsB,EAAhB7D,KAAK0D,SAAe1D,KAAKC,GAEnC,MAAO,CACHkB,EAAGZ,KAAK6C,eAAiBc,EAAWlE,KAAK2D,IAAIE,GAC7CzC,EAAGb,KAAK6C,eAAiBc,EAAWlE,KAAK4D,IAAIC,GAC7CC,EAAGvD,KAAK6C,eAAiBa,EACzBF,IAAK/D,KAAKgE,MAAMH,EAAM7D,KAAKC,GAAK,MAyBxCwD,WAAY,WACR,IAAIhC,EAAQzB,KAAK0D,SAAW1D,KAAKC,GAC7BkB,EAAInB,KAAKoE,IAAI7D,KAAK6C,eAAiBpD,KAAK2D,IAAIlC,GAAS,GAAKlB,KAAK6C,eAAiB,EAChFhC,EAAIb,KAAK6C,eAAiBpD,KAAK2D,IAAIlC,GAAS,IAC5CoC,EAAM7D,KAAK0D,SAAW1D,KAAKC,GAAK,EAEpC,MAAO,CACHkB,EAAGA,EAAInB,KAAK2D,IAAIE,GAChBzC,EAAGA,EACH0C,EAAG3C,EAAInB,KAAK4D,IAAIC,GAChBE,IAAK/D,KAAKgE,MAAMH,EAAM7D,KAAKC,GAAK,OAIxC8B,EAAW,SAAUb,GACrBX,KAAKW,OAASA,EACdX,KAAKJ,QAET4B,EAASsC,UAAY,CACjBC,OAAQ,IACRC,SAAU,GACVC,eAAgB,IAChBC,MAAO,uBAEPtE,KAAM,WACFI,KAAKY,EAAI,EACTZ,KAAKa,EAAI,EACTb,KAAKuD,EAAI,EACTvD,KAAKmE,GAAK,EACVnE,KAAKoE,GAAK,EACVpE,KAAKqE,GAAK,EACVrE,KAAKwC,MAAQ,IAEjBP,QAAS,SAAUI,GACfrC,KAAKsE,aAAc,EACnBtE,KAAKuE,MAAQlC,EAAKzB,EAClBZ,KAAKwE,MAAQnC,EAAKxB,EAClBb,KAAKyE,MAAQpC,EAAKkB,EAClBvD,KAAKwD,IAAMnB,EAAKmB,KAEpBb,QAAS,SAAU+B,GACf,IAAIrB,EAAM5D,KAAK4D,IAAIqB,GACftB,EAAM3D,KAAK2D,IAAIsB,GACfF,EAAQxE,KAAKwE,MAAQpB,EAAMpD,KAAKyE,MAAQpB,EACxCoB,EAAQzE,KAAKyE,MAAQrB,EAAMpD,KAAKwE,MAAQnB,EACxCxC,EAAIb,KAAKa,EAAIuC,EAAMpD,KAAKuD,EAAIF,EAC5BE,EAAIvD,KAAKuD,EAAIH,EAAMpD,KAAKa,EAAIwC,EAEhCrD,KAAKwE,MAAQA,EACbxE,KAAKyE,MAAQA,EACbzE,KAAKa,EAAIA,EACTb,KAAKuD,EAAIA,GAEbX,QAAS,SAAU8B,GACf,IAAIrB,EAAM5D,KAAK4D,IAAIqB,GACftB,EAAM3D,KAAK2D,IAAIsB,GACfH,EAAQvE,KAAKuE,MAAQnB,EAAMpD,KAAKyE,MAAQpB,EACxCoB,EAAQzE,KAAKyE,MAAQrB,EAAMpD,KAAKuE,MAAQlB,EACxCzC,EAAIZ,KAAKY,EAAIwC,EAAMpD,KAAKuD,EAAIF,EAC5BE,EAAIvD,KAAKuD,EAAIH,EAAMpD,KAAKY,EAAIyC,EAEhCrD,KAAKuE,MAAQA,EACbvE,KAAKyE,MAAQA,EACbzE,KAAKY,EAAIA,EACTZ,KAAKuD,EAAIA,GAEboB,QAAS,SAAUD,GACf,IAAIrB,EAAM5D,KAAK4D,IAAIqB,GACftB,EAAM3D,KAAK2D,IAAIsB,GACfH,EAAQvE,KAAKuE,MAAQnB,EAAMpD,KAAKwE,MAAQnB,EACxCmB,EAAQxE,KAAKwE,MAAQpB,EAAMpD,KAAKuE,MAAQlB,EACxCzC,EAAIZ,KAAKY,EAAIwC,EAAMpD,KAAKa,EAAIwC,EAC5BxC,EAAIb,KAAKa,EAAIuC,EAAMpD,KAAKY,EAAIyC,EAEhCrD,KAAKuE,MAAQA,EACbvE,KAAKwE,MAAQA,EACbxE,KAAKY,EAAIA,EACTZ,KAAKa,EAAIA,GAEb+D,UAAW,WAaP,OAZA5E,KAAKmE,KAAOnE,KAAKuE,MAAQvE,KAAKY,GAAKZ,KAAK+D,OACxC/D,KAAKoE,KAAOpE,KAAKwE,MAAQxE,KAAKa,GAAKb,KAAK+D,OACxC/D,KAAKqE,KAAOrE,KAAKyE,MAAQzE,KAAKuD,GAAKvD,KAAK+D,OAExC/D,KAAKmE,IAAMnE,KAAKgE,SAChBhE,KAAKoE,IAAMpE,KAAKgE,SAChBhE,KAAKqE,IAAMrE,KAAKgE,SAEhBhE,KAAKY,GAAKZ,KAAKmE,GACfnE,KAAKa,GAAKb,KAAKoE,GACfpE,KAAKuD,GAAKvD,KAAKqE,GAER,CAAEzD,EAAGZ,KAAKY,EAAGC,EAAGb,KAAKa,EAAG0C,EAAGvD,KAAKuD,IAE3CjB,UAAW,SAAUpB,GACjB,IAAImB,EAAOrC,KAAK4E,YACZC,EAAQ7E,KAAKiE,gBAAkBjE,KAAKiE,eAAiB5B,EAAKkB,GAE9D,MAAO,CAAE3C,EAAGZ,KAAKW,OAAOC,EAAIyB,EAAKzB,EAAIiE,EAAOhE,EAAGb,KAAKW,OAAOE,EAAIwB,EAAKxB,EAAIgE,EAAOrC,MAAOxC,KAAKkE,MAAMY,QAAQ,OAAQ9E,KAAKwD,IAAMtC,MAKrH7B,QCnQT0F,E,2MACLlF,OAASmF,sB,EACTC,MAAQ,CACPC,MAAM,EACNC,MAAM,G,EAEPC,MAAQ,K,mFAEP/F,EAASO,KAAKI,KAAKH,OAAOwF,QAASC,SAASC,KAAKC,YAAaF,SAASC,KAAKE,gB,kCAG5EC,aAAa1F,KAAKoF,OAClBpF,KAAK2F,SAAS,CACbT,MAAM,IAEPlF,KAAK4F,c,6BAGLF,aAAa1F,KAAKoF,OAClBpF,KAAK2F,SAAS,CACbR,MAAM,EACND,MAAM,M,8BAIPlF,KAAK2F,SAAS,CACbR,MAAM,IAEPnF,KAAK4F,c,kCAEQ,IA0DUC,EAAGC,EA1Dd,OACZ9F,KAAKoF,MAAQW,YAAW,WACvB,EAAKJ,SAAS,CACbT,MAAM,OAuDeW,EArDL,EAqDQC,EArDL,EAsDfrG,KAAKuG,MAAsB,IAAhBvG,KAAK0D,UAAmB2C,EAAID,IAAU,IAAJA,M,6BAlDnD7F,KAAK2F,SAAS,CACbT,MAAM,M,6BAKPlF,KAAK2F,SAAS,CACbT,MAAM,M,+BAIG,IAAD,EAEclF,KAAKiF,MAApBE,EAFC,EAEDA,KAAMD,EAFL,EAEKA,KAEd,OACC,yBAAKe,UAAW,gBAAkBf,EAAO,MAAQ,OAAQgB,MAAO,CAC/DC,QAAUhB,GAAQD,EAAQ,EAAI,EAC9BkB,OAAQjB,EAAO,IAAM,IAEnB,4BAAQkB,IAAKrG,KAAKH,c,GA3DFyG,aAiElBC,EAAMjB,SAASkB,cAAc,OACjClB,SAASC,KAAKkB,YAAYF,GA0BXG,MAxBDC,IAASC,OAAOC,IAAML,cAClCzB,GACCwB,GCjEUO,EAAe,SAAAC,GAAG,OAAIA,EAAIC,aAAeC,GAOzCC,EAAW,eAACC,EAAD,uDAAK,EAAL,OAAW1H,KAAK2H,KAAW,EAAND,GAAW,GAG3CE,EAAU,WAAa,IAAZC,EAAW,uDAAP,GAC3B,GAAmB,kBAARA,EACV,OAAQC,MAAMD,GAKf,IAAME,EAAM,2CACZ,OAAQA,EAAIC,KAAKH,IAGLI,EAAY,WAAc,IAAbC,EAAY,uDAAP,GAC9B,GAAa,KAATA,GAAwB,OAATA,EAClB,OAAO,EAER,IAAMH,EAAM,qEACZ,OAAOA,EAAIC,KAAKE,IAEJC,EAAW,WAAa,IAAZC,EAAW,uDAAP,GAC5B,GAAY,KAARA,GAAsB,OAARA,EACjB,OAAO,EAER,IAAML,EAAM,4EACZ,OAAOA,EAAIC,KAAKI,IAEJC,EAAO,eAACR,EAAD,uDAAK,GAAL,OAAYA,EAAIxC,QAAQ,cAAc,KAyB7CiD,EAAiB,WAE5B,IAFyC,IAAZT,EAAW,uDAAP,GAC7BU,EAAM,EACD1G,EAAE,EAAGA,EAAEgG,EAAItF,OAAQV,IACtBgG,EAAIW,WAAW3G,GAAG,KAA2B,KAApBgG,EAAIW,WAAW3G,GACzC0G,GAAO,EAEPA,IAGL,OAAOA,GAGIE,EAAgB,WAAa,IAAZC,EAAW,uDAAP,GACjC,OAAOC,EAAWC,KAAI,SAAAC,GAAE,OAAIA,EAAGC,KAAKJ,MAAMK,QAAO,SAAC3C,EAAG4C,GAAJ,OAAW5C,GAAK4C,KAAI,IC/EzDxB,EAAmB,IAQ1ByB,EAAY,GAClBA,EAL2B,GAKF,eACzBA,EAL2B,GAKF,eACzBA,EAL0B,GAKF,eACxBA,EAL2B,GAKF,qBAElB,IAAMC,EAAYD,EAAUL,KAAI,SAACO,EAAMC,GAAP,MAAgB,CAACC,GAAID,EAAKD,WASpDG,EAAgB,CAC5BC,EAAG,8EACHC,EAAG,qEACHC,EAAG,6CACHC,EAAG,oDAESf,EAAa,CACzB,CACCgB,IAAK,2CACLb,KAAM,WAAa,IAAZJ,EAAW,uDAAP,GACJkB,EAActB,EAAeI,GACnC,OAAOkB,GAAe,IAAMA,GAAe,IAG7C,CACCD,IAAK,+FACLb,KAAM,eAACJ,EAAD,uDAAK,GAAL,MAAY,6CAA6CV,KAAKU,KAErE,CACCiB,IAAK,yDACLb,KAAM,eAACJ,EAAD,uDAAK,GAAL,OAAYA,EAAInG,OAAS,IAAO,oBAAoByF,KAAKU,MAMpDmB,EAAW,sBADI,GACJ,mCAA2BC,GAA3B,sEACXC,EAAoB,CAChCR,EAAE,2BAAF,OAH2B,GAG3B,mCAA6BO,GAA7B,sBACAN,EAAG,+DACHC,EAAG,wCAKSO,GADW,sBADI,IACJ,sBACK,CAC5BT,EAAE,2BAAF,OAH2B,IAG3B,sBACAC,EAAG,yCAMSS,EAAU,8FAFL,EAEK,KAEVC,EAAmB,CAC/BX,EAAE,uCACFC,EAAE,yDAEFE,EAAG,kCAaSS,EAAe,CAAC,aAAc,OAAQ,SAAU,YAAa,SAG7DC,EAAU,wCAxBL,EAwBK,K,SC5FjBC,EACJ,aAAe,oBACb9J,KAAK+J,OAAS/J,KAAK+J,QAAU,IAAIC,QAGrCF,EAAShG,UAAUmG,KAAO,SAASC,GAAe,IAChD,IAAIC,EAAInK,KAAK+J,OAAOG,IAAS,GADmB,mBAANE,EAAM,iCAANA,EAAM,kBAEhD,IAAK,IAAI9I,EAAI,EAAGA,EAAI6I,EAAEnI,OAAQV,IAC5B6I,EAAE7I,GAAG+I,MAAMrK,KAAMoK,IAIrBN,EAAShG,UAAUwG,YAAc,SAASC,EAAWC,GAAM,IAAD,EACrCD,EAAUE,MAAM,KADqB,mBACjDP,EADiD,UAItDlK,KAAK+J,OAAOQ,GAAa,CAACC,IAE1BxK,KAAK+J,OAAOG,GAAQlK,KAAK+J,OAAOG,IAAS,GACzClK,KAAK+J,OAAOG,GAAM3I,KAAKiJ,KAG3BV,EAAShG,UAAU4G,GAAKZ,EAAShG,UAAUwG,YAC3C,IAEeK,EAFE,IAAIb,EC8Bd,SAASc,EAAeC,GAC7B,MAAO,CACLX,KA7C2B,kBA8C3BW,QAGG,SAASC,EAAmBD,GACjC,MAAO,CACLX,KApDuB,cAqDvBW,QAUJ,SAASE,IACP,MAAO,CACLC,cAAeC,IAAOC,KAAK,eAAiB,IAIhD,SAASC,EAAgBN,GACvB,MAAO,CACLX,KArEuB,cAsEvBW,QAqBG,SAASO,EAAaP,GAC3B,MAAO,CACLX,KA1FyB,gBA2FzBW,QAGG,SAASQ,KAAsB,IAATR,EAAQ,uDAAH,EAChC,MAAO,CACLX,KA9FyB,gBA+FzBW,QA5FJS,IAAMC,aAAaC,QAAQC,KACzB,SAAAC,GAEE,OADAhF,EAAQiF,YACDD,KAET,SAAAE,GAEE,OADAlF,EAAQmF,QACDC,QAAQC,OAAOH,MAK1BN,IAAMC,aAAaS,SAASP,KAAI,SAAUO,GAAU,IAG1CnB,EAASmB,EAATnB,KACA7D,EAAe6D,EAAf7D,WACR,OAAIA,GAA8B,MAAfA,GACjBiF,IAAQC,MAAMrB,EAAKsB,eACfnF,IAAeC,GAEjB0D,EAASV,KAAK,eAAgBY,GAEhCnE,EAAQmF,QACDC,QAAQC,OAAOlB,IAEjBA,KACN,SAAUe,GAIX,OAFAlF,EAAQmF,QACRI,IAAQC,MAAM,kCACPJ,QAAQC,OAAOH,MAiEjB,IAAMQ,GAAc,SAAAC,GAAM,OAAIf,IAAMgB,KAAW,eAAgBD,EAAQ,CAACE,QAASxB,OAE3EyB,GAAa,SAAAH,GAAM,OAAIf,IAAMmB,IAAU,cAAe,CAACJ,SAAQE,QAASxB,OAExE2B,GAAc,SAAAL,GAAM,OAAIf,IAAMmB,IAAU,eAAgB,CAACJ,SAAQE,QAASxB,OAE1E4B,GAAgB,SAAAN,GAAM,OAAIf,IAAMmB,IAAU,iBAAkB,CAACJ,YAe7DO,GAAU,SAAAP,GAAM,OAAIf,IAAMgB,KAAW,WAAYD,IAGjDQ,GAAkB,SAAAR,GAAM,OAAIf,IAAMmB,IAAU,mBAAoB,CAACJ,YA0BjES,GAAc,SAAAT,GAAM,OAAI,SAAAU,GAEnC,OADArG,EAAQvB,OACDmG,IAAMgB,KAAW,eAAgBD,EAAQ,CAACE,QAASxB,MAAqBiC,MAAK,SAAAjG,GAClFgG,EAAS5B,EAAepE,EAAIkG,SAC5BvG,EAAQmF,aAKCqB,GAAgB,SAAAb,GAAM,OAAI,SAAAU,GAAQ,OAAIzB,IAAMmB,IAAU,iBAAkBJ,GAAQW,MAAK,SAAAjG,GAEhGgG,EA3FO,CACL7C,KA1E+B,sBA2E/BW,KAyFyB9D,EAAIkG,cAG3BE,GAAiB,SAAAd,GAAM,OAAIf,IAAMmB,IAAU,kBAAmB,CAACJ,YAGxDe,GAAsB,SAAAf,GAAM,OAAI,SAAAU,GAAQ,OAAII,GAAed,GAAQW,MAAK,SAAAjG,GAEnFgG,EA7FO,CACL7C,KA/EoC,2BAgFpCW,KA2F6B9D,EAAIkG,cAgBxBI,GAAU,SAAChB,GACtB,OAAOf,IAAME,QAAQ,CACnB3D,IAAW,WACXyF,OAAQ,OACRzC,KAAMwB,EACNE,QAAQ,aAAE,eAAe,uBAA0BxB,QAI1CwC,GAAW,SAAClB,GACvB,OAAOf,IAAME,QAAQ,CACnB3D,IAAW,YACXyF,OAAQ,OACRzC,KAAMwB,EACNE,QAAQ,aAAE,eAAe,uBAA0BxB,QAM1CyC,GAAgB,SAAAnB,GAAM,OAAIf,IAAMmB,IAAU,iBAAkB,CAACJ,YAE7DoB,GAAY,SAAApB,GAAM,OAAIf,IAAMmB,IAAU,aAAc,CAACJ,SAAQE,QAASxB,OAOtE2C,GAAiB,SAAArB,GAAM,OAAIf,IAAMmB,IAAU,kBAAmB,CAACJ,SAAQE,QAASxB,O,sFCjOvF4C,GAAc,CAClB,WACA,cACA,OACA,OAEA,WACA,UACA,aACA,UACA,mBACA,mBACA,QACA,SACA,SACA,YACA,aACA,WACA,eACA,UACA,YACA,WACA,WACA,cACA,cACA,iBACA,iBACA,mBACA,2BACA,oBACA,qBACA,iBACA,kBACA,kBACA,mBACA,QACA,YACA,WACA,UACA,QAGIC,GAAoBD,GAAYE,MAAM,GAEtCC,G,4LACiB,IAAD,OACZC,EAAU/D,OAAOgE,KAAKhO,KAAKiO,OAC9BC,QAAO,SAAAC,GAAO,OAAsC,IAAlCR,GAAYS,QAAQD,MACtC3F,QAAO,SAAC6F,EAAaF,GAAd,OACNnE,OAAOsE,OAAO,GAAID,EAAlBrE,OAAA,KAAAA,CAAA,GAAkCmE,EAAU,EAAKF,MAAME,OAAa,IACxEnO,KAAKuO,QAAU,IAAIC,KAAQxO,KAAKyO,IAAKV,K,uDAGNW,GAAY,IAAD,OACtCA,EAAUC,MAAQ3O,KAAKiO,MAAMU,KAC/B3O,KAAKuO,QAAQK,QAAQC,QAAQ/J,QAAQ4J,EAAUC,KAE7CD,EAAUI,cAAgB9O,KAAKiO,MAAMa,aACvC9O,KAAK+O,eAAeL,EAAUI,aAE5BJ,EAAU7D,OAAS7K,KAAKiO,MAAMpD,MAChC7K,KAAKgP,QAAQN,EAAU7D,MAErB6D,EAAUO,WAAajP,KAAKiO,MAAMgB,UACpCjP,KAAKkP,YAAYR,EAAUO,UAEzBP,EAAUS,cAAgBnP,KAAKiO,MAAMkB,aACvCnP,KAAKoP,eAAeV,EAAUS,aAE5BT,EAAUW,aAAerP,KAAKiO,MAAMoB,YACtCrP,KAAKsP,cAAcZ,EAAUW,YAE3BX,EAAUa,SAAWvP,KAAKiO,MAAMsB,SAC9Bb,EAAUa,OAAOvN,OAAS,EAC5BhC,KAAKuP,OAAOb,EAAUa,OAAO,GAAIb,EAAUa,OAAO,IAElDvP,KAAKuP,OAAOb,EAAUa,OAAO,KAG7Bb,EAAUc,SAAWxP,KAAKiO,MAAMuB,QAClCxP,KAAKwP,OAAOd,EAAUc,QAEpBd,EAAUe,WAAazP,KAAKiO,MAAMwB,UACpCzP,KAAKyP,SAASf,EAAUe,UAEtBf,EAAUgB,SAAW1P,KAAKiO,MAAMyB,QAClC1P,KAAK0P,OAAOhB,EAAUgB,QAEpBhB,EAAUiB,SAAW3P,KAAKiO,MAAM0B,QAClC3P,KAAK2P,OAAOjB,EAAUiB,QAEpBjB,EAAUkB,SAAW5P,KAAKiO,MAAM2B,SAC9BlB,EAAUkB,OACZ5P,KAAK4P,SAEL5P,KAAK6P,WAIT7F,OAAOgE,KAAKU,GAAWoB,SAAQ,SAAC3B,GAC9B,IAAI4B,EAAiBrB,EAAUP,KAAa,EAAKF,MAAME,GACjD6B,GAA8D,IAAxCpC,GAAkBQ,QAAQD,GAMtD,GAJkC,oBAAvBO,EAAUP,IAA0D,oBAAxB,EAAKF,MAAME,KAChE4B,EAAiBrB,EAAUP,GAAS8B,aAAe,EAAKhC,MAAME,GAAS8B,YAGrEF,GAAkBC,EACpB,MAAM,IAAIE,MAAJ,gBAAmB/B,EAAnB,kD,6CAMNnO,KAAKyO,MAEPzO,KAAKuO,QAAQ4B,iBACNnQ,KAAKyO,WACLzO,KAAKuO,W,kCAIJ6B,GACV,OAAOpQ,KAAKuO,QAAQW,YAAYkB,K,qCAGnBtB,GACb,OAAO9O,KAAKuO,QAAQQ,eAAeD,K,uCAGpBf,GACf,OAAO/N,KAAKuO,QAAQ8B,iBAAiBtC,K,qCAGxBlD,GACb,OAAO7K,KAAKuO,QAAQa,eAAevE,K,uCAInC,OAAO7K,KAAKuO,QAAQ+B,mB,oCAGRzF,GACZ,OAAO7K,KAAKuO,QAAQe,cAAczE,K,sCAIlC,OAAO7K,KAAKuO,QAAQgC,kB,qCAIpB,OAAOvQ,KAAKuO,QAAQiC,iB,yCAIpB,OAAOxQ,KAAKuO,QAAQkC,qB,8BAGd5F,GACN,OAAO7K,KAAKuO,QAAQS,QAAQnE,K,8BAGtB6F,GACN,OAAO1Q,KAAKuO,QAAQoC,QAAQD,K,6BAI5B,OAAO1Q,KAAKuO,QAAQqC,S,2BAGjBC,EAASC,GACZ,OAAO9Q,KAAKuO,QAAQwC,KAAKF,EAASC,K,6BAG7BlQ,EAAGC,GACR,OAAOb,KAAKuO,QAAQgB,OAAO3O,EAAGC,K,2BAG3BmQ,GACH,OAAOhR,KAAKuO,QAAQ0C,KAAKD,K,6BAGpBA,GACL,OAAOhR,KAAKuO,QAAQiB,OAAOwB,K,6BAGtBE,GACL,OAAOlR,KAAKuO,QAAQ4C,OAAOD,K,+BAGpBA,GACP,OAAOlR,KAAKuO,QAAQkB,SAASyB,K,+BAI7B,OAAOlR,KAAKuO,QAAQqB,W,gCAIpB,OAAO5P,KAAKuO,QAAQsB,Y,8BAIpB,OAAO7P,KAAKuO,QAAQK,U,8BAIpB,OAAO5O,KAAKuO,QAAQM,U,8BAGdhH,EAAKuJ,GACX,OAAOpR,KAAKuO,QAAQzJ,QAAQ+C,EAAKuJ,K,4BAG7B1B,EAAQC,GACZ,OAAO3P,KAAKuO,QAAQ1J,MAAM6K,EAAQC,K,6BAG7BD,GACL,OAAO1P,KAAKuO,QAAQmB,OAAOA,K,6BAGtBC,GACL,OAAO3P,KAAKuO,QAAQoB,OAAOA,K,+BAGnB,IAAD,SAOH3P,KAAKiO,MALPU,EAFK,EAELA,IACA0C,EAHK,EAGLA,IACAC,EAJK,EAILA,YACApL,EALK,EAKLA,MACAD,EANK,EAMLA,UAEF,OACE,yBACEC,MAAOA,EACPD,UAAWA,GAEX,yBACEqL,YAAaA,EACbjL,IAAK,SAACoI,GAAU,EAAKA,IAAMA,GAC3BE,IAAKA,EACL0C,SAAaE,IAARF,EAAoB,UAAYA,EACrCnL,MAAO,CAAEC,QAAS,U,GAxMDG,aA+R3BwH,GAAa0D,aAAe,CAC1B7C,IAAK,KACLM,SAAU,OACVpE,KAAM,KACN6E,OAAQ,EACRC,OAAQ,EACRC,QAAQ,EACRJ,OAAQ,EACRC,SAAU,GAGG3B,U,qBCxKA2D,G,YAxJb,WAAYxD,GAAQ,IAAD,8BACjB,4CAAMA,KACDhJ,MAAQ,CACX0J,IAAK,GACL+C,OAAQ,IAIV,EAAKC,UAAY,EAAKA,UAAUlQ,KAAf,iBACjB,EAAKmQ,SAAW,EAAKA,SAASnQ,KAAd,iBATC,E,iFAWG,IF2LO4K,EE3LR,OAEnB3F,EAAQiF,YFyL6BL,IAAMgB,KAAW,mBAAoBD,EAAQ,CAACE,QAASxB,MExL1EiC,MAAK,SAAAjG,GAAQ,IACrBkG,EAAWlG,EAAXkG,OACR,EAAKtH,SAAS,CACZ+L,OAAQzE,EC3C8C,GD2C5BA,EAAS4E,UAEpCC,OAAM,SAAA/K,GACP4D,EAASV,KAAK,gBAAiBlD,Q,+BAGzBgL,GACR,IAAIC,GAAQ,EAMZ,OALID,EAAKE,KJoBeC,QInBtBF,EAAO,GACkC,IAAhCD,EAAK7H,KAAKkE,QAAQ,WAC3B4D,EAAO,GAEFA,I,+BAEA7H,GAAI,IAEPgI,EAFM,OAQV,GAPAhI,EAAEiI,iBAEEjI,EAAEkI,aACJF,EAAQhI,EAAEkI,aAAaF,MACdhI,EAAEmI,SACXH,EAAQhI,EAAEmI,OAAOH,OAEE,IAAjBA,EAAMnQ,OAAV,CARU,MAYKmQ,EAARJ,EAZG,oBAaJQ,EAAWvS,KAAKwS,SAAST,GAC/B,IAAkB,IAAdQ,EAAJ,CAQA,IAAME,EAAS,IAAIC,WACnBD,EAAOE,OAAS,WACd,EAAKhN,SAAS,CAAEgJ,IAAK8D,EAAOxF,SAC5B,EAAKsB,QAAQzJ,QAAQ2N,EAAOxF,SAE9BwF,EAAOG,cAAcb,QATnB9F,IAAQC,MAAMvC,EAAiB4I,SAT/BtG,IAAQC,MAAM,0C,kCAsBhB,IAAM2G,EAAU7S,KAAKuO,QAAQ8B,mBAE7B,GAAKwC,EAAL,CAIA,IFqGwBxG,EErGlByG,EAAUD,EAAQE,aFqGA1G,EEpGX,CAACyG,WFoGoBxH,IAAMgB,KAAW,gBAAiBD,EAAQ,CAACE,QAASxB,OEnGnFiC,MAAK,SAAAjG,GAAG,OAAIkF,IAAQ+G,QAAQjM,EAAIoF,uBALjCF,IAAQC,MAAMvC,EAAiB,M,+BAazB,IAAD,SAEiB3J,KAAKiF,MAArB0J,EAFD,EAECA,IAAK+C,EAFN,EAEMA,OAEb,OACE,yBAAKzL,UAAU,+BACb,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,eACb,kBAAC,GAAD,CACEC,MAAO,CAAEnG,OAAQ,IAAKD,MAAO,KAC7BgP,YAAa,EACbmE,QAAQ,eACRC,QAAQ,EACRvE,IAAK3O,KAAKiF,MAAM0J,IAChBtI,IAAK,SAAAkI,GAAa,EAAKA,QAAUA,KAEnC,yBAAKtI,UAAW,uBAA2B0I,EAAM,SAAW,OAE9D,yBAAK1I,UAAU,gBACb,kBAAC,KAAD,CAASkN,UAAU,UAAUC,QAAS,6BAAMvJ,GAAmBwJ,QAAQ,SACrE,2BAAOpN,UAAU,UAAUqN,QAAQ,WAAnC,6BAEF,kBAAC,KAAD,CAAQpJ,KAAK,UAAUqJ,QAASvT,KAAK2R,WAArC,6BAGF,2BAAO7I,GAAG,UAAUoB,KAAK,OAAOhE,MAAO,CAACsN,QAAS,QAASC,OAAO,UAAU7B,SAAU5R,KAAK4R,YAE5F,yBAAK3L,UAAU,eACb,wBAAIA,UAAU,SAAd,4BAEI0I,EACA,yBAAK1I,UAAU,mBACb,yBAAKA,UAAU,gBACf,wDACA,yBAAKA,UAAU,sBACf,uDAEF,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,eACb,yBAAK0I,IAAK+C,EAAQL,IAAI,MAExB,wDACA,yBAAKpL,UAAU,qBACb,yBAAK0I,IAAK+C,EAAQL,IAAI,MAExB,8D,GA/HK/K,aEpBjBoN,I,wLAEF,OACE,yBAAKzN,UAAU,cACb,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,eACf,yBAAKA,UAAU,eACf,yBAAKA,UAAU,cACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,gBACf,yBAAKA,UAAU,gBACf,yBAAKA,UAAU,iBACf,yBAAKA,UAAU,eACf,yBAAKA,UAAU,wBACf,yBAAKA,UAAU,aACf,yBAAKA,UAAU,4B,GAfCK,cAoBpBC,GAAMjB,SAASkB,cAAc,OACjClB,SAASC,KAAKkB,YAAYF,IAETI,IAASC,OAAOC,IAAML,cACrCkN,IACCnN,IAFH,I,8BCxBQoN,GAAWC,KAAXD,OA4COE,G,2MAzCb5O,MAAQ,CACNgI,OAAQ,I,EAEV6G,aAAe,SAAAC,GACb,IAAIhN,EAAM,GACV,EAAKkH,MAAM+F,SAASD,GAElBhN,GADGgN,GAASA,EAAM3F,QAAQ,MAAQ,EAC5B,GAEA,CAAC,SAAU,UAAW,cAAe,aAAa/F,KAAI,SAAA4L,GAAM,gBAAOF,EAAP,YAAgBE,MAGpF,EAAKtO,SAAS,CACZsH,OAAQlG,K,wEAID,IAEDkG,EAAWjN,KAAKiF,MAAhBgI,OAER,OACE,kBAAC,KAAD,eACE/G,MAAO,CACLpG,MAAO,KAEToU,OAAQlU,KAAKiO,MAAMiG,OACnBC,SAAUnU,KAAK8T,cACX9T,KAAKiO,OAERhB,EAAO5E,KAAI,SAAA+L,GAAK,OACf,kBAACT,GAAD,CAAQU,IAAKD,EAAOL,MAAOK,GACxBA,W,GAjCO9N,aC8CLgO,G,2MA9CbrP,MAAQ,CACNsP,WAAW,EACXC,URDsB,I,EQIxBC,kBAAoB,K,EAEpBC,eAAiB,WACfC,cAAc,EAAKF,mBACnB,EAAKA,kBAAoBG,aAAY,WAAO,IAClCJ,EAAc,EAAKvP,MAAnBuP,UACR,GAAIA,GAAa,EAMf,OALA,EAAK7O,SAAS,CACZ4O,WAAW,EACXC,URbgB,UQelBG,cAAc,EAAKF,mBAGrB,EAAK9O,SAAS,CACZ6O,UAAWA,EAAY,MAExB,M,EAGLK,UAAY,WACV,EAAKlP,SAAS,CACZ4O,WAAW,IAGb,EAAKtG,MAAMsF,UACRvG,MAAK,SAAA8H,GAAE,OAAI,EAAKJ,oBAChB5C,OAAM,SAAAlG,GAAG,OAAI,EAAKjG,SAAS,CAAE4O,WAAW,Q,wEAGlC,IAAD,EAEyBvU,KAAKiF,MAA9BsP,EAFA,EAEAA,UAAWC,EAFX,EAEWA,UAEnB,OACE,kBAAC,KAAD,CAAQjB,QAASvT,KAAK6U,UAAWE,SAAUR,EAAWrK,KAAK,QAAQqK,EAAS,UAAMC,EAAN,mCAA0B,sC,GAzCtFlO,aCAT0O,GAAkB,SAAClM,EAAImM,EAAOrM,EAAMsM,GAChD,IAAMC,EAAU,IAAIC,KAAKA,KAAKC,MTgBH,MSd3BpK,IAAOqK,KAAK,UAAWxM,EAAI,CAACyM,KAAM,IAAKJ,YACvClK,IAAOqK,KAAK,aAAcL,EAAO,CAACM,KAAM,IAAKJ,YAC7ClK,IAAOqK,KAAK,YAAa1M,EAAM,CAAC2M,KAAM,IAAKJ,YAC3CK,QAAQC,IAAI3M,EAAImM,EAAOrM,EAAMsM,IAIjBQ,GAAoB,WAChCzK,IAAO0K,OAAO,UAAW,CAACJ,KAAM,MAC7BtK,IAAO0K,OAAO,aAAc,CAACJ,KAAM,MACnCtK,IAAO0K,OAAO,YAAa,CAACJ,KAAM,O,oBCZtC,SAASK,KAAoB,IAATzN,EAAQ,uDAAJ,GACvB,OAAOC,EAAWC,KAAI,SAAAC,GAAE,OAAIA,EAAGC,KAAKJ,M,IAsEtB0N,G,2MAjEd5Q,MAAQ,CAEP6Q,MAAOF,M,EAGRG,UAAY,SAAA5L,GACX,IACM2L,EAAQF,GADGzL,EAAEmI,OAAOyB,OAE1B,EAAKpO,SAAS,CAEbmQ,UAGD,EAAK7H,MAAM2D,SAASzH,I,EAQrB6L,QAAU,SAAC7L,GACV,EAAK8D,MAAMiG,OAAO/J,I,0EAJP2L,GACX,OAAOA,EAAMtN,QAAO,SAAC3C,EAAG4C,GAAJ,OAAW5C,GAAK4C,KAAI,K,+BAShC,IAEEqN,EAAU9V,KAAKiF,MAAf6Q,MAFF,EAGsC9V,KAAKiO,MAAzCgI,EAHF,EAGEA,gBAAiBC,EAHnB,EAGmBA,SAAUC,EAH7B,EAG6BA,KAC/BC,EAAiC,IAApBF,EAASlU,OACtBqU,EACL,wBAAIpQ,UAAU,gBAEZmC,EAAWC,KAAI,SAACC,EAAIgO,GACnB,IAAM/N,EAAOuN,EAAMQ,GACnB,OAAO,wBAAIjC,IAAKiC,EAAOrQ,UAAWsC,GAAQ6N,EAAa,GAAK,UAAYA,IAAe7N,EAAO,kBAACgO,GAAA,EAAD,MAAmB,kBAACC,GAAA,EAAD,OAA1G,IAA8HlO,EAAGc,SAK1I,OACC,kBAAC,WAAD,KACC,kBAAC,KAAD,CAAS+J,UAAU,UAAUC,QAASiD,EAAehD,QAAQ,SAC9D,+BAAQ8C,GAAQ,gBAChB,kBAAC,KAAMM,SAAP,CACCxQ,WAAYjG,KAAK0W,WAAWZ,KAAUM,GAAgBH,EAAuB,QAAL,GAExE/B,OAAQlU,KAAKgW,QACbW,YAAY,6CACZ/E,SAAU5R,KAAK+V,UACfhC,MAAOmC,KAIRD,GAAmB,uBAAGhQ,UAAU,aAAb,+D,GA3DIK,aCUtBsQ,G,YAEL,WAAa3I,GAAQ,IAAD,8BACnB,4CAAMA,KA2BP9I,KAAO,WAEN,EAAKQ,SAAS,CACZkR,SAAS,KA/BQ,EAqCpBC,SAAW,WAAO,IACT1C,EAAU,EAAKnP,MAAfmP,MAER,OAAO,IAAItI,SAAQ,SAACiL,EAAShL,GAC5B,IAAKrE,EAAU0M,IAA2B,IAAjBA,EAAMpS,OAE9B,OADA,EAAK2D,SAAS,CAACqR,cAAc,IACtBjL,IT4De,IAAAM,KS1DZ,CAAC+H,ST0DqB9I,IAAMgB,KAAW,mBAAoBD,IS1DlDW,MAAK,SAAAjG,GACxBkF,IAAQ+G,QAAQ,gHAChB+D,OACEjF,OAAM,SAAA/K,GAAG,OAAIgF,WAhDE,EAsDpBkL,WAAa,WAEZ,EAAKtR,SAAL,eACI,EAAKuR,SADT,CAEEL,SAAS,MA1DQ,EA8DpBM,SAAW,WAAO,IT+CK9K,ES/CN,EACmC,EAAKpH,MAAhD2D,EADQ,EACRA,KAAMsN,EADE,EACFA,SAAU9B,EADR,EACQA,MAAOgD,EADf,EACeA,MAEZ,IAHH,EACqBC,YAKjB,IAAhBzO,EAAK5G,OAIJkG,EAAcgO,GAQdxO,EAAU0M,IAA2B,IAAjBA,EAAMpS,OAIX,IAAhBoV,EAAKpV,QAMT,EAAK2D,SAAS,CAAC2R,gBAAgB,KTmBTjL,ESlBb,CAACzD,OAAMsN,WAAU9B,QAAOgD,QTkBD9L,IAAMgB,KAAW,YAAaD,ISlBtBW,MAAK,SAAAnC,GAAQ,IAE5CoC,EAA0BpC,EAA1BoC,OAAQd,EAAkBtB,EAAlBsB,cACRoL,EAAyBtK,EAAzBsK,IAAKtC,EAAoBhI,EAApBgI,MAAOC,EAAajI,EAAbiI,SAEpBF,GAAgBuC,EAAKtC,EAAOrM,GAE5BqD,IAAQ+G,QAAQ7G,GAChB,EAAKxG,SAAS,CACbkR,SAAS,EACTS,gBAAgB,IAGjB,EAAKrJ,MAAM7C,YAAYxC,GACvB,EAAKqF,MAAMrD,cAAc,CAACsK,gBACxBpD,OAAM,SAAA/K,GAAG,OAAI,EAAKpB,SAAS,CAAE2R,gBAAgB,QArB/C,EAAK3R,SAAS,CAAC6R,aAAa,IAJ5B,EAAK7R,SAAS,CAACqR,cAAc,IAR7B,EAAKrR,SAAS,CAAEsQ,iBAAiB,IAJjC,EAAKtQ,SAAS,CAAC0R,UAAW,MArER,EA8GpBI,aAAe,WAEd,EAAK9R,SAAS,CACbkR,SAAS,KAjHS,EAiIpBa,UAAY,SAAC9O,GACZ,IAAIyO,GAAa,EAUjB,OAToBtP,EAAea,GXjIP,GWmI3ByO,EAAY,EAEDhQ,EAAQuB,GAEA,KAATA,IACVyO,EAAY,GAFZA,EAAY,EAINA,GA5IY,EA+IpBM,WAAa,SAAAxN,GAAM,IACV4J,EAAU5J,EAAEmI,OAAZyB,MAER,EAAKpO,SAAS,CACbiD,KAAMmL,EACN6D,aAAa,EACbP,UAAW,EAAKK,UAAU3D,MArJR,EAyJpB8D,SAAW,WAAO,IT4CWxL,ES3CpBzD,EAAS,EAAK3D,MAAd2D,KACFyO,EAAY,EAAKK,UAAU9O,IACd,IAAfyO,GTyCwBhL,ESxCZ,CAACzD,QTwCqB0C,IAAMmB,IAAU,aAAc,CAACJ,YSxC7CW,MAAK,SAAAjG,GACvBA,EAAIkG,QACP,EAAKtH,SAAS,CACb0R,UAAW,OAKd,EAAK1R,SAAS,CACb0R,eAtKiB,EA2KpBtB,UAAY,SAAA5L,GACX,IAAM+L,EAAW/L,EAAEmI,OAAOyB,MAC1B,EAAKpO,SAAS,CACbuQ,WACAD,iBAAiB,EACjB6B,YAAY,KAhLM,EAoLpB9B,QAAU,SAAC7L,GACV,EAAKxE,SAAS,CAAEsQ,iBAAkB/N,EAAciC,EAAEmI,OAAOyB,UArLtC,EAgMpBgE,WAAa,SAAA5N,GACZ,IAAMiN,EAAOjN,EAAEmI,OAAOyB,MACtB,EAAKpO,SAAS,CACbyR,OACAI,YAA6B,IAAhBJ,EAAKpV,OAClBgW,aAAa,KArMK,EAwMpBC,YAAc,SAAC7D,GAEd,IAAM4C,GAAgBtP,EAAU0M,GAChC,EAAKzO,SAAS,CACbyO,QACA8D,cAAc,IAGVlB,GACJ,EAAKrR,SAAS,CACbqR,kBAlNiB,EAsNpBmB,UAAY,WACX,EAAKxS,UAAS,SAACyS,GACd,MAAO,CACNpB,cAAetP,EAAU0Q,EAAUhE,YAvNrC,EAAK8C,SAAW,CACftO,KAAM,GACNsN,SAAU,GAEVkB,KAAM,GACNhD,MAAO,GACPiD,WAAY,EACZpB,iBAAiB,EAEjBe,cAAc,EACdQ,aAAa,EAEbI,aAAa,EACbE,YAAY,EACZI,cAAc,EACdF,aAAa,GAGd,EAAK/S,MAAL,aACC4R,SAAS,EACTS,gBAAgB,GACb,EAAKJ,UAvBU,E,sEA+NV,IAAD,EAKFlX,KAAKiF,MAHR4R,EAFK,EAELA,QAASS,EAFJ,EAEIA,eAAgB1O,EAFpB,EAEoBA,KAAMsN,EAF1B,EAE0BA,SAAUkB,EAFpC,EAEoCA,KACzCC,EAHK,EAGLA,UAAWL,EAHN,EAGMA,aAAcQ,EAHpB,EAGoBA,YAAavB,EAHjC,EAGiCA,gBACtC2B,EAJK,EAILA,YAAaE,EAJR,EAIQA,WAAYI,EAJpB,EAIoBA,aAAcF,EAJlC,EAIkCA,YAIxC,OACC,kBAAC,WAAD,KACC,kBAAC,KAAD,CAAQzE,QAASvT,KAAKmF,KAAM+E,KAAK,QAAjC,gBACC,kBAAC,KAAD,CACCpK,MAAO,IACVuY,MAAM,eACNxB,QAASA,EACTyB,cAAc,EACdC,OAAQ,KAERC,SAAUxY,KAAKyX,cAKX,yBAAKxR,UAAU,gBAElB,yBAAKA,UAAU,kBACd,kBAAC,KAAD,CAASkN,UAAU,UAAUC,QAAS,6BXpPlB,iMWoP4CC,QAAQ,SACvE,qDACA,kBAAC,KAAD,CAAOpN,WAA0B,IAAfoR,GAAoB,QAASV,YAAY,uCAASzC,OAAQlU,KAAK6X,SAAUjG,SAAU5R,KAAK2X,WAAY5D,MAAOnL,KAG7HG,EAAcsO,IAAc,uBAAGpR,UAAU,aAAa8C,EAAcsO,KAItE,yBAAKpR,UAAU,kBACd,kBAAC,GAAD,CACCiQ,SAAUA,EACVD,gBAAiBA,EACjB/B,OAAQlU,KAAKgW,QACbpE,SAAU5R,KAAK+V,aAQjB,yBAAK9P,UAAU,kBACd,+CAEA,kBAAC,GAAD,CAAOA,UAAW+Q,GAAgB,QAAS9Q,MAAO,CAACpG,MAAO,QAAS6W,YAAY,+DAAazC,OAAQlU,KAAKmY,UAAWnE,SAAUhU,KAAKiY,cAElIjB,GAAgB,uBAAG/Q,UAAU,aAAb,+CAGlB,yBAAKA,UAAU,kBACd,qDACA,yBAAKA,UAAU,UACd,6BACC,kBAAC,KAAD,CAAOA,UAAWuR,GAAe,QAASb,YAAY,uCAAS/E,SAAW5R,KAAK+X,WAAYhE,MAAOqD,EAAMlR,MAAO,CAACpG,MAAO,OACvH,kBAAC,GAAD,CAASyT,QAASvT,KAAK8W,YAGvBU,GAAe,uBAAGvR,UAAU,aAAb,gDAKlB,yBAAKA,UAAU,aACd,kBAAC,KAAD,CACC8O,YAAW6C,GAAeE,GAAcE,GAAeE,MAAuC,IAAfb,IAAqBnP,EAAcgO,IAAac,GAAgBQ,GAC/ItR,MAAO,CAACpG,MAAO,QACfoK,KAAK,UACLxD,QAAS4Q,EACT/D,QAASvT,KAAKmX,UALf,wB,GAvSgB7Q,aAoURsQ,GADfA,GAAW6B,YAAQ,MAVQ,SAAA1L,GACzB,MAAO,CACN3B,YADM,SACOxC,GACb,OAAOmE,EAAS3B,EAAYxC,KAE5BgC,cAJM,SAISC,GACd,OAAOkC,EAASnC,EAAcC,QAIvB4N,CAAkC7B,ICvI9B8B,G,YA/Ld,WAAazK,GAAQ,IAAD,8BACnB,4CAAMA,KAsBP6I,SAAW,WAAO,IACTlO,EAAS,EAAK3D,MAAd2D,KAGR,OAAO,IAAIkD,SAAQ,SAACiL,EAAShL,GVmFJ,IAAAM,KUlFZ,CAACzD,QVkFqB0C,IAAMgB,KAAW,mBAAoBD,IUlFnDW,MAAK,SAAAjG,GACxBkF,IAAQ+G,QAAQjM,EAAIoF,kBAClB2F,OAAM,SAAA/K,GAAG,OAAIgF,WA9BE,EAqCpB5G,KAAO,WAAO,IACLwT,EAAe,EAAK1K,MAApB0K,WACR,EAAKhT,SAAS,CACZkR,SAAS,IAGX8B,GAAcA,KA3CK,EAiDpB1B,WAAa,WAEZ,EAAKtR,SAAL,eACI,EAAKuR,SADT,CAEEL,SAAS,MArDQ,EAyDpBM,SAAW,WAAO,IVsDU9K,EUtDX,EACiB,EAAKpH,MAA9B2D,EADQ,EACRA,KAAMsN,EADE,EACFA,SAAUkB,EADR,EACQA,KACxB,EAAKzR,SAAS,CAAC2R,gBAAgB,KVoDJjL,EUnDb,CAACzD,OAAMsN,WAAUkB,KAAMA,EAAKnH,YVmDL3E,IAAMgB,KAAW,iBAAkBD,IUnDjBW,MAAK,SAAAnC,GAC3D,EAAKlF,SAAS,CAAC2R,gBAAgB,IADoC,IAE3DnL,EAAkBtB,EAAlBsB,cACRF,IAAQ+G,QAAQ7G,GAChB,EAAK8K,gBACHnF,OAAM,SAAA/K,GAAG,OAAI,EAAKpB,SAAS,CAAC2R,gBAAgB,QAjE5B,EAqEpBG,aAAe,WAEd,EAAK9R,SAAS,CACbkR,SAAS,KAxES,EAmFpBc,WAAa,SAAAxN,GACZ,IAAMvB,EAAOuB,EAAEmI,OAAOyB,MAEtB,EAAKpO,SAAS,CACbiD,OACAgQ,aAAchQ,EACdgP,aAAa,KAzFK,EA6FpBG,WAAa,SAAA5N,GACZ,EAAKxE,SAAS,CACbyR,KAAMjN,EAAEmI,OAAOyB,MACfiE,aAAa,KAhGK,EAoGpBjC,UAAY,SAAA5L,GACX,IAAM+L,EAAW/L,EAAEmI,OAAOyB,MAC1B,EAAKpO,SAAS,CACbuQ,WACAD,iBAAiB,EACjB6B,YAAY,KAzGM,EA6GpB9B,QAAU,SAAC7L,GACV,EAAKxE,SAAS,CAAEsQ,iBAAkB/N,EAAciC,EAAEmI,OAAOyB,UA9GtC,EAgHpB8D,SAAW,WACV,EAAKlS,UAAS,SAAAyS,GAAS,MAAK,CAACQ,aAAcR,EAAUxP,UA/GrD,EAAKsO,SAAW,CACftO,KAAM,GACNsN,SAAU,GACVkB,KAAM,GACNnB,iBAAiB,EAEjB2B,aAAa,EACbE,YAAY,EACZE,aAAa,EACbY,aAAa,EACbC,YAAY,EACZrB,aAAa,GAGd,EAAKvS,MAAL,aACC4R,SAAS,EACTS,gBAAgB,GACb,EAAKJ,UAnBU,E,sEAwHV,IAAD,EAIDlX,KAAKiF,MAHF4R,EADF,EACEA,QAASS,EADX,EACWA,eAAgB1O,EAD3B,EAC2BA,KAAMsN,EADjC,EACiCA,SAAUkB,EAD3C,EAC2CA,KAAMnB,EADjD,EACiDA,gBACtD2C,EAFK,EAELA,YAAapB,EAFR,EAEQA,YACbI,EAHK,EAGLA,YAAaE,EAHR,EAGQA,WAAYE,EAHpB,EAGoBA,YAG1B,OACC,kBAAC,WAAD,KACC,0BAAM/R,UAAU,SAASsN,QAASvT,KAAKmF,MAAvC,6BACC,kBAAC,KAAD,CACCrF,MAAO,IACVuY,MAAM,2BACNxB,QAASA,EACTyB,cAAc,EAEdE,SAAUxY,KAAKyX,aACfqB,KAAM9Y,KAAKmX,SAGXoB,OAAQ,MAEJ,yBAAKtS,UAAU,gBAElB,yBAAKA,UAAU,kBACd,qDACA,kBAAC,KAAD,CAAO0Q,YAAY,kCAAS1Q,UAAW2S,GAAe,QAAS1E,OAAQlU,KAAK6X,SAAUjG,SAAU5R,KAAK2X,WAAY5D,MAAOnL,IAEvHgQ,GAAe,uBAAG3S,UAAU,aAAb,+CAIjB,yBAAKA,UAAU,kBACd,qDACA,yBAAKA,UAAU,UACd,6BACC,kBAAC,KAAD,CAAOA,UAAWuR,GAAe,QAASb,YAAY,uCAAS/E,SAAU5R,KAAK+X,WAAYhE,MAAOqD,EAAMlR,MAAO,CAACpG,MAAO,OACtH,kBAAC,GAAD,CAASyT,QAASvT,KAAK8W,aAIxBU,GAAe,uBAAGvR,UAAU,aAAb,+CAGjB,yBAAKA,UAAU,kBACd,kBAAC,GAAD,CACCkQ,KAAK,qBACLD,SAAUA,EACVD,gBAAiBA,EACjB/B,OAAQlU,KAAKgW,QACbpE,SAAU5R,KAAK+V,aAGjB,yBAAK9P,UAAU,aACd,kBAAC,KAAD,CACCC,MAAO,CAACpG,MAAO,QACfiV,YAAW6C,GAAeE,GAAcE,KAAuBY,IAAgB1Q,EAAcgO,IAAasB,GAC1GtN,KAAK,UAAUxD,QAAS4Q,EACxB/D,QAASvT,KAAKmX,UAJf,oC,GA/Ke7Q,aCAhByS,G,YAEL,WAAa9K,GAAQ,IAAD,8BACnB,4CAAMA,KAqBP9I,KAAO,WAEN,EAAKQ,SAAS,CACZkR,SAAS,IAEX,EAAKmC,eA3Bc,EAgCpB/B,WAAa,WAEZ,EAAKtR,SAAL,eACI,EAAKuR,SADT,CAEEL,SAAS,MApCQ,EAwCpBM,SAAW,WAAO,IX2EE9K,EW3EH,EACiB,EAAKpH,MAA9B2D,EADQ,EACRA,KAAMsN,EADE,EACFA,SAAUkB,EADR,EACQA,KADR,EAE8C,EAAKnJ,MAA3D7C,EAFQ,EAERA,YAAaR,EAFL,EAEKA,cAAeS,EAFpB,EAEoBA,YAAa4N,EAFjC,EAEiCA,SAC5CnR,EAAKc,GAILd,EAAKoO,GAILpO,EAAKsP,IAIV,EAAKzR,SAAS,CAAC2R,gBAAgB,KX4DZjL,EW3Db,CAACzD,OAAMsN,WAAUkB,KAAMA,EAAKnH,WAAWiJ,eX2DhB5N,IAAMgB,KAAW,SAAUD,IW3DKW,MAAK,SAAAnC,GACjE,EAAKlF,SAAS,CAAC2R,gBAAgB,IAD0C,IAEjErK,EAA0BpC,EAA1BoC,OAAQd,EAAkBtB,EAAlBsB,cACRoL,EAA2DtK,EAA3DsK,IAAKtC,EAAsDhI,EAAtDgI,MAAakE,EAAyClM,EAA/CrE,KAAiBsM,EAA8BjI,EAA9BiI,SAAUkE,EAAoBnM,EAApBmM,gBAE/CpE,GAAgBuC,EAAKtC,EAAOkE,GAE5BlN,IAAQ+G,QAAQ7G,GAChB,EAAKxG,SAAS,CACbkR,SAAS,IAGV9Q,YAAW,WACVqF,EAAY+N,GACZvO,EAAc,CAACsK,aACf7J,EAAY+N,GAGZ,IAAMC,EdhCc,WAAc,IAAb9D,EAAY,uDAAP,GAC7B,MAAyB,YAArBA,EAAK1H,MAAM,EAAG,GACV,SACyB,gBAAtB0H,EAAK1H,MAAM,EAAG,IACjB,aACW,KAAR0H,EACH,YADD,Ec2BQ+D,CAASL,GACT,SAARI,EACH1O,EAASV,KAAK,iBACI,eAARoP,GACV1O,EAASV,KAAK,sBAGb,OACD6H,OAAM,SAAA/K,GACR,EAAKpB,SAAS,CAAC2R,gBAAgB,IAC/B,EAAK0B,kBAhCL,EAAKrT,SAAS,CAAC6R,aAAa,IAJ5B,EAAK7R,SAAS,CAACkT,YAAY,IAJ3B,EAAKlT,SAAS,CAACiT,aAAa,KA5CV,EAyFpBnB,aAAe,WAEd,EAAK9R,SAAS,CACbkR,SAAS,KA5FS,EAuGpBc,WAAa,SAAAxN,GAEZ,IAAMvB,EAAOuB,EAAEmI,OAAOyB,MAEtB,EAAKpO,SAAS,CACbiD,OACAgQ,aAAchQ,EACdgP,aAAa,KA9GK,EAiHpBC,SAAW,WACV,EAAKlS,UAAS,SAAAyS,GAAS,MAAK,CAACQ,aAAcvR,EAAQ+Q,EAAUxP,WAlH1C,EAoHpBmN,UAAY,SAAA5L,GACX,IAAM+L,EAAW/L,EAAEmI,OAAOyB,MAC1B,EAAKpO,SAAS,CACbuQ,WACA2C,YAAa3C,EAAU4B,YAAY,KAxHjB,EA2HpB9B,QAAU,WACT,EAAKrQ,UAAS,SAAAyS,GAAS,MAAK,CAACS,YAAazQ,EAAW,GAAGG,KAAK6P,EAAUlC,eA5HpD,EA8HpB6B,WAAa,SAAA5N,GACZ,IAAMiN,EAAOjN,EAAEmI,OAAOyB,MACtB,EAAKpO,SAAS,CACbyR,OACAI,aAAc1P,EAAKsP,GACnBY,aAAa,KAnIK,EA0IpBgB,YAAc,WACb,EAAKrT,SAAS,CACb4T,QAAkB,iBAAiB9Z,KAAK0D,YA1IzC,EAAK+T,SAAW,CACftO,KAAM,GACNsN,SAAU,GACVkB,KAAM,GACNmC,QAAS,GACT3B,aAAa,EACbE,YAAY,EACZE,aAAa,EACbY,aAAa,EACbC,YAAY,EACZrB,aAAa,GAEd,EAAKvS,MAAL,aACC4R,SAAS,EACTS,gBAAgB,GACb,EAAKJ,UAjBU,E,sEAiJV,IAAD,EAKFlX,KAAKiF,MAHR4R,EAFK,EAELA,QAASS,EAFJ,EAEIA,eAAgB1O,EAFpB,EAEoBA,KAAMsN,EAF1B,EAE0BA,SAAUkB,EAFpC,EAEoCA,KAAMmC,EAF1C,EAE0CA,QAC/CX,EAHK,EAGLA,YAAaC,EAHR,EAGQA,WAAYrB,EAHpB,EAGoBA,YACzBI,EAJK,EAILA,YAAaE,EAJR,EAIQA,WAAYE,EAJpB,EAIoBA,YAG1B,OACC,kBAAC,WAAD,KACC,kBAAC,KAAD,CAAQzE,QAASvT,KAAKmF,KAAM+E,KAAK,QAAjC,gBACC,kBAAC,KAAD,CACCpK,MAAO,IACVuY,MAAM,eACNxB,QAASA,EACTyB,cAAc,EAEdE,SAAUxY,KAAKyX,aACfqB,KAAM9Y,KAAKmX,SAGXoB,OAAQ,MAEJ,yBAAKtS,UAAU,gBAElB,yBAAKA,UAAU,kBACd,qDAAkB,kBAAC,KAAD,CAAOA,UAAW2S,GAAe,QAASjC,YAAY,kCAASzC,OAAQlU,KAAK6X,SAAUjG,SAAU5R,KAAK2X,WAAY5D,MAAOnL,IAEzIgQ,GAAe,uBAAG3S,UAAU,aAAb,yFAGjB,yBAAKA,UAAU,kBACd,+CAAiB,kBAAC,KAAMwQ,SAAP,CAAgBxQ,UAAW4S,GAAc,QAASlC,YAAY,iCAAQzC,OAAQlU,KAAKgW,QAASpE,SAAU5R,KAAK+V,UAAWhC,MAAOmC,IAE7I2C,GAAc,uBAAG5S,UAAU,aAAb,mFAGhB,yBAAKA,UAAU,kBACd,qDACA,yBAAKA,UAAU,UACd,6BACC,kBAAC,KAAD,CAAO0Q,YAAY,mDAAW/E,SAAU5R,KAAK+X,WAAYhE,MAAOqD,EAAMlR,MAAO,CAACpG,MAAO,OACnF,0BAAMmG,UAAU,SAASsN,QAASvT,KAAKgZ,aAAa,yBAAK/S,UAAU,OAAO0I,IAAK4K,EAASlI,IAAI,yBAG9FmG,GAAe,uBAAGvR,UAAU,aAAb,gDAIlB,yBAAKA,UAAU,aACd,kBAAC,KAAD,CAAQC,MAAO,CAACpG,MAAO,QAASiV,YAAW6C,GAAeE,GAAcE,KAAuBY,GAAeC,GAAcrB,GAActN,KAAK,UAAUxD,QAAS4Q,EAAgB/D,QAASvT,KAAKmX,UAAhM,iBAED,yBAAKlR,UAAU,aACd,kBAAC,GAAD,CAAS0S,WAAY3Y,KAAKyX,uB,GAvMbnR,aAiOLmS,eAAQ,MAbI,SAAA1L,GACzB,MAAO,CACN3B,YADM,SACOxC,GACb,OAAOmE,EAAS3B,EAAYxC,KAE5ByC,YAJM,SAIOlE,GACZ,OAAO4F,EAAS1B,GAAYlE,KAE7ByD,cAPM,SAOSC,GACd,OAAOkC,EAASnC,EAAcC,QAInB4N,CAAkCM,I,2DCnNlCS,I,kNApBdC,aAAe,SAAAC,GAAQ,IAAD,EACK,EAAKzL,MAAvB0L,EADa,EACbA,OAAQ5F,EADK,EACLA,MACZA,EAAM6F,SAAS5X,OAAS2X,IAC3BD,EAAMG,gBAAaC,WAAWD,gBAAahL,MAAMkF,GAAQ2F,EAAIE,SAAS/L,MAAM,EAAG8L,KAEhF,EAAK1L,MAAM2D,SAAS8H,I,wEAGV,IAAD,EACiB1Z,KAAKiO,MAAvB8F,EADC,EACDA,MAAO4F,EADN,EACMA,OACf,OACC,yBAAK1T,UAAU,gBACV,kBAAC,KACKjG,KAAKiO,OAEX,0BAAMhI,UAAU,WAAW8N,EAAM6F,SAAS5X,OAA1C,IAAmD2X,Q,GAjB9BrT,cC+BrBqN,GAAWoG,KAAXpG,OAGFqG,G,YAEL,WAAa/L,GAAQ,IAAD,uBACnB,4CAAMA,KAyCP9I,KAAO,SAAAuG,GAUN,EAAK/F,SAAL,aAEEkR,SAAS,GAGNnL,EALL,CAMEuO,KAAMJ,gBAAaK,WAAW,EAAKjV,MAAMgV,KAAMvO,EAAOuO,UA1DrC,EAiEpBE,WAAa,SAACC,GACb,EAAKzU,SAAS,CAAC2R,gBAAgB,IADP,IAEhB+C,EAAW,EAAKpM,MAAhBoM,OAFgB,EAGkE,EAAKpV,MAAvF2D,EAHgB,EAGhBA,KAAMf,EAHU,EAGVA,IAAKoS,EAHK,EAGLA,KAAMK,EAHD,EAGCA,SAAUC,EAHX,EAGWA,QAASpD,EAHpB,EAGoBA,SAA2BI,EAH/C,EAG+CA,IAAK9I,EAHpD,EAGoDA,IAAK+L,EAHzD,EAGyDA,KAG7EC,EAAW,IAAIC,SACnBD,EAASE,OAAO,OAAQ/R,GACxB6R,EAASE,OAAO,MAAO9S,GACvB4S,EAASE,OAAO,OAAQV,EAAKW,UAC7BH,EAASE,OAAO,SAAUP,GAE1BG,EAAQzK,SAAQ,SAACxH,EAAIgO,GACpBmE,EAASE,OAAT,UAA2BE,SAASvS,OAErCkS,EAAK1K,SAAQ,SAACxH,EAAIgO,GACjBmE,EAASE,OAAT,OAAwBrS,MAGrB+R,GACHI,EAASE,OAAO,MAAOpD,GACnB+C,EACHG,EAASE,OAAO,MAAOL,EAAS,IAEhCG,EAASE,OAAO,MAAOlM,IAGxB6L,GAAYG,EAASE,OAAO,MAAOL,EAAS,KAK3CD,EAAS9M,GAAWF,IAASoN,GAAUzN,MAAK,SAAAnC,GAE7C,EAAKlF,SAAS,CAAC2R,gBAAgB,IAC/BH,GAAYA,IACZ,EAAKF,aACLhL,IAAQ+G,QAAQnI,EAAKsB,kBAGjB2F,OAAM,SAAAjH,GACV,EAAKlF,SAAS,CAAC2R,gBAAgB,QA1Gb,EA6GpBL,WAAa,WAEZ,EAAKtR,SAAL,eACI,EAAKuR,SADT,CAEEL,SAAS,MAjHQ,EAqHpBiE,WAAa,WACZ,EAAKX,WAAW,IAtHG,EAyHpBY,YAAc,WACb,EAAKZ,WAAW,IA1HG,EA6HpB1C,aAAe,WACK,EAAKxJ,MAAhBoM,OAGP,EAAK1U,SAAL,eACI,EAAKuR,SADT,CAECL,SAAS,KAGV,EAAKlR,SAAS,CACbkR,SAAS,KAvIQ,EA6IpBa,UAAY,SAAC9O,GACZ,IACIoJ,GAAQ,EAQZ,OATmBjK,EAAea,GfpIR,GeuIzBoJ,EAAO,EACI3K,EAAQuB,GAEO,IAAhBA,EAAK5G,SACfgQ,EAAO,GAFPA,EAAO,EAIDA,GAvJY,EAgKpB2F,WAAa,SAAAxN,GACZ,IAAMvB,EAAOuB,EAAEmI,OAAOyB,MACtB,EAAKpO,SAAS,CACbiD,OACAyO,UAAW,EAAKK,UAAU9O,GAC1BgP,aAAa,KArKK,EAwKpBC,SAAW,WACV,EAAKlS,SAAS,CACb0R,UAAW,EAAKK,UAAU,EAAKzS,MAAM2D,SA1KnB,EA8KpBoS,UAAY,SAAA7Q,GACX,IAAMtC,EAAMsC,EAAEmI,OAAOyB,MACrB,EAAKpO,SAAS,CACbkC,MACAoT,YAAY,EACZC,YAAatT,EAASC,MAnLJ,EAsLpBsT,QAAU,WACT,EAAKxV,SAAS,CACbuV,YAAatT,EAAS,EAAK3C,MAAM4C,QAxLf,EAoMpBuT,WAAa,SAAAjR,GACZ,IAAIgI,EACEhI,EAAEkI,aACJF,EAAQhI,EAAEkI,aAAaF,MACdhI,EAAEmI,SACXH,EAAQhI,EAAEmI,OAAOH,OALJ,MAOFA,EAARJ,EAPU,oBAQXQ,EAAW,EAAKC,SAAST,IACb,IAAdQ,GAOJ,EAAK5M,SAAS,CACb2U,SAAUnI,EACVkJ,YAAY,EACZ9I,UAAW,IhBnNW,SAACR,GACxB,OAAO,IAAIjG,SAAQ,SAACiL,EAAShL,GAC3B,IAAM0G,EAAS,IAAIC,WACnB,IAAKX,EACP,OAAOgF,EAAQ,MAEbtE,EAAOG,cAAcb,GACrBU,EAAOE,OAAS,kBAAMoE,EAAQtE,EAAOxF,SACrCwF,EAAO6I,QAAU,SAAApP,GAAK,OAAIH,EAAOG,OgB6MnCqP,CAAUxJ,GAAM/E,MAAK,SAAAjG,GAEpB,EAAKpB,SAAS,CACb6V,aAAczU,IAEf,EAAK0U,UAAUpW,QAAQqW,aAAa,OAAQ,QAC5C,EAAKD,UAAUpW,QAAQqW,aAAa,OAAQ,YAjB5C,EAAK/V,SAAS,CACb4M,cA/MiB,EA4OpBoJ,UAAY,SAAA1B,GAEX,IAAIjI,GAAQ,EAMZ,OAHaiI,EAAK2B,YACjB5J,EAAO,GAEDA,GApPY,EAsPpB6J,iBAAmB,SAAC5B,GACjB,EAAKtU,SAAS,CACZsU,OACA6B,UAAW,EAAKH,UAAU1B,GAE1B8B,aAAa,KA3PE,EA+PpBC,SAAW,WAAO,IACT/B,EAAS,EAAKhV,MAAdgV,KACR,EAAKtU,SAAS,CACbmW,UAAW,EAAKH,UAAU1B,MAlQR,EAsQpBgC,cAAgB,SAAA1B,GAEXA,EAAQvY,OAAS,GAGrB,EAAK2D,SAAS,CACb4U,UACA2B,gBAAgB,KA7QE,EAgRpBC,UAAY,SAAA3B,GACPA,EAAKxY,OAAS,GAGlB,EAAK2D,SAAS,CAAC6U,OAAM4B,YAAY,KAlRjC,EAAKX,UAAYzW,sBACjB,IAAMiV,EAAOoC,KAAYC,kBAAkB,IAHxB,OAInB,EAAKpF,SAAW,CACftO,KAAM,GACNf,IAAK,UACLoS,KAAMJ,gBAAahL,MAAMoL,GACxBK,SAAU,KACXC,QAAS,GACT9L,IAAK,GACL+M,aAAc,KACdhB,KAAM,GAENnD,WAAY,EACZ6D,YAAY,EAEZY,WAAY,EAEZvJ,UAAW,EAEXqF,aAAa,EACbqD,YAAY,EACZc,aAAa,EACbV,YAAY,EACZa,gBAAgB,EAChBE,YAAY,GAGb,EAAKnX,MAAL,aACC4R,SAAS,EACTS,gBAAgB,GAEb,EAAKJ,SAJT,CAMCqF,YAAa,KAnCK,E,sEA2LVxK,GACT,IAAIC,GAAQ,EAMZ,OALID,EAAKE,KfhKiBC,QeiKzBF,EAAO,GACmC,IAAhCD,EAAK7H,KAAKkE,QAAQ,WAC5B4D,EAAO,GAEDA,I,+BAsFE,IAAD,EAKFhS,KAAKiF,MAHR4R,EAFK,EAELA,QAASS,EAFJ,EAEIA,eAAgB1O,EAFpB,EAEoBA,KAAMf,EAF1B,EAE0BA,IAAKoS,EAF/B,EAE+BA,KAAMM,EAFrC,EAEqCA,QAASgC,EAF9C,EAE8CA,YAAa9N,EAF3D,EAE2DA,IAAK+M,EAFhE,EAEgEA,aAAchB,EAF9E,EAE8EA,KACnFnD,EAHK,EAGLA,UAAW6D,EAHN,EAGMA,WAAY3I,EAHlB,EAGkBA,SAAUuJ,EAH5B,EAG4BA,UACjClE,EAJK,EAILA,YAAaqD,EAJR,EAIQA,WAAYI,EAJpB,EAIoBA,WAAYU,EAJhC,EAIgCA,YAAaG,EAJ7C,EAI6CA,eAAgBE,EAJ7D,EAI6DA,WAE7D/B,EAAWra,KAAKiO,MAAhBoM,OACN,OACE,kBAAC,KAAD,CACCva,MAAO,IACPyY,OACC,6BACC,kBAAC,KAAD,CAAQhF,QAASvT,KAAKyX,cAAtB,gBACC,kBAAC,KAAD,CACH1C,YAAW6C,IAAeqD,MAAmC,IAAb5D,GAAkB6D,GAC9DxU,QAAS4Q,EAAgB/D,QAASvT,KAAK+a,YAAa7Q,KAAK,WAF1D,kCAIA,kBAAC,KAAD,CACH6K,YACE6C,GAAeqD,GAAcI,GAAcU,GAAeG,GAAkBE,MAE7D,IAAb/E,GAAkB6D,GAAcA,IAA6B,IAAfY,IAAkC,IAAdvJ,GAAsC,IAAnBgI,EAAQvY,QAAgC,IAAhBwY,EAAKxY,QAElH0E,QAAS4Q,EAAgB/D,QAASvT,KAAK8a,WAAY5Q,KAAK,WANzD,iBAUHsS,UAAW,CAACC,QAAS,GACxBxW,UAAU,qBACVoS,OAAQgC,EAAS,eAAO,gBAAM,eAC9BxD,QAASA,EACTyB,cAAc,EACdhB,eAAgBA,EAChBkB,SAAUxY,KAAKyX,cAKX,yBAAKxR,UAAU,qBAClB,yBAAKA,UAAU,kBACd,+CACA,yBAAKA,UAAU,qBACd,kBAAC,KAAD,CAASkN,UAAU,UAAUC,QAAS,6BAAM9J,GAAoB+J,QAAQ,SACvE,kBAAC,KAAD,CAAOpN,WAA0B,IAAfoR,GAAoB,QAASnD,OAAQlU,KAAK6X,SAAUjG,SAAU5R,KAAK2X,WAAY5D,MAAOnL,MAGzF,IAAfyO,GAAoB,uBAAGpR,UAAU,aAAauD,EAAkB6N,MAInE,yBAAKpR,UAAU,kBACd,+CACA,yBAAKA,UAAU,qBACd,kBAAC,KAAD,CAAOA,UAAWiV,GAAc,QAAShH,OAAQlU,KAAKmb,QAASvJ,SAAU5R,KAAKgb,UAAWjH,MAAOlM,IAE/FqT,GAAc,uBAAGjV,UAAU,aAAb,oCAKjB,yBAAKA,UAAU,kBACd,+CAEA,yBAAKA,UAAU,qBACd,kBAAC,GAAD,CACSyW,SAAU9S,EACb3D,UAAW,iBAAiC,IAAf6V,EAAmB,QAAU,IACzD/H,MAAOkG,EACLN,Of1UY,Ie2UZzF,OAAQlU,KAAKgc,SACbpK,SAAU5R,KAAK6b,oBAIR,IAAfC,GAAoB,uBAAG7V,UAAU,aAAawD,EAAcqS,MAK/D,yBAAK7V,UAAU,kBACd,+CACA,yBAAKA,UAAU,qBACb4Q,GAAW,2BAAOxQ,IAAKrG,KAAKyb,UAAW3S,GAAG,YAAYoB,KAAK,OAAOhE,MAAO,CAACsN,QAAS,QAAS5B,SAAU5R,KAAKob,WAAY3H,OAAO,YAC/H,kBAAC,KAAD,CAASN,UAAU,UAAUC,QAAS,6BAAM1J,GAAmB2J,QAAQ,SACtE,2BAAOC,QAAQ,YAAYrN,UAAU,WACpC,yBAAK0I,IAAM6M,IAA8B/M,EVvZY,GUuZIA,EAAOkO,MAAatL,IAAI,QAIpE,IAAdkB,GAAmB,uBAAGtM,UAAU,aAAa0D,EAAiB4I,MAIjE,yBAAKtM,UAAU,kBACd,+CACA,kBAAC,KAAD,CACEmK,KAAK,WACFuG,YAAY,kEACZiG,0BAA0B,EAE1B7I,MAAOwG,EAAQlS,KAAI,SAAAwU,GAAC,OAAIA,EAAE,MAC1BjL,SAAU5R,KAAKic,cACf/V,MAAO,CAAEpG,MAAO,SAGfyc,EAAYlU,KAAI,SAAAC,GAAE,OAAI,kBAAC,GAAD,CAAQ+L,IAAK/L,EAAGiP,KAAMjP,EAAGM,WAItD,yBAAK3C,UAAU,kBACd,+CACA,kBAAC,KAAD,CACEmK,KAAK,OACFuG,YAAY,kEAGZ5C,MAAOyG,EACP5I,SAAU5R,KAAKmc,UACfjW,MAAO,CAAEpG,MAAO,iB,GAhZFwG,aA8arBC,GAAMjB,SAASkB,cAAc,OAEjClB,SAASC,KAAKkB,YAAYF,IAE1B,IAAIuW,GAAanW,IAASC,OAAOC,IAAML,cACnCwT,GACA,CACCK,QAAQ,IAEX9T,IAGEwW,GAAOzX,SAASkB,cAAc,OAClClB,SAASC,KAAKkB,YAAYsW,IAE1B,IAAIC,GAAcrW,IAASC,OAAOC,IAAML,cACpCwT,GACA,CACCK,QAAQ,IAEX0C,I,kDCrdIE,G,2MAsBJpO,MAAQ,WACN6G,KACA,EAAKzH,MAAM7C,YAAY,K,EAGzB8R,OAAS,kBAAM,EAAKjP,MAAMkP,QAAQrY,QAAQ,M,EAE1CsY,OAAS,WACP,EAAKvO,QACL,EAAKqO,U,EAEPG,WAAa,WAAM,MAG0D,EAAKpP,MAAxEnB,EAHS,EAGTA,YAAayP,EAHJ,EAGIA,YAAae,EAHjB,EAGiBA,UAAWC,EAH5B,EAG4BA,SAAUnD,EAHtC,EAGsCA,OAAQG,EAH9C,EAG8CA,QAC/DuC,GAAW3X,KAAK,CACdoX,cACApF,SAFc,WAGZrK,EAAY,CAAEyN,UAASH,SAAQkD,YAAWC,WAAUC,SAAS,EAAMC,SAAS,Q,EAYlFtJ,SAAW,SAAAJ,GAAU,IAAD,EACqB,EAAK9F,MAApCkP,EADU,EACVA,QAASO,EADC,EACDA,SAAUnD,EADT,EACSA,QAE3B4C,EAAQ5b,MAAMmc,EAAW,UAAY,IAAM,MAAoB,IAAbnD,EAAiB,EAAIA,GAAU,IAAIxG,I,EAWvF4J,YAAc,WACS,EAAK1P,MAAlByP,UAIR,EAAKzP,MAAMnD,kBAAkB,CAC3B4S,UAAU,K,mFAtEQ,IAAD,OACnB1d,KAAKiO,MAAMf,gBACXlN,KAAKiO,MAAM2P,mBACX5d,KAAKiO,MAAMb,sBACXzC,EAASD,GAAG,gBAAgB,SAAA3D,GAEtBD,EAAaC,IACf,EAAK8H,WAGTlE,EAASD,GAAG,iBAAiB,SAAC3D,GACxBD,EAAaC,IACf,EAAKmW,c,+BA8DF,IAAD,EACkEld,KAAKiO,MADvE,IACEmL,uBADF,MACkB,EADlB,EACqBsE,EADrB,EACqBA,SAAUxI,EAD/B,EAC+BA,SAAqB+D,EADpD,EACyC4E,SAAW5E,SAIpD6E,EACJ,kBAAC,KAAD,CAAM7X,UAAU,qBACd,kBAAC,KAAK8X,KAAN,KAAW,kBAAC,KAAD,CAAMxK,QAASvT,KAAK2d,YAAaK,GAAG,YAApC,6BACX,kBAAC,KAAKD,KAAN,KAAW,kBAAC,KAAD,CAAMxK,QAASvT,KAAK2d,YAAaK,GAAG,YAApC,4BAAqD5E,EAArD,MACX,kBAAC,KAAK2E,KAAN,KAAW,kBAAC,KAAD,CAAMxK,QAASvT,KAAK2d,YAAaK,GAAIC,GAAgB,GAAG1I,MAAxD,6BACX,kBAAC,KAAKwI,KAAN,KAAW,kBAAC,KAAD,CAAMC,GAAG,aAAT,6BACX,kBAAC,KAAKD,KAAN,KAAW,0BAAM9X,UAAU,SAASsN,QAASvT,KAAKod,QAAvC,kBAGTjE,EAAcnZ,KAAKiO,MAAnBkL,UACN,OACE,yBAAKlT,UAAU,UACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,YACb,kBAAC,KAAD,CAAMA,UAAU,OAAO+X,GAAG,KAAI,yBAAKrP,IAAKuP,KAAM7M,IAAI,kBAClD,wBAAIpL,UAAU,gBACZ,4BAAI,kBAAC,KAAD,CAAMsN,QAASvT,KAAK2d,YAAaK,GAAG,KAApC,iBACJ,4BAAI,kBAAC,KAAD,CAAMzK,QAASvT,KAAK2d,YAAaK,GAAG,aAApC,6BACJ,4BAAI,kBAAC,KAAD,CAAMzK,QAASvT,KAAK2d,YAAaK,GAAG,aAApC,6BAEF9I,GACA,kBAAC,WAAD,KACE,4BAAI,kBAAC,KAAD,CAAM3B,QAASvT,KAAK2d,YAAcK,GAAG,aAArC,6BACJ,4BAAI,kBAAC,KAAD,CAAMzK,QAASvT,KAAK2d,YAAcK,GAAG,eAArC,6BACJ,4BAAI,kBAAC,KAAD,CAAMzK,QAASvT,KAAK2d,YAAcK,GAAG,cAArC,gCAKZ,yBAAK/X,UAAU,YACb,kBAAC,KAAMkY,OAAP,CAAcxH,YAAY,uCAASxC,SAAUnU,KAAKmU,SAAUjO,MAAO,CAACpG,MAAO,KAAOse,aAAW,IAE3FjF,EACG,kBAAC,WAAD,KAEGuE,GACE,kBAAC,KAAD,CAAQxT,KAAK,OAAOqJ,QAASvT,KAAKqd,YAAlC,4BAGJ,kBAAC,KAAD,CAAUgB,QAASP,EAAM3K,UAAU,eACjC,kBAAC,KAAD,CAAQjJ,KAAK,OAAOjE,UAAU,YAAYkT,EAA1C,IAAsDC,EAAtD,OAGH,kBAAC,WAAD,KAAU,kBAAC,GAAD,CAAOH,SAAUA,IAAY,kBAAC,GAAD,c,GA5HnC3S,aAwKNgY,gBAAW7F,aAjCF,SAAAxT,GAAU,IAAD,EACiBA,EAAMsZ,IAA/CpF,EADwB,EACxBA,UAAWC,EADa,EACbA,gBAAiBlE,EADJ,EACIA,SADJ,EAEyCjQ,EAAMuZ,QAC9E,MAAO,CACNrF,YAAWC,kBAAiBlE,WAC3BoI,UAL6B,EAEvBA,UAGKC,SALkB,EAEZA,SAGIhB,YALQ,EAEFA,YAGOnC,OALL,EAEWA,OAGEG,QALb,EAEmBA,QAGGmD,SALtB,EAE4BA,aAQlC,SAAA3Q,GACzB,MAAO,CACN3B,YADM,SACOxC,GACb,OAAOmE,EAAS3B,EAAYxC,KAE3BkC,kBAJK,SAIcD,GACjB,OAAOkC,EAASjC,EAAkBD,KAEpCiC,YAPK,SAOQT,GACX,OAAOU,EAASD,GAAYT,KAE9Be,oBAVK,SAUgBf,GACnB,OAAOU,EAASK,GAAoBf,KAEtCa,cAbK,SAaUb,GACb,OAAOU,EAASG,GAAcb,KAEhCuR,iBAhBK,SAgBavR,GAChB,OAAOU,Gd1ByB,SAAAA,GACpCzB,IAAMgB,KAAW,eAAgB,CAACgR,UAAW,EAAGC,SAAU,GAAIkB,QAAS,aAAcrE,OAAQ,IAAIpN,MAAK,SAAAjG,GACpGgG,EA/DK,CACL7C,KAnF6B,oBAoF7BW,KA6D6B9D,EAAIkG,mBc6BXwL,CAA6CwE,KC1KxDyB,I,wLAbX,IAAMC,GAAO,IAAIvJ,MAAOwJ,cACxB,OACE,yBAAK3Y,UAAU,UACb,yBAAKA,UAAU,iBAAf,OACI0Y,EADJ,gB,GANarY,c,SCOfuY,G,iLAyBM,IAAD,EAC4E7e,KAAKiO,MAAlF6Q,EADC,EACDA,gBAAoCvE,EADnC,EACgBwE,MAAS1S,OAAUkO,QAA4BmD,EAD/D,EAC+DA,SAGxE,OACI,yBAAKzX,UAAU,wBACb,yBAAKA,UAAU,SAAf,gBACH,kBAAC,KAAD,CAGK+Y,aAAc,CAACzE,GAGfrU,MAAO,CAAEpG,MAAO,MAGhBgf,EAAgBzW,KAAI,gBAAEkP,EAAF,EAAEA,IAAK3O,EAAP,EAAOA,KAAMqW,EAAb,EAAaA,MAAb,OAChB,kBAAC,KAAKlB,KAAN,CAAW1J,IAAKkD,GACd,kBAAC,KAAD,CAAMyG,IAAKN,EAAW,UAAY,IAAM,IAAMnG,GAA0B3O,EAAxE,IAAgFqW,IAAUvB,EAAV,WAAyBuB,EAAzB,KAAoC,c,GA3C7G3Y,aAqERgY,gBAAW7F,aAhBF,SAAAxT,GAAU,IACzB6Z,EAAoB7Z,EAAMuZ,QAA1BM,gBAEP,MAAO,CACNA,gBAAgB,CAAE,CAACvH,IAAK,EAAG3O,KAAM,iBAAlB,oBAA4BkW,OAYK,KAAzBrG,CAA+BoG,KCtEnDK,G,2MAEJlL,SAAW,SAACnO,EAAGC,EAAGqZ,GAAO,IAAD,EACgB,EAAKlR,MAAnCsP,EADc,EACdA,SAAUhD,EADI,EACJA,QAAS6E,EADL,EACKA,OADL,EAEc,EAAKnR,MAAjCoR,EAFc,EAEdA,WAAYvS,EAFE,EAEFA,YACdsN,EAASS,SAAShV,EAAEwO,KAC1BgL,EAAW,CACTjF,SACAkD,UAAW,IAEbxQ,EAAY,CAACyN,UAASH,SAAQkD,UAAW,EAAGC,WAAU6B,SAAQ5B,SAAS,EAAMC,SAAS,K,wEAG9E,IACFrD,EAAWpa,KAAKiO,MAAhBmM,OAER,OACI,yBAAKnU,UAAU,uBACb,yBAAKA,UAAU,SAAf,gBACH,kBAAC,KAAD,CAGK+Y,aAAc,CAAC5E,EAAO,IAEtBpG,SAAUhU,KAAKgU,SACf9N,MAAO,CAAEpG,MAAO,MAGhB,CAAC,CAACgJ,IAAK,EAAGF,KAAM,iBAAhB,oBAA0BD,IAAWN,KAAI,gBAAES,EAAF,EAAEA,GAAIF,EAAN,EAAMA,KAAN,OAAgB,kBAAC,KAAKmV,KAAN,CAAW1J,IAAKvL,GAAKF,Y,GA5BhEtC,aAuDTmS,gBAnBS,SAAAxT,GAAU,IAAD,EACeA,EAAMuZ,QAA5CjB,EADuB,EACvBA,SAAUhD,EADa,EACbA,QAASH,EADI,EACJA,OAC3B,MAAO,CACLmD,WAAUhD,UAAS6E,OAHU,EACIA,OAGjChF,aAKuB,SAAArN,GACzB,MAAO,CACLsS,WADK,SACOxU,GACV,OAAOkC,EAASjC,EAAkBD,KAErCiC,YAJM,SAIOT,GACV,OAAOU,EAASD,GAAYT,QAInBoM,CAA6CyG,ICvDtDI,G,iLA0BM,IACFC,EAAcvf,KAAKiO,MAAnBsR,UACR,OACI,yBAAKtZ,UAAU,uBACb,yBAAKA,UAAU,SAAf,4BACH,wBAMKC,MAAO,CAAEpG,MAAO,MAGhByf,EAAUlX,KAAI,gBAAEkP,EAAF,EAAEA,IAAK3O,EAAP,EAAOA,KAAP,EAAaf,IAAb,OACV,wBAAIwM,IAAKkD,GACP,kBAAC,KAAD,CAAMtR,UAAU,YAAY+X,GAAI,eAAezG,EAAKhE,QAAS,kBAAM3G,GAAQ,CAAC2K,UAAQ3O,a,GA1C5EtC,aAkETmS,gBAfS,SAAAxT,GAEtB,MAAO,CACNsa,UAFoBta,EAAMuZ,QAApBe,aAc+B,KAAzB9G,CAA+B6G,ICpC/BE,I,wLA9BH,IAAD,EACiCxf,KAAKiO,MAArCpD,EADD,EACCA,KAAM4U,EADP,EACOA,SAAUC,EADjB,EACiBA,YAChBC,EAAsE9U,EAAtE8U,UAAWxG,EAA2DtO,EAA3DsO,UAAWyG,EAAgD/U,EAAhD+U,aAAcxM,EAAkCvI,EAAlCuI,QAASyM,EAAyBhV,EAAzBgV,YAAaC,EAAYjV,EAAZiV,QAE5DC,EAAa,yBAAK9Z,UAAU,0BAA2BmN,GAC7D,OACE,yBAAKnN,UAAU,gBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,kBACb,yBAAK0I,IAAKgR,EhBlBwC,GgBkBtBA,EAAY9N,KAAaR,IAAI,kBAE3D,yBAAKpL,UAAU,gBACb,yBAAKA,UAAU,0BACb,8BAAOkT,GACNyG,GAAgB,kBAAC,WAAD,KAAU,4CAAU,8BAAOA,IAC5C,0BAAM3Z,UAAU,+BAA+ByZ,EtB+DnC,SAAAM,GACzBA,EAAO,IAAI5K,KAAK4K,GAEhB,IAAMC,IAAM,IAAI7K,MAAO8K,UAAYF,EAAKE,WAAa,IAC/CC,EAAKF,EAAK,GACVG,EAAKD,EAAK,GACVE,EAAKD,EAAK,GAChB,OAAIC,GAAM,EACF5gB,KAAKuG,MAAMqa,GAAM,eACdD,GAAM,EACT3gB,KAAKuG,MAAMoa,GAAM,qBACdD,GAAM,EACT1gB,KAAKuG,MAAMma,GAAM,qBACdF,GAAM,GACTxgB,KAAK2H,KAAK6Y,GAAM,eAEhB,esB/EkEK,CAAWT,GAAeA,IAGvFH,EAAc,kBAAC,KAAD,CAAM1B,GAAI,eAAe8B,EAAS7Z,UAAU,aAAc8Z,GAAqBA,EAG9FN,S,GAvBSnZ,cC+BPia,G,YAhCb,WAAatS,GAAQ,IAAD,8BAClB,4CAAMA,KACDhJ,MAAQ,CACXub,WAAY,IAHI,E,iFAOE,IpBqIOnU,EoBrIR,OpBqIkBf,IAAMmB,IAAU,mBAAoB,CAACJ,WoBpIxDW,MAAK,gBAAEC,EAAF,EAAEA,OAAF,OAAc,EAAKtH,SAAS,CAAE6a,WAAYvT,S,+BAMzD,IACAuT,EAAexgB,KAAKiF,MAApBub,WACR,OACE,yBAAKva,UAAU,qDACb,wBAAIA,UAAU,SAAd,4BACA,yBAAKA,UAAU,gBAEXua,EAAWnY,KAAI,SAAAC,GAAE,OAAI,kBAACmY,GAAD,CAAapM,IAAK/L,EAAGiP,IAAK1M,KAAMvC,EAAIoX,aAAa,a,GAtBvDpZ,aC2BZoa,G,iLApBb,OACI,yBAAKza,UAAU,YAChB,kBAAC,KAAD,CAMKC,MAAO,CAAEpG,MAAO,MAGhBme,GAAgB5V,KAAI,WAAeiO,GAAf,IAAEf,EAAF,EAAEA,KAAM3M,EAAR,EAAQA,KAAR,OAAyB,kBAAC,KAAKmV,KAAN,CAAW1J,IAAKiC,GAAO,kBAAC,KAAD,CAAM0H,GAAIzI,GAAQ3M,a,GAhBvEtC,aCGnBqa,G,YACL,WAAa1S,GAAQ,IAAD,8BACnB,4CAAMA,KACDhJ,MAAQ,CACZ2b,KAAM,IAHY,E,iFAME,IAAD,OAElBzT,GAAe,CAACjD,KAAM,YAAY8C,MAAK,SAAAjG,GAAQ,IACrC6Z,EAAS7Z,EAAIkG,OAAb2T,KACR,EAAKjb,SAAS,CAAEib,KAAK,CAAE,CAACrJ,IAAK,EAAG3O,KAAM,iBAAlB,oBAA4BgY,W,+BAmB1C,IACFA,EAAS5gB,KAAKiF,MAAd2b,KAGR,OACI,yBAAK3a,UAAU,wBACb,yBAAKA,UAAU,SAAf,4BACH,kBAAC,KAAD,CAGK+Y,aAAc,CAAC,WAGf9Y,MAAO,CAAEpG,MAAO,MAGhB8gB,EAAKvY,KAAI,gBAAEkP,EAAF,EAAEA,IAAK3O,EAAP,EAAOA,KAAMqW,EAAb,EAAaA,MAAb,OACL,kBAAC,KAAKlB,KAAN,CAAW1J,IAAKkD,GACd,kBAAC,KAAD,CAAMyG,GAAI,YAAYzG,GAAM3O,EAA5B,IAAoCqW,EAAK,WAAOA,EAAP,KAAkB,c,GAhD7C3Y,aAmEfgY,gBAAWqC,ICtBXE,G,YA5Cd,WAAa5S,GAAQ,IAAD,8BACnB,4CAAMA,KACDhJ,MAAQ,CACZ4F,KAAM,IAHY,E,iFAME,IAAD,OAClB2C,GAAc,CAAC8P,UAAW,EAAGC,SAAU,IAAIvQ,MAAK,SAAAjG,GAE9C,EAAKpB,SAAS,CAACkF,KAAM9D,EAAIkG,OAAO2T,KAAK,IAAM,U,+BAkBrC,IAAD,EACkC5gB,KAAKiF,MAAxC4F,KAAQuI,EADP,EACOA,QAASyM,EADhB,EACgBA,YAGzB,QACMzM,GAAW,yBAAKnN,UAAU,cAC1B,yBAAKA,UAAU,SAAf,6BACA,0BAAMA,UAAU,QAAhB,kCAA+B4Z,GAClC,6BACK,0BAAM5Z,UAAU,QAAhB,sBAAkCmN,Q,GArCvB9M,aCwENwa,I,wLArDF,IAAD,EACuE9gB,KAAKiO,MAA9EyP,EADE,EACFA,SAAUqD,EADR,EACQA,UAAWC,EADnB,EACmBA,UAG5B,OACA,yBAAK/a,UAAU,iBACV,kBAAC,GAAD,MAEE8a,EACE,kBAAC,GAAD,MAEA,kBAAC,WAAD,KAGIrD,EAAW,kBAAC,GAAD,MAAgB,kBAAC,GAAD,MAG3BsD,EAAY,kBAAC,GAAD,MAAsB,kBAAC,GAAD,CAAUtD,SAAUA,IAGxD,kBAAC,GAAD,Y,GAhCUpX,c,2DCXT2a,GAJIpa,IAAMqa,cAAc,CACrC/J,SAAU,e,UCCNgK,G,2MACLlc,MAAQ,CACPqS,gBAAgB,EAChBT,SAAS,EACTwB,MAAO,GACPjF,QAAS,I,EAEVjO,KAAO,WAAgB,IAAfuG,EAAc,uDAAP,GACd,EAAK/F,SAAL,aACCkR,SAAS,GACNnL,K,EAGL0V,YAAc,WACb,EAAKzb,SAAS,CACb2R,gBAAgB,K,EAGlB+J,YAAc,WACb,EAAK1b,SAAS,CACb2R,gBAAgB,K,EAGlBzL,MAAQ,WACP,EAAKlG,SAAS,CACb2R,gBAAgB,EAChBT,SAAS,EACT0B,YAAQhH,K,wEAGC,IACH6B,EAAWpT,KAAKiF,MAAhBmO,QACP,OACC,kBAAC,KAAD,iBACKpT,KAAKiF,MADV,CAIEqT,cAAc,EAIdgJ,OAAO,eACRC,WAAW,eACV/I,SAAUxY,KAAK6L,QAEf,2BAAIuH,Q,GA7CY9M,aAoDjBC,GAAMjB,SAASkB,cAAc,OAIjClB,SAASC,KAAKkB,YAAYF,IAE1B,IAKeib,GALL7a,IAASC,OAAOC,IAAML,cAC5B2a,GANQ,IAQV5a,ICtDIkb,G,YACL,WAAaxT,GAAQ,IAAD,8BACnB,4CAAMA,KAMPyT,UAAY,WAAO,IAAD,EAEyG,EAAKzT,MAAvHpD,EAFS,EAETA,KAAMC,EAFG,EAEHA,kBAA8B6W,EAF3B,EAEgBrE,UAAuBsE,EAFvC,EAEuCA,UAAWrE,EAFlD,EAEkDA,SAAUhD,EAF5D,EAE4DA,QAASzN,EAFrE,EAEqEA,YAAqB+U,EAF1F,EAEkFzH,OAC3F7C,EAAsB1M,EAAtB0M,IAAK6C,EAAiBvP,EAAjBuP,OAAQxR,EAASiC,EAATjC,KACfkZ,E7BdmB,I6BcV1H,EACT2H,EAAMD,EAAS,eAAO,eACxBxE,EAAYqE,EAChB,IAAKG,EAAQ,CACZ,IAAME,EAAWviB,KAAK2H,MAAMwa,EAAU,GAAKrE,GAC3CD,EAAYwE,GAASH,EAAaK,EAAWA,EAAwBL,EAKtER,GAAOhc,KAAK,CACXkT,MAAO0J,EACP3O,QAAS,6CAAS2O,EAAT,SAAc,0BAAM7b,MAAO,CAAC1D,MAAO,SAAUoG,GAA7C,wCAETkQ,KAJW,W3B4JS,IAAAzM,E2BvJnB8U,GAAOC,e3BuJY/U,E2BtJX,CAACkL,MAAK6C,U3BsJe9O,IAAMgB,KAAW,WAAYD,EAAQ,CAACE,QAASxB,O2BtJpDiC,MAAK,SAAAjG,GAE1B+D,EAAkB,CAAEwS,cACtBrR,IAAQ+G,QAAQ+O,EAAM,gBACtBjV,EAAY,CAACyN,UAASH,OAAQyH,EAAavE,YAAWC,WAAUC,SAAS,EAAMC,SAAS,IACrF0D,GAAOtV,WACNiG,OAAM,SAAA/K,GACRoa,GAAOE,qBAhCZ,EAAKpc,MAAQ,GAFM,E,sEA8CnB,O7BjDyB,I6B6CRjF,KAAKiO,MAAdpD,KAEDuP,OAIH,kBAAC6H,GAAA,EAAD,CAA6B5J,MAAM,eAAK9E,QAASvT,KAAK0hB,YACtD,kBAAClL,GAAA,EAAD,CAAe6B,MAAM,eAAKnS,MAAO,CAAC1D,MAAO,QAAS+Q,QAASvT,KAAK0hB,gB,GAlD9Cpb,aA4ETmS,gBAtBS,SAAAxT,GAAU,IAAD,EACsCA,EAAMuZ,QAC3E,MAAO,CACN0D,SAH8B,EACxBA,SAGNN,UAJ8B,EACdA,UAIhBtE,UAL8B,EACHA,UAIhBC,SALmB,EACQA,SAIjBhD,QALS,EACkBA,QAKhDH,OAN8B,EAC2BA,WAUjC,SAAArN,GACzB,MAAO,CACNjC,kBADM,SACaD,GAClB,OAAOkC,EAASjC,EAAkBD,KAEnCiC,YAJM,SAIOT,GACb,OAAOU,EAASD,GAAYT,QAKhBoM,CAA6CgJ,ICpEtDU,G,YAEL,WAAalU,GAAQ,IAAD,8BACnB,4CAAMA,KAqBPmU,WAAa,SAAArO,GACZ,I5B2FqB1H,E4B3FfyT,EAAU,EAAK7R,MAAMpD,KAAK0M,IAChC,EAAK5R,SAAS,CACb0c,UAAU,K5ByFUhW,E4BjFb,CACPyT,UAEA/L,S5B8E8BzI,IAAMgB,KAAW,WAAYD,I4B7EzDW,MAAK,SAAAjG,GACP,EAAKpB,SAAS,CAAE0c,UAAU,IAC1B,EAAK1c,UAAS,SAACyS,GAAe,IAAD,EACIA,EAAUkK,KAA3BC,EADa,EACpBxO,MAAa/R,EADO,EACPA,OACrB,MAAO,CACNsgB,KAAM,CACLE,SAAS,EACTzO,MAAOwO,EAAOxO,EACd/R,OAAQA,EAAQ,UAIjB8P,OAAM,SAAA/K,GAAG,OAAI,EAAKpB,SAAS,CAAE0c,UAAU,QAjDvB,EAqDpBI,OAAS,WAAO,IACPlL,EAAQ,EAAKtJ,MAAMpD,KAAnB0M,IACR3K,GAAQ,CAAC2K,SAvDU,EA+DpBmL,UAAY,WACX,IAAMC,EAAM,EAAKliB,QADA,EAEa,EAAKwN,MAA3BpD,EAFS,EAETA,KAAM0R,EAFG,EAEHA,YACdS,GAAY7X,KAAZ,aACGoX,eACC1R,EAFJ,CAGC+M,aAAa,EACbqD,YAAY,EACZc,aAAa,EACbV,YAAaxQ,EAAK4D,IAClByN,gBAAgB,EAChBE,YAAY,EACZjF,SAAUwL,EAAIxL,aA3EI,EAiGpByL,iBAAmB,WAAO,IAAD,EACgB,EAAK3U,MAA7BsJ,EADQ,EAChB1M,KAAQ0M,IAAOsL,EADC,EACDA,aACvB,EAAKld,SAAS,CAACmd,cAAc,IAC7BD,GAAgBA,EAAatL,GAE3BwL,SAAQ,SAAAhc,GAAG,OAAI,EAAKpB,SAAS,CAACmd,cAAc,QAnG9C,EAAK7d,MAAQ,CACZqd,KAAMrU,EAAMpD,KAAKyX,KACjBU,YAAa/U,EAAMpD,KAAKmY,YAExBX,UAAU,EACVS,cAAc,GARI,E,sEAwGV,I/BjHcG,E+BiHd,EAG+DjjB,KAAKiO,MAArEpD,EAHC,EAGDA,KAAM6S,EAHL,EAGKA,SAAUwF,EAHf,EAGeA,WAAYhO,EAH3B,EAG2BA,SAAUiO,EAHrC,EAGqCA,SAAUH,EAH/C,EAG+CA,YAH/C,EAKgChjB,KAAKiF,MAAtCod,EALC,EAKDA,SAAUC,EALT,EAKSA,KAAMQ,EALf,EAKeA,aAIlBM,EAAUd,EAAKvO,MAAQuO,EAAKtgB,QAAU,EACpCuV,EAAmH1M,EAAnH0M,IAAK3O,EAA8GiC,EAA9GjC,KAAMf,EAAwGgD,EAAxGhD,IAAKuS,EAAmGvP,EAAnGuP,OAAQH,EAA2FpP,EAA3FoP,KAAMxL,EAAqF5D,EAArF4D,IAAKoR,EAAgFhV,EAAhFgV,YAVlC,EAUkHhV,EAAnE0P,eAV/C,MAUuD,GAVvD,EAUiE8I,EAAiDxY,EAAvD2P,KAAa8I,EAA0CzY,EAA1CyY,iBAAkBC,EAAwB1Y,EAAxB0Y,MAAOC,EAAiB3Y,EAAjB2Y,aACpGhJ,EAAO6I,GAAS,GAChBI,E9BhImB,I8BgIRrJ,EAGjB,OACC,yBAAKnU,UAAW,cAAgBkd,EAAW,YAAc,KAGvD,wBAAIld,UAAU,cAEZwd,EAAW,kBAAC,KAAD,CAAMzF,GAAI,eAAiBzG,GAAM3O,GAAe,8BAAQA,EAAR,I/BrI3C,KADEqa,E+BsIkE7I,I/BrI/D,uBAAGlU,MAAO,CAAC1D,MAAsB,IAAfygB,EAAmB,MAAQ,WAA7C,IAA0Dva,EAAUua,GAApE,M+B6IrBvF,IACK+F,GAAWvO,IAAoB,8BAAM,kBAACwO,GAAA,EAAD,CAAcrL,MAAM,eAAK9E,QAASvT,KAAK0iB,UAAWxc,MAAO,CAACyd,YAAa,KAAM,kBAACC,GAAD,CAAS/Y,KAAMA,KACnI,kBAAC,KAAD,CAASsI,UAAU,MAAMkF,MAAO2K,EAAc,2BAAS,gBACvD,kBAAC,KAAD,CAAMa,SAAUf,EAAc7Q,KAAK,SAClC,kBAAC6R,GAAA,EAAD,CAAa7d,UAAW,SAA2C+c,EAAc,SAAW,IAAKzP,QAASvT,KAAK4iB,sBAKrH,uBAAG3c,UAAU,gBAAb,OAAiCsd,EAAjC,SACA,yBAAKtd,UAAU,aACd,kBAAC,KAAD,CAAM4d,SAAUxB,EAAUpQ,KAAK,SAC9B,gDAAiB,kBAAC,KAAD,CAAM8C,SAAUuN,EAAKE,QAASzO,MAAO7M,EAASkc,GAAUW,WAAS,EAACnS,SAAU5R,KAAKoiB,eAGpG,yBAAKnc,UAAU,gBACd,yBAAKA,UAAU,oBAAoB+d,wBAAyB,CAACC,OAAQhK,KACrE,yBAAKhU,UAAU,sBACd,yBAAKA,UAAU,4BACbwI,GAAO,yBAAKE,IzB7KyC,GyB6K3BF,EAAK4C,IAAI,qCAGtC,yBAAKpL,UAAU,eACd,4BACC,iDAAO,uBAAGA,UAAU,uBAAuBie,KAAMrc,EAAKsc,IAAI,sBAAsB7R,OAAO,SAASiB,QAASvT,KAAKyiB,QAAS5a,IACvH,iDAGE0S,EAAQlS,KAAI,SAACS,EAAIwN,GAAL,OACX,kBAAC,WAAD,CAAUjC,IAAKvL,GACd,kBAAC,KAAD,CAAMkV,GAAI,IAAMlV,GAAKoa,EAAWpa,IAC/BwN,IAAUiE,EAAQvY,OAAS,GAAK,cAIrC,iDAGEwY,EAAKnS,KAAI,SAACO,EAAM0N,GAAP,OACR,kBAAC,WAAD,CAAUjC,IAAKiC,GACd,kBAAC,KAAD,CAAM0H,GAAI,QAAUpV,GAAOA,GAC1B0N,IAAUkE,EAAKxY,OAAS,GAAK,cAIlC,iDAAQshB,GACR,6DAAUzD,IAGV4D,IAAaN,GACb,yBAAKld,UAAU,eACd,kBAAC,KAAD,CAAMA,UAAU,UAAU+X,GAAI,eAAezG,GAA7C,4BAAyDiM,EAAzD,a,GA1Lcld,aAAjB6b,GACEiC,YAAcnD,GAmMtB,IAoBexI,gBApBS,SAAAxT,GAAU,IACzBsX,EAAgBtX,EAAMuZ,QAAtBjC,YACArH,EAAajQ,EAAMsZ,IAAnBrJ,SACFgO,EAAa,GAElB,OADD3G,EAAYzM,SAAQ,SAAAxH,GAAE,OAAI4a,EAAW5a,EAAGiP,KAAOjP,EAAGM,QAC1C,CACN2T,cACArH,WACAgO,gBAYqC,KAAzBzK,CAA+B0J,I,UC1N/BkC,I,wLAVX,OACC,yBAAKpe,UAAU,WAEd,+D,GANcK,cCuDLge,I,wLAjDH,MAEuFtkB,KAAKiO,MAF5F,IAEF2S,YAFE,MAEG,GAFH,EAEO3B,EAFP,EAEOA,MAAO5Z,EAFd,EAEcA,QAASkY,EAFvB,EAEuBA,SAAU3L,EAFjC,EAEiCA,SAAU2S,EAF3C,EAE2CA,iBAAkB7G,EAF7D,EAE6DA,SAAUmF,EAFvE,EAEuEA,aAEhF,OACC,yBAAK5c,UAAU,gBAEd,yBAAKA,UAAU,gBAEb2a,EAAK5e,OAAS,EAEZ,kBAAC,WAAD,KACE,yBAAKiE,UAAU,kBAEb2a,EAAKvY,KAAI,SAAAC,GAAE,OACV,kBAAC,GAAD,CACCoV,SAAUA,EACVrJ,IAAK/L,EAAGiP,IACRsL,aAAcA,EACdG,YAAa1a,EAAG0a,YAChBnY,KAAMvC,QAOV,kBAAC,KAAD,CACC2W,MAAOA,EAAO5Z,QAASA,EAASkY,SAAUA,EAC1CiH,iBAAe,EACTvS,KAAK,QAEXL,SAAUA,EACV6S,gBAAiB,CAAC,IAAK,KAAM,MAC7BF,iBAAkBA,KAKrB,kBAAC,GAAD,Y,GAxCaG,kBCMhBC,G,YAeL,WAAa1W,GAAQ,IAAD,8BACnB,4CAAMA,KAqCPkJ,SAAW,WAAO,IAAD,EACgB,EAAKlJ,MAA7BqP,EADQ,EACRA,UAAWC,EADH,EACGA,SAMnB,EAAKtP,MAAMnB,YAAX,aAAyBwQ,YAAWC,WAAUC,SAAS,GAAS,EAAKoH,YA7ClD,EAgDpBC,cAAgB,SAACxY,GAAY,IAAD,EAC4B,EAAK4B,MAAzC6W,EADQ,EACnBxH,UAAiCyH,EADd,EACIxH,SADJ,EAGmClR,EAAtDiR,iBAHmB,MAGTwH,EAHS,IAGmCzY,EAAhCkR,gBAHH,MAGYwH,EAHZ,EAGuBvH,EAAYnR,EAAZmR,QAElD,EAAKvP,MAAMnD,kBAAkB,CAACwS,YAAWC,aACzC,EAAKtP,MAAMnB,YAAX,aACCwQ,YACAC,WAEAC,WACG,EAAKoH,WACN9S,OAAM,SAAA/K,GACL4D,EAASV,KAAK,gBAAiBlD,OA7DhB,EAiEpB6K,SAAW,SAAA0L,GAEV,EAAKuH,cAAc,CAACvH,eAnED,EAqEnBiH,iBAAmB,SAACjH,EAAWC,GAAZ,OAAyB,EAAKsH,cAAc,CAACvH,YAAWC,cArExD,EAuEnBsF,aAAe,SAAAtL,GAAQ,IACf2K,EAAa,EAAKjU,MAAlBiU,SACR,OAAOxV,GAAY,CAAC6K,QAAMvK,MAAK,SAAAjG,GAC3B,EAAKkH,MAAM9C,eAAe+W,EAAS7Z,KAAI,SAAAC,GAAE,OAAIA,EAAGiP,MAAQA,EAAX,eAAqBjP,EAArB,CAAyB0a,aAAc1a,EAAG0a,cAAe1a,UAvE1G,EAAKrD,MAAQ,CACZ2b,KAAM,IAJY,E,sEAbT,IAAD,EAEqE5gB,KAAKiO,MAA3EyP,EAFC,EAEDA,SAAUtD,EAFT,EAESA,OAFT,IAEiB2E,MAAS1S,OAAUkO,EAFpC,EAEoCA,QAASyK,EAF7C,EAE6CA,QAAS5F,EAFtD,EAEsDA,OAC/D,MAAO,CACN7E,QAASM,SAASN,KAAa,EAC/BH,OAAQsD,EAAWtD,EAAS,EAC5BqD,UAAWC,EACXuH,SAAUD,EACV5F,c,wDAakB8F,GAAY,IACvBxH,EAAa1d,KAAKiO,MAAlByP,SACQyH,EAAeD,EAAUnG,MAAjC1S,OACQ+Y,EAAcplB,KAAKiO,MAAM8Q,MAAjC1S,OAEJ8Y,EAAW5K,UAAY6K,EAAU7K,SAAW4K,EAAWH,UAAYI,EAAUJ,SAAWG,EAAW/F,SAAWgG,EAAUhG,SAExHpf,KAAKiO,MAAMnD,kBAAkB,CAC5ByP,QAASM,SAASuK,EAAU7K,WAAa,EACzCmD,aAGD1d,KAAK6kB,cAAc,CAACvH,UAAW,EAAGE,SAAS,O,0CAG1B,IAAD,SACiCxd,KAAKiO,MAAlDyP,EADY,EACZA,SAA6BnD,EADjB,EACFwE,MAAS1S,OAAUkO,QAEnCva,KAAKiO,MAAMnD,kBAAkB,CAC5ByP,QAASM,SAASN,KAAa,EAC/BmD,aAGD1d,KAAK6kB,cAAc,CAACvH,UAAW,EAAGE,SAAS,IAE3C7S,EAASD,GAAG,iBAAiB,WAC5B,EAAKyM,gB,+BA4CE,IACFA,EAA2BnX,KAA3BmX,SAAU0L,EAAiB7iB,KAAjB6iB,aADT,EAGsD7iB,KAAKiO,MAA5DqP,EAHC,EAGDA,UAAWC,EAHV,EAGUA,SAAU2E,EAHpB,EAGoBA,SAAUN,EAH9B,EAG8BA,UAAWlE,EAHzC,EAGyCA,SAIjD,OACC,kBAAC,GAAW2H,SAAZ,CAAqBtR,MAAO,CAAEoD,aAI5B,kBAAC,GAAD,CACCuG,SAAUA,EACVkD,KAAMsB,EACNW,aAAcA,EAEd5D,MAAO2C,EAAWvc,QAASiY,EAAWC,SAAUA,EAChD3L,SAAU5R,KAAK4R,SACf2S,iBAAkBvkB,KAAKukB,wB,GAhHLje,aAwJVgY,gBAAW7F,aAjCF,SAAAxT,GAAU,IAAD,EAC6BA,EAAMuZ,QAClE,MAAO,CACN0D,SAH8B,EACxBA,SAGNN,UAJ8B,EACdA,UAIhBtE,UAL8B,EACHA,UAIhBC,SALmB,EACQA,SAKtCnD,OAN8B,EACkBA,WAWxB,SAAArN,GACzB,MAAO,CACNjC,kBADM,SACaD,GAClB,OAAOkC,EAASjC,EAAkBD,KAEnCM,eAJM,SAIUyV,GACf,OAAO7T,EAAS5B,EAAe,CAACyV,WAKjC9T,YAVM,SAUOT,GACb,OAAOU,EAASD,GAAYT,QASLoM,CAA6CkM,KC1JjEW,I,iCACJ,WAAarX,GAAQ,IAAD,uBAClB,4CAAMA,KAeR4N,iBAAmB,SAAA0J,GACjB,EAAK5f,SAAS,CAAC4f,mBAjBG,EAqBpB3T,SAAW,SAAC0L,GAAe,IhCyGCjR,EgCzGF,EACY,EAAK4B,MAAMuX,WAAlCC,EADW,EAChBlO,IAAgBuI,EADA,EACAA,ShCwGEzT,EgCvGX,CAACiR,YAAWmI,YAAW3F,WhCuGFxU,IAAMmB,IAAU,kBAAmB,CAACJ,YgCvGxBW,MAAK,SAAAjG,GACnD,EAAKpB,SAAS,CACZ+f,UAAW3e,EAAIkG,OAAO2T,KACtBtD,kBA1Bc,EA+BpBqI,cAAgB,WAAO,IACbC,EAAY,EAAK3X,MAAMuX,WAAvBI,QACR,EAAKjgB,SAAS,CACZkgB,aAAa,EACbN,cAAe1L,gBAAahL,MAAM,EAAK5J,MAAMsgB,eAC7CO,WAAYF,EACZhG,aAAc,QArCE,EAwCpBmG,YAAc,SAACC,GAAU,IACfJ,EAAuBI,EAAvBJ,QAASzM,EAAc6M,EAAd7M,UACjB,EAAKxT,SAAS,CACZkgB,aAAa,EACbN,cAAe1L,gBAAaC,WAAWD,gBAAahL,MAAM,EAAK5J,MAAMsgB,eAAtD,uBAA4EpM,EAA5E,WACf2M,WAAYF,EACZhG,aAAczG,KA9CE,EAiDpB8M,OAAS,WAAO,IhC2ES5Z,EgC3EV,EACuB,EAAK4B,MAAMuX,WAAlCC,EADA,EACLlO,IAAgBuI,EADX,EACWA,QADX,EAE8D,EAAK7a,MAAxEsgB,EAFK,EAELA,cAAeG,EAFV,EAEUA,UAAWI,EAFrB,EAEqBA,WAAYlG,EAFjC,EAEiCA,aAAcsG,EAF/C,EAE+CA,YAC5D,EAAKvgB,SAAS,CAAC2R,gBAAgB,IAC/B9B,QAAQC,IAAIqQ,GACRP,EAAc3J,ahCsEKvP,EgCjEX,CACVoZ,YACA3F,UACA1M,QAASmS,EAAc3L,SAAS9U,QAAvB,uBAAqC8a,EAArC,UAAsD,IAC/DuG,cAAevG,EACfkG,chC4D+Bxa,IAAMgB,KAAW,eAAgBD,EAAQ,CAACE,QAASxB,OgC1DjFiC,MAAK,SAAAjG,GACN,EAAKpB,SAAS,CACZ4f,cAAe1L,gBAAahL,MAAM,EAAK5J,MAAMsgB,eAC7CG,UAAU,GAAD,oBAAMA,GAAN,CAAiB3e,EAAIkG,SAC9BiZ,WAAYA,EAAa,EACzB5O,gBAAgB,OAEjBxF,OAAM,SAAA/K,GAAG,OAAI,EAAKpB,SAAS,CAAE2R,gBAAgB,QAzE9B,EA2EpB8O,cAAgB,WAAO,IAAD,EACmB,EAAKnhB,MAApCohB,EADY,EACZA,aAAczG,EADF,EACEA,aACdgG,EAAY,EAAK3X,MAAMuX,WAAvBI,QACHS,IACH,EAAK1gB,SAAS,CACZkgB,aAAa,IAEVjG,GAEH,EAAKja,SAAS,CACZmgB,WAAYF,EACZhG,aAAc,QAIpB,EAAKja,SAAS,CACZ0gB,cAAeA,KA3FC,MAEsBpY,EAAMuX,WAF5B,IAEVc,iBAFU,MAEA,GAFA,MAEIC,mBAFJ,MAEgB,EAFhB,SAGlB,EAAKthB,MAAQ,CACXqS,gBAAgB,EAChBiO,cAAelJ,KAAYC,kBAAkB,IAC7CgB,UAAW,EACXoI,UAAWY,EACXJ,WAAYK,EACZT,WAAY,KACZlG,aAAc,KACdiG,aAAa,EACbQ,aAAcE,EAAc,GAZZ,E,sEA8FV,IAAD,SACkGvmB,KAAKiF,MAAtGsgB,EADD,EACCA,cAAejO,EADhB,EACgBA,eAAgBgG,EADhC,EACgCA,UAAWoI,EAD3C,EAC2CA,UAD3C,IACsDQ,kBADtD,MACiE,EADjE,EACoEL,EADpE,EACoEA,YAAaQ,EADjF,EACiFA,aAChFlN,EAAcnZ,KAAKiO,MAAnBkL,UACFqN,EAA0B,IAAfN,EAAmB,GAAnB,WAA4BA,EAA5B,KACjB,OACE,kBAAC,WAAD,KACE,yBAAKjgB,UAAU,eAAe,0BAAMA,UAAU,eAAesN,QAASvT,KAAKomB,eAAkBC,EAA+B,2BAAhB,eAAKG,IACjH,yBAAKvgB,UAAU,0BAA0BC,MAAO,CAACsN,QAAS6S,EAAe,QAAS,SAE9EX,EAAU1jB,OAAS,GACnB,yBAAKiE,UAAU,qBACb,yBAAKA,UAAU,gBAEXyf,EAAUrd,KAAI,SAAAC,GAKZ,OAJIA,EAAG6d,eACL7d,EAAGsX,aAAe,IAGb,kBAACa,GAAD,CAAapM,IAAK/L,EAAGiP,IAAK1M,KAAMvC,GACrC,6BACE,0BAAMrC,UAAU,WAAWsN,QAAS,WAAO,EAAKwS,YAAYzd,KAA5D,qBAKR,kBAAC,KAAD,CACEme,kBAAkB,EAClBxH,MAAOiH,EAAY7gB,QAASiY,EAAWC,SAAU,GACjDiH,iBAAe,EACfvS,KAAK,QACLL,SAAU5R,KAAK4R,aAOrB8T,EAAU1jB,OAAS,GAAK,yBAAKiE,UAAU,kBAAiB,0BAAMA,UAAU,WAAWsN,QAASvT,KAAK2lB,eAAzC,mCAE1D,yBAAK1f,UAAU,aAETkT,EACE,yBAAKlT,UAAW,yBAA2B4f,EAAc,GAAK,WAC5D,kBAAC,GAAD,CACEnJ,SAAU,CAAC,SACXzW,UAAU,cACV8N,MAAOwR,EACP5L,OlChEQ,IkCiER/H,SAAU5R,KAAK6b,mBAGjB,kBAAC,KAAD,CAAQ3R,KAAK,UAAUjE,UAAU,YAAYS,QAAS4Q,EAAgB/D,QAASvT,KAAKimB,QAApF,iBAEF,0BAAMhgB,UAAU,qBAAhB,iE,GApJYK,cA+KfmS,gBAdS,SAAAxT,GAEtB,MAAO,CACLkU,UAFoBlU,EAAMsZ,IAApBpF,cAKiB,SAAApM,GACzB,MAAO,CACL3B,YADK,SACQxC,GACX,OAAOmE,EAAS3B,EAAYxC,QAKnB6P,CAA6C6M,IC9KtDoB,G,YACJ,WAAazY,GAAQ,IAAD,8BAClB,4CAAMA,KAURpB,gBAAkB,WAAgB,IAAfR,EAAc,uDAAP,GACxB1K,OAAOglB,SAAS,EAAG,GADY,IAEvBC,EAAW,EAAK3Y,MAAhB2Y,OACAtJ,EAAc,EAAKrY,MAAnBqY,UACAE,EAAYnR,EAAZmR,QACR3Q,GAAgB,aAACiT,QAAS8G,EAAQtJ,aAAcjR,IAASW,MAAK,YAAe,IAAbC,EAAY,EAAZA,OAC9D,EAAKtH,SAAS,CACZ6a,WAAYvT,EAAO2T,MAAQ,KAEzBpD,GACF,EAAK7X,SAAS,CACZsZ,MAAOhS,EAAOgS,YAtBF,EAwCpBpD,iBAAmB,SAAA0J,GACjB,EAAK5f,SAAS,CAAC4f,mBAzCG,EA2CpBU,OAAS,WAAO,IjC+EU5Z,EiC/EX,EACyB,EAAKpH,MAAnCsgB,EADK,EACLA,cAAe/E,EADV,EACUA,WACfoG,EAAW,EAAK3Y,MAAhB2Y,OACJrB,EAAc3J,YAGlB,EAAKjW,SAAS,CAAC2R,gBAAgB,KjCyEPjL,EiCxEX,CAACyT,QAAS8G,EAAQxT,QAASmS,EAAc3L,UjCwEpBtO,IAAMgB,KAAW,gBAAiBD,EAAQ,CAACE,QAASxB,OiCxErBiC,MAAK,SAAAjG,GACpE,EAAKpB,SAAS,CACZ4f,cAAe1L,gBAAahL,MAAM,EAAK5J,MAAMsgB,eAC7C/E,WAAW,GAAD,oBAAMA,GAAN,CAAkBzZ,EAAIkG,SAChCqK,gBAAgB,OAEjBxF,OAAM,kBAAM,EAAKnM,SAAS,CAAE2R,gBAAgB,SAxD7B,EA4DpB1F,SAAW,SAAC0L,GACV,EAAK3X,SAAS,CAAC2X,cAAY,WACzB,EAAKzQ,sBA5DP,EAAK5H,MAAQ,CACXqS,gBAAgB,EAChBiO,cAAelJ,KAAYC,kBAAkB,IAC7CkE,WAAY,GACZvB,MAAO,EACP3B,UAAW,GAPK,E,gFA2BA4H,GACaA,EAAvB0B,SACsB5mB,KAAKiO,MAA3B2Y,QAIN5mB,KAAK6M,gBAAgB,CAAC2Q,SAAS,M,0CAKjCxd,KAAK6M,gBAAgB,CAAC2Q,SAAS,M,+BA4BvB,IAAD,EACiExd,KAAKiF,MAArEsgB,EADD,EACCA,cAAejO,EADhB,EACgBA,eAAgBkJ,EADhC,EACgCA,WAAYvB,EAD5C,EAC4CA,MAAO3B,EADnD,EACmDA,UAClDnE,EAAcnZ,KAAKiO,MAAnBkL,UACR,OACE,kBAAC,WAAD,KACE,yBAAKlT,UAAU,qBAEXua,EAAWxe,OAAS,EAClB,yBAAKiE,UAAU,gBAEbua,EAAWnY,KAAI,SAAAC,GAAE,OACf,kBAACmY,GAAD,CAAapM,IAAK/L,EAAGiP,IAAK1M,KAAMvC,GAC9B,kBAAC,GAAD,CAAiBkd,WAAYld,QAGnC,kBAAC,KAAD,CACE2W,MAAOA,EAAO5Z,QAASiY,EAAWC,SAAU,GAC5CiH,iBAAe,EACfvS,KAAK,QAELL,SAAU5R,KAAK4R,YAMjB,yBAAK3L,UAAU,aAAf,uEAGN,yBAAKA,UAAU,aAETkT,EACE,yBAAKlT,UAAU,wBACb,kBAAC,GAAD,CACEyW,SAAU,CAAC,SACXzW,UAAU,cACV8N,MAAOwR,EACP5L,OnC3BU,ImC4BV/H,SAAU5R,KAAK6b,mBAEjB,kBAAC,KAAD,CAAQ3R,KAAK,UAAUjE,UAAU,YAAYS,QAAS4Q,EAAgB/D,QAASvT,KAAKimB,QAApF,iBAEF,0BAAMhgB,UAAU,qBAAhB,gE,GA7GSK,aAoIVmS,gBAdS,SAAAxT,GAEtB,MAAO,CACLkU,UAFoBlU,EAAMsZ,IAApBpF,cAKiB,SAAApM,GACzB,MAAO,CACL3B,YADK,SACQxC,GACX,OAAOmE,EAAS3B,EAAYxC,QAKnB6P,CAA6CiO,IC1F7CG,G,2MAlDb5hB,MAAQ,CACN2b,KAAM,I,EAaRjU,cAAgB,WAAO,IACb4N,EAAY,EAAKtM,MAAjBsM,QACR5N,GAAc,CAAC4N,YAAUvN,MAAK,SAAAjG,GAE5B,EAAKpB,SAAS,CACZib,KAAM7Z,EAAIkG,OAAO2T,W,kFAhBHsE,GACeA,EAAzB3K,UACYva,KAAKiO,MAAjBsM,SAENva,KAAK2M,kB,4EAiBA,IACCiU,EAAS5gB,KAAKiF,MAAd2b,KACR,OACE,yBAAK3a,UAAU,kBACb,yBAAKA,UAAU,SAAf,kCACA,4BAEI2a,EAAKvY,KAAI,SAAAC,GAAE,OACT,wBAAI+L,IAAK/L,EAAGiP,KACV,kBAAC,KAAD,CAAMyG,GAAI,eAAe1V,EAAGiP,KAC1B,2BAAIjP,EAAGM,MACP,yBAAK3C,UAAU,WACb,yBAAK0I,I/B1CqC,G+B0CzBrG,EAAGmG,IAAK4C,IAAI,6B,GArCxB/K,aCQnBwgB,G,YACJ,WAAa7Y,GAAQ,IAAD,8BAClB,4CAAMA,KAuBR8Y,YAAc,WAAO,InC+GM1a,EmC9GT2a,EAAS,EAAK/Y,MAAM8Q,MAAM1S,OAAlCua,OACFA,EAAS/L,SAASmM,GACxBpa,GAAQ,CAAC2K,IAAKqP,KnC4GWva,EmCzGX,CAACyT,QAAS8G,GnC0G1BlgB,EAAQvB,OACDmG,IAAMmB,IAAU,iBAAkB,CAACJ,WAASW,MAAK,SAAAjG,GAEtD,OADAL,EAAQmF,QACD9E,MmC5GJiG,MAAK,oBAAEC,cAAF,MAAS,GAAT,SAAiB,EAAKtH,SAAS,CAACshB,SAAUha,EAAQ+V,YAAa/V,EAAO+V,kBA/B5D,EAsCpBH,aAAe,SAACtL,GAAQ,IAIdyL,EAAgB,EAAK/d,MAArB+d,YACR,OAAOtW,GAAY,CAAC6K,QAAMvK,MAAK,SAAAjG,GAE7B,EAAKpB,SAAS,CACZqd,aAAcA,QA3ClB,EAAK/d,MAAQ,CACXgiB,SAAU,GACVjE,aAAa,GALG,E,gFASAkC,GAAY,IACdC,EAAeD,EAAUnG,MAAjC1S,OACQ+Y,EAAcplB,KAAKiO,MAAM8Q,MAAjC1S,OAEJ8Y,EAAWyB,SAAWxB,EAAUwB,QAElC5mB,KAAK+mB,gB,0CAGa,IAAD,OACnB/mB,KAAK+mB,cACLpc,EAASD,GAAG,oBAAoB,WAC9B,EAAKqc,mB,+BA6BA,IACCH,EAAW5mB,KAAKiO,MAAM8Q,MAAM1S,OAA5Bua,OADF,EAE4B5mB,KAAKiF,MAA/BgiB,EAFF,EAEEA,SAAUjE,EAFZ,EAEYA,YAClB,OACE,yBAAK/c,UAAU,yCACb,yBAAKA,UAAU,kBAETghB,EAAS1P,IACR,kBAAC,GAAD,CACCmG,UAAU,EACVyF,UAAU,EACVtY,KAAMoc,EACNjE,YAAaA,EACbH,aAAc7iB,KAAK6iB,eAEnB,uGAEN,kBAAC,GAAD,CAAY+D,OAAQA,EAAQrM,SAAU0M,EAAS1M,SAAW,IAAI2M,KAAK,OACnE,wBAAIjhB,UAAU,QAAQC,MAAO,CAACihB,UAAW,KAAzC,gBACA,kBAAC,GAAD,CAAYP,OAAQA,U,GAtELtgB,aA8EVgY,gBAAWwI,IChFpBM,I,mBACJ,WAAanZ,GAAQ,IAAD,8BAClB,4CAAMA,KAYRoZ,eAAiB,SAAChb,IpCsHU,SAAAA,GAAM,OAAIf,IAAMmB,IAAU,kBAAmB,CAACJ,SAAQE,QAASxB,OoCpHzFsc,CAAehb,GAAQW,MAAK,SAAAjG,GAAQ,IAAD,EACTA,EAAIkG,OAApB2T,EADyB,EACzBA,KAAM3B,EADmB,EACnBA,MACd,EAAKtZ,SAAS,CACZib,SAEEvU,EAAOmR,SACT,EAAK7X,SAAS,CACZsZ,aAGHnN,OAAM,SAAA/K,GACP4D,EAASV,KAAK,gBAAiBlD,OA1Bf,EA6BpB6K,SAAW,SAAC0L,GACV,EAAK+J,eAAe,CAAC/J,cACrB,EAAK3X,SAAS,CAAC2X,eA7Bf,EAAKrY,MAAQ,CACX2b,KAAM,GACN3B,MAAO,EACP3B,UAAW,GALK,E,iFASE,IpCyHKjR,EoCzHN,OACnBrM,KAAKqnB,eAAe,CAAC/J,UAAW,EAAGE,SAAS,IpCwHTlS,IAAMmB,IAAU,iBAAkB,CAACJ,SAAQE,QAASxB,MoCvHvEiC,MAAK,SAAAjG,GAAG,OAAI,EAAKkH,MAAM5C,YAAY,Q,+BAsB7C,MAE6BrL,KAAKiF,MAAhC2b,EAFF,EAEEA,KAAM3B,EAFR,EAEQA,MAAO3B,EAFf,EAEeA,UAErB,OACE,yBAAKrX,UAAU,gCACb,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,gBACb,4BAEI2a,EAAKvY,KAAI,SAAAC,GACP,IAAMgf,EtCrDO,IsCqDMhf,EAAGwX,QAEhByH,EAAUD,EAAa,YAAc,eAAiBhf,EAAGwX,QAE/D,OAAO,wBAAIzL,IAAK/L,EAAGiP,KACjB,yBAAKtR,UAAU,aACb,kBAAC,KAAD,CAAM+X,GAAIuJ,EAASthB,UAAU,YAC3B,yBAAKA,UAAU,gBAAiBqC,EAAG6Q,UAAnC,UACA,yBAAKlT,UAAU,kBAAkB+d,wBAAyB,CAACC,OAAQ3b,EAAG8K,YAExE,yBAAKnN,UAAU,gBAAf,6CACS,kBAAC,KAAD,CAAM+X,GAAIuJ,GAAWD,EAAa,2BAAShf,EAAGkf,aAGzD,yBAAKvhB,UAAU,cACb,0BAAMA,UAAU,QAAQqC,EAAGuX,oBAOvC,kBAAC,KAAD,CACEZ,MAAOA,EAAO5Z,QAASiY,EAAWC,SAAU,GAC5CiH,iBAAe,EACfvS,KAAK,QACLL,SAAU5R,KAAK4R,iB,GAvEFtL,cAwFVmS,eAAQ,MARI,SAAA1L,GACzB,MAAO,CACL1B,YADK,SACQlE,GACX,OAAO4F,EAAS1B,GAAYlE,QAKnBsR,CAAkC2O,I,oBC3F3CK,G,YAEL,WAAaxZ,GAAQ,IAAD,8BACnB,4CAAMA,KAUPyZ,UAAY,WACX,EAAK/hB,SAAS,CACZkR,SAAS,KAbQ,EAqBpBM,SAAW,WAAM,IrCiKQ9K,EqC/JjBzD,EAAQ,EAAK3D,MAAb2D,KAGP,EAAKjD,SAAS,CAAE2R,gBAAgB,KrC4JRjL,EqC3Jb,CAACzD,QrC2JsB0C,IAAMgB,KAAW,cAAeD,EAAQ,CAACE,QAASxB,OqC3JjEiC,MAAK,SAAAjG,GACvBkF,IAAQ+G,QAAQ,6BAChB,EAAK/E,MAAMf,gBACX,EAAKe,MAAMb,sBACX,EAAKzH,SAAS,CAAEkR,SAAS,EAAOS,gBAAgB,EAAM1O,KAAM,QAKtDkJ,OAAM,SAAA/K,GACZ,EAAKpB,SAAS,CAAE2R,gBAAgB,QArCd,EA0CpBG,aAAe,WACd,EAAK9R,SAAS,CACbkR,SAAS,KA5CS,EAiDpBc,WAAa,SAAAxN,GACZ,EAAKxE,SAAS,CACbiD,KAAMuB,EAAEmI,OAAOyB,SAjDhB,EAAK9O,MAAQ,CACZ4R,SAAS,EACTS,gBAAgB,EAChB1O,KAAM,IALY,E,sEAwDV,IAAD,SACmC5I,KAAKiF,MAAtC4R,EADF,EACEA,QAASS,EADX,EACWA,eAAgB1O,EAD3B,EAC2BA,KAEjC,OACD,kBAAC,WAAD,KACG,kBAAC,KAAD,CAAQsB,KAAK,UAAUqJ,QAAS,WAC7B,EAAKmU,cADR,4BAIE,kBAAC,KAAD,CACC5nB,MAAO,IACXuY,MAAM,2BACNxB,QAASA,EACTyB,cAAc,EACdQ,KAAM9Y,KAAKmX,SACXG,eAAgBA,EAChBkB,SAAUxY,KAAKyX,aACf6J,OAAO,eACPC,WAAW,gBAEP,yBAAKtb,UAAU,gBAClB,yBAAKA,UAAU,kBACd,2DAAmB,kBAAC,KAAD,CAAO2L,SAAU5R,KAAK2X,WAAY5D,MAAOnL,Y,GAhF1CtC,aA4GVmS,eAAQ,MAVI,SAAA1L,GACzB,MAAO,CACNG,cADM,SACSb,GACf,OAAOU,EAASG,GAAcb,KAE9Be,oBAJM,SAIef,GACrB,OAAOU,EAASK,GAAoBf,QAIxBoM,CAAkCgP,I,UC1G3CE,I,wLACO,IAAD,EACoE3nB,KAAKiO,MAAzE4I,EADA,EACAA,QAASS,EADT,EACSA,eAAgB1O,EADzB,EACyBA,KAAMgJ,EAD/B,EAC+BA,SAAUuF,EADzC,EACyCA,SAAUyQ,EADnD,EACmDA,aAC3D,OACE,kBAAC,KAAD,CACE9nB,MAAO,IACPuY,MAAM,eACNxB,QAASA,EACTyB,cAAc,EACdhB,eAAgBA,EAChBkB,SAAUoP,EACV9O,KAAM3B,EACNmK,OAAO,eACPC,WAAW,gBAEX,kBAAC,KAAD,CAAO5K,YAAY,uCAAS/E,SAAUA,EAAUmC,MAAOnL,S,GAfvCtC,cAoBlBuhB,G,iLACO,IAAD,EAC0D7nB,KAAKiO,MAA/D4I,EADA,EACAA,QAASS,EADT,EACSA,eAAgB1O,EADzB,EACyBA,KAAMuO,EAD/B,EAC+BA,SAAUyQ,EADzC,EACyCA,aACjD,OACE,kBAAC,KAAD,CACE9nB,MAAO,IACPuY,MAAM,eACNxB,QAASA,EACTyB,cAAc,EACdhB,eAAgBA,EAChBkB,SAAUoP,EACV9O,KAAM3B,EACNmK,OAAO,eACPC,WAAW,gBATb,iCAWQ3Y,EAXR,gC,GAJiBtC,aAqBjByX,G,iLAEF,OACE,uBAAQ/d,KAAKiO,MACVjO,KAAKiO,MAAMwR,c,GAJD5Y,IAAMP,WASnBwhB,GAAeC,oBAAShK,IAExBiK,G,YACJ,WAAa/Z,GAAQ,IAAD,8BAClB,4CAAMA,KAeRga,YAAc,SAACC,GACb,EAAKviB,SAAS,CACZuiB,MAAOA,KAlBS,EAqBpBC,WAAa,kBAAM,EAAKxiB,SAAS,CAAEkR,SAAS,KArBxB,EAsBpBM,SAAW,WtC6IoB,IAAA9K,EsC5I7B,EAAK1G,SAAS,CAAE2R,gBAAgB,KtC4IHjL,EsC3IX,CAACkO,QAAS,EAAKtV,MAAMijB,OtC2IA5c,IAAMgB,KAAW,qBAAsBD,EAAQ,CAACE,QAASxB,OsC1I7FiC,MAAK,SAAAjG,GACJ,EAAKpB,SAAS,CAAEkR,SAAS,EAAOS,gBAAgB,IAChDrL,IAAQ+G,QAAQ,kCAChB,EAAK/E,MAAMkJ,cAEZrF,OAAM,SAAA/K,GAAG,OAAI,EAAKpB,SAAS,CAAE2R,gBAAgB,QA9B9B,EAgCpBsQ,aAAe,WACb,EAAKjiB,SAAS,CACZkR,SAAS,EACTS,gBAAgB,KAjClB,EAAKrS,MAAQ,CACX4R,SAAS,EACTS,gBAAgB,EAChB4Q,MAAOja,EAAM2S,MALG,E,sEAuCT,IAAD,SACmC5gB,KAAKiF,MAAxC4R,EADA,EACAA,QAASS,EADT,EACSA,eAAgB4Q,EADzB,EACyBA,MAEjC,OACE,kBAAC,WAAD,KACE,kBAAC,KAAD,CAAQ3U,QAASvT,KAAKmoB,YAAtB,gBACA,kBAAC,KAAD,CACEroB,MAAO,IACPuY,MAAM,eACNxB,QAASA,EACTyB,cAAc,EACdhB,eAAgBA,EAChBkB,SAAUxY,KAAK4nB,aACf9O,KAAM9Y,KAAKmX,SACXmK,OAAO,eACPC,WAAW,gBAEX,yBAAKtb,UAAU,iBACb,4BAEIiiB,EAAM7f,KAAI,SAAC2d,EAAM1kB,GAAP,OACR,kBAACwmB,GAAD,CACEzT,IAAK2R,EAAKzO,IACV0Q,YAAa,EAAKA,YAClBC,MAAOA,EACPE,OAAQ9mB,GAEP0kB,EAAKpd,gB,gDA1DSqF,EAAOhJ,GACtC,OAAIojB,KAAKC,UAAUra,EAAM2S,QAAUyH,KAAKC,UAAUrjB,EAAMijB,OAC/C,CACLA,MAAOja,EAAM2S,MAGV,S,GAfata,aA+ElBiiB,G,2MACJtjB,MAAQ,CACNujB,aAAa,EACbC,aAAa,EACbC,YAAa,GACbC,YAAY,EACZC,YAAY,G,EAEdC,eAAiB,SAACH,GAChB,EAAK/iB,SAAS,CACZ6iB,aAAa,EACbE,iB,EAGJI,iBAAmB,WACjB,EAAKnjB,SAAS,CACZ6iB,aAAa,EACbE,YAAa,M,EAGjBK,eAAiB,SAAA5e,GAAM,IACbue,EAAgB,EAAKzjB,MAArByjB,YACR,EAAK/iB,SAAS,CACZ+iB,YAAY,eACPA,EADM,CAET9f,KAAMuB,EAAEmI,OAAOyB,W,EAIrBiV,aAAe,WAEb,EAAKrjB,SAAS,CACZ8iB,aAAa,IAEfrc,GAAY,EAAKnH,MAAMyjB,aAAa1b,MAAK,SAAAjG,GACvC,EAAKpB,SAAS,CACZ6iB,aAAa,EACbE,YAAa,GACbD,aAAa,IAEf,EAAKxa,MAAMf,gBACX,EAAKe,MAAMb,sBACXnB,IAAQ+G,QAAQ,qCAKblB,OAAM,kBAAM,EAAKnM,SAAS,CAAE8iB,aAAa,Q,EAKhDQ,cAAgB,SAACP,GACf,EAAK/iB,SAAS,CACZgjB,YAAY,EACZD,iB,EAGJQ,gBAAkB,WAChB,EAAKvjB,SAAS,CACZgjB,YAAY,EACZD,YAAa,M,EAIjBS,YAAc,WAEZ,EAAKxjB,SAAS,CACZijB,YAAY,IAEdpc,GAAW,CAAC+K,IAAK,EAAKtS,MAAMyjB,YAAYnR,MACrCvK,MAAK,SAAAjG,GACJ,EAAKpB,SAAS,CACZgjB,YAAY,EACZD,YAAa,GACbE,YAAY,IAEd,EAAK3a,MAAMf,gBACX,EAAKe,MAAMb,sBACXnB,IAAQ+G,QAAQ,qCAOjBlB,OAAM,kBAAM,EAAKnM,SAAS,CAAEijB,YAAY,Q,wEAEpC,IAAD,SACoE5oB,KAAKiF,MAAvEujB,EADF,EACEA,YAAaC,EADf,EACeA,YAAaC,EAD5B,EAC4BA,YAAaC,EADzC,EACyCA,WAAYC,EADrD,EACqDA,WADrD,EAEsD5oB,KAAKiO,MAAzDsO,EAFF,EAEEA,YAAarP,EAFf,EAEeA,cAAeE,EAF9B,EAE8BA,oBACpC,OACE,yBAAKnH,UAAU,iCACb,kBAAC,GAAD,MACCsW,EAAYva,OAAS,GAAK,kBAAC,GAAD,CAAWmV,SAAU,WAAOjK,IAAgBE,KAAwBwT,KAAMrE,IACrG,kBAAC,KAAD,CACE6M,WAAW,WACXC,WAAY9M,EAEZ+M,WAAY,SAAAtD,GAAI,OACd,kBAAC,KAAKjI,KAAN,CACE1J,IAAK2R,EAAKzO,KAEV,0BAAMtR,UAAU,QAAS+f,EAAKpd,MAC9B,kBAAC2gB,GAAA,EAAD,CAActjB,UAAU,OAAOsN,QAAS,kBAAM,EAAKsV,eAAe7C,MAClE,kBAACxP,GAAA,EAAD,CAAevQ,UAAU,OAAOsN,QAAS,kBAAM,EAAK0V,cAAcjD,UAIxE,kBAAC,GAAD,CACEnP,QAAS2R,EACT5f,KAAM8f,EAAY9f,KAClBgJ,SAAU5R,KAAK+oB,eACfzR,eAAgBmR,EAChBtR,SAAUnX,KAAKgpB,aACfpB,aAAc5nB,KAAK8oB,mBAGrB,kBAAC,GAAD,CACEjS,QAAS8R,EACT/f,KAAM8f,EAAY9f,KAClBgJ,SAAU5R,KAAKwpB,cACflS,eAAgBsR,EAChBzR,SAAUnX,KAAKmpB,YACfvB,aAAc5nB,KAAKkpB,uB,GA5HJ5iB,aA2JVmS,gBAtBS,SAAAxT,GAEtB,MAAO,CACLsX,YAFsBtX,EAAMuZ,QAAtBjC,gBAMiB,SAAAxP,GACzB,MAAO,CAILG,cAJK,SAIUb,GACb,OAAOU,EAASG,GAAcb,KAEhCe,oBAPK,SAOgBf,GACnB,OAAOU,EAASK,GAAoBf,QAM3BoM,CAA6C8P,I,UCvP7C9G,G,2MArCdgI,SAAU,E,EACVC,YAAc,SAAAvf,GAAC,OAAI,EAAKsf,QAAUtf,EAAEmI,OAAOmX,S,EAC3C/H,UAAY,WACX,IAAMiI,EAAI,gBADO,EAEU,EAAK1b,MAAxBpD,EAFS,EAETA,KAAMsM,EAFG,EAEHA,SACNI,EAA4B1M,EAA5B0M,IAAKnE,EAAuBvI,EAAvBuI,QAASqS,EAAc5a,EAAd4a,UAEtBtE,GAAOhc,KAAK,CACXkT,MAAO,2BACPjF,QAAS,kBAAC,WAAD,KACR,+DAAW,0BAAMlN,MAAO,CAAC1D,MAAO,SAAU4Q,GAA1C,wCACA,kCACe7B,IAAdkU,GAA2B,kBAAC,KAAD,CAAUmE,eAAgBD,EAAKF,QAAS7X,SAAU,EAAK8X,aAAvD,kEAI7B5Q,KATW,WAUVqI,GAAOC,cACP3T,GAAU,CAAC8J,MAAKsS,WAAYF,EAAKF,QAAU,EAAI,IAAIzc,MAAK,SAAAjG,GACrDoQ,GAAYA,IACdlL,IAAQ+G,QAAQ,4BACbmO,GAAOtV,WACNiG,OAAM,SAAA/K,GACRoa,GAAOE,qB,wEAQZ,OACC,kBAAC7K,GAAA,EAAD,CAAe6B,MAAM,eAAKnS,MAAO,CAAC1D,MAAO,QAAS+Q,QAASvT,KAAK0hB,gB,GAlC3Cpb,aC+GTwjB,G,YA3Gd,WAAa7b,GAAQ,IAAD,8BACnB,4CAAMA,KAWPyZ,UAAY,WACX,EAAK/hB,SAAS,CACZkR,SAAS,KAdQ,EAmBpBM,SAAW,WAAM,IxCiKO9K,EwCjKP,EAEa,EAAKpH,MAA1BmO,EAFQ,EAERA,QAASqW,EAFD,EAECA,QACTtS,EAAa,EAAKlJ,MAAlBkJ,SACP,GAAI/D,EAAQwI,UACT,OAAO3P,IAAQC,MAAM,wCAEzB,EAAKvG,SAAS,CAAE2R,gBAAgB,KxC0JTjL,EwCzJb,CAAC+G,QAASA,EAAQwG,SAAUiQ,WAAYJ,GxCyJjBne,IAAMgB,KAAW,aAAcD,EAAQ,CAACE,QAASxB,OwCzJtBiC,MAAK,SAAAjG,GAChEkF,IAAQ+G,QAAQ,6BAChB,EAAKrN,SAAS,CACVyN,QAASyG,gBAAahL,MAAMuE,GAC5BqW,SAAS,EACT5S,SAAS,EACTS,gBAAgB,IAGpBH,GAAYA,OACVrF,OAAM,SAAA/K,GACR,EAAKpB,SAAS,CAAE2R,gBAAgB,QAtCd,EA2CpBG,aAAe,WACd,EAAK9R,SAAS,CACbkR,SAAS,KA7CS,EAkDpBkT,cAAgB,SAAA3W,GACf,EAAKzN,SAAS,CACbyN,aApDkB,EAwDpBsW,YAAc,SAAAvf,GAAC,OAAI,EAAKxE,SAAS,CAAE8jB,QAAStf,EAAEmI,OAAOmX,WAtDpD,EAAKxkB,MAAQ,CACZ4R,SAAS,EACTS,gBAAgB,EAChB1O,KAAM,GACN6gB,SAAS,EACTrW,QAASiJ,KAAYC,kBAAkB,KAPrB,E,sEA2DV,IAAD,SACgDtc,KAAKiF,MAAnD4R,EADF,EACEA,QAASS,EADX,EACWA,eAAgBlE,EAD3B,EAC2BA,QAASqW,EADpC,EACoCA,QAE1C,OACD,kBAAC,WAAD,KACG,kBAAC,KAAD,CAAQvf,KAAK,UAAUqJ,QAAS,WAAQ,EAAKmU,cAA7C,4BAEE,kBAAC,KAAD,CACC5nB,MAAO,IACXuY,MAAM,2BACNxB,QAASA,EACTyB,cAAc,EACdQ,KAAM9Y,KAAKmX,SACXG,eAAgBA,EAChBkB,SAAUxY,KAAKyX,aACf6J,OAAO,eACPC,WAAW,gBAEP,yBAAKtb,UAAU,gBAClB,yBAAKA,UAAU,kBACd,+CACA,kBAAC,GAAD,CACSyW,SAAU,CAAC,SACXzW,UAAU,cACV8N,MAAOX,EACPuG,O1CPc,I0CQd/H,SAAU5R,KAAK+pB,iBAGzB,6BACC,kBAAC,KAAD,CAAUN,QAASA,EAAS7X,SAAU5R,KAAK0pB,aAA3C,yE,GA3FiBpjB,aCoJT8gB,I,mBA5Ib,WAAanZ,GAAQ,IAAD,8BAClB,4CAAMA,KAgBRT,cAAgB,SAACnB,GAEfmB,GAAcnB,GAAQW,MAAK,SAAAjG,GAAQ,IAAD,EACRA,EAAIkG,OAApB2T,EADwB,EACxBA,KAAM3B,EADkB,EAClBA,MACd,EAAKtZ,SAAS,CACZib,SAEEvU,EAAOmR,SACT,EAAK7X,SAAS,CACZsZ,aAGHnN,OAAM,SAAA/K,GACP4D,EAASV,KAAK,gBAAiBlD,OA9Bf,EAiCpB6K,SAAW,SAAC0L,GACV,EAAK+J,eAAe,CAAC/J,cACrB,EAAK3X,SAAS,CAAC2X,eAnCG,EAsCpBoK,UAAY,SAACgB,GAAiB,IACpBtV,EAAY,EAAKnO,MAAjBmO,QACR,EAAKzN,SAAS,CACZkR,SAAS,EACT6R,cACAtV,QAASyG,gBAAaC,WAAWD,gBAAahL,MAAMuE,GAAUsV,EAAYtV,YA3C1D,EA8CpB4W,iBAAmB,WACjB,EAAKrkB,SAAS,CACZkR,SAAS,KAhDO,EAmDpBmS,aAAe,WAAO,IzC6CE3c,EyC7CH,EAC2C,EAAKpH,MADhD,IACXyjB,YAAcnR,EADH,EACGA,IAAKkO,EADR,EACQA,UAAYrS,EADpB,EACoBA,QAASkK,EAD7B,EAC6BA,UAChD,GAAIlK,EAAQwI,UACV,OAAO3P,IAAQC,MAAM,wCAEvB,EAAKvG,SAAS,CAAE2R,gBAAgB,KzCwCVjL,EyCvCX,CAAEkL,MAAKkO,YAAWrS,QAASA,EAAQwG,UzCuCdtO,IAAMgB,KAAW,cAAeD,EAAQ,CAACE,QAASxB,OyCvCxBiC,MAAK,SAAAjG,GAC7DkF,IAAQ+G,QAAQ,4BAChB,EAAKxF,cAAc,CAAC8P,cACpB,EAAK3X,SAAS,CAAEkR,SAAS,EAAOS,gBAAgB,OAC/CxF,MAAM,EAAKnM,SAAS,CAAE2R,gBAAgB,MA7DvB,EAgEpByS,cAAgB,SAAA3W,GACd,EAAKzN,SAAS,CACZyN,aAhEF,EAAKnO,MAAQ,CACX2b,KAAM,GACN3B,MAAO,EACP3B,UAAW,EAEXzG,SAAS,EACTS,gBAAgB,EAChBoR,YAAa,GACbtV,QAASiJ,KAAYC,kBAAkB,KAVvB,E,iFAelBtc,KAAKwN,cAAc,CAAC8P,UAAW,EAAGE,QAAS,M,+BAyDpC,IAAD,SAE+Dxd,KAAKiF,MAAlE2b,EAFF,EAEEA,KAAM3B,EAFR,EAEQA,MAAO3B,EAFf,EAEeA,UAAWzG,EAF1B,EAE0BA,QAASS,EAFnC,EAEmCA,eAAgBlE,EAFnD,EAEmDA,QAEzD,OACE,kBAAC,WAAD,KACE,yBAAKnN,UAAU,gCACb,yBAAKA,UAAU,oBACb,kBAAC,GAAD,CAAWkR,SAAU,kBAAM,EAAK3J,cAAc,CAAC8P,YAAWE,QAAS,OACnE,yBAAKvX,UAAU,eACb,4BAEI2a,EAAKvY,KAAI,SAAAC,GAAE,OACT,wBAAI+L,IAAK/L,EAAGiP,KACV,yBAAKtR,UAAU,QACZqC,EAAGuX,YACJ,yBAAK5Z,UAAU,SACb,kBAACyd,GAAA,EAAD,CAAczd,UAAU,OAAOsN,QAAS,kBAAM,EAAKmU,UAAUpf,MAC7D,kBAAC,GAAD,CAASuC,KAAMvC,EAAI6O,SAAU,kBAAM,EAAK3J,cAAc,CAAC8P,mBAG3D,6BAAMhV,EAAG8K,eAMnB,kBAAC,KAAD,CACE6L,MAAOA,EAAO5Z,QAASiY,EAAWC,SAAU,GAC5CiH,iBAAe,EACfvS,KAAK,QACLL,SAAU5R,KAAK4R,aAIrB,kBAAC,KAAD,CACE9R,MAAO,IACPuY,MAAM,eACNxB,QAASA,EACTyB,cAAc,EACdQ,KAAM9Y,KAAKgpB,aACX1R,eAAgBA,EAChBkB,SAAUxY,KAAKgqB,iBACf1I,OAAO,eACPC,WAAW,gBAEX,yBAAKtb,UAAU,gBACb,yBAAKA,UAAU,kBACb,+CACA,kBAAC,GAAD,CACEyW,SAAU,CAAC,SACXzW,UAAU,cACV8N,MAAOX,EACPuG,O3CtDc,I2CuDd/H,SAAU5R,KAAK+pB,wB,GA/HNzjB,cCCV2jB,I,wLAVX,OACE,yBAAKhkB,UAAU,iCACb,yBAAKA,UAAU,SAAf,oDACA,kBAAC,GAAD,CAAY2gB,O5CVW,S,G4CIRtgB,cCIjB4jB,G,2MAELjlB,MAAQ,CACPqY,UAAW,EACXsD,KAAM,GACN3B,MAAO,G,EAmBR4F,cAAgB,SAACxY,GAAY,IACTyY,EAAe,EAAK7f,MAA/BqY,UADmB,EAGejR,EAAlCiR,iBAHmB,MAGTwH,EAHS,EAGGtH,EAAYnR,EAAZmR,QACHjD,EAAgB,EAAKtM,MAAxC8Q,MAAS1S,OAAUkO,QAE3B,EAAK5U,SAAS,CACb2X,cAGD5P,GAAe,CACd6M,QAASM,SAASN,KAAa,EAE/B+C,YAEAE,YACExQ,MAAK,SAAAjG,GACP,EAAKpB,SAAL,eACIoB,EAAIkG,a,EAKV2E,SAAW,SAAA0L,GACV,EAAKuH,cAAc,CAACvH,e,EAErBuF,aAAe,SAAAtL,GAAQ,IACdqJ,EAAS,EAAK3b,MAAd2b,KACR,OAAOlU,GAAY,CAAC6K,QAAMvK,MAAK,SAAAjG,GAE3B,EAAKpB,SAAS,CACbib,KAAMA,EAAKvY,KAAI,SAAAC,GAAE,OAAIA,EAAGiP,MAAQA,EAAX,eAAqBjP,EAArB,CAAyB0a,aAAc1a,EAAG0a,cAAe1a,W,mFA9CjFtI,KAAK6kB,cAAc,CAACvH,UAAW,EAAGE,QAAS,M,yCAG1B0H,GAAW,IAEdC,EAAeD,EAAUnG,MAAjC1S,OACQ+Y,EAAcplB,KAAKiO,MAAM8Q,MAAjC1S,OAEJ8Y,EAAW5K,UAAY6K,EAAU7K,SAAW4K,EAAWH,UAAYI,EAAUJ,SAAWG,EAAW/F,SAAWgG,EAAUhG,QAExHpf,KAAK6kB,cAAc,CAACvH,UAAW,EAAGE,QAAS,M,+BAwCrC,IAAD,EAC0Bxd,KAAKiF,MAAhCqY,EADC,EACDA,UAAWsD,EADV,EACUA,KAAM3B,EADhB,EACgBA,MAExB,OACC,kBAAC,GAAD,CACC2B,KAAMA,EACN3B,MAAOA,EACP5Z,QAASiY,EACTuF,aAAc7iB,KAAK6iB,aACnBtF,SAAU,EACV3L,SAAU5R,KAAK4R,e,GArEQtL,aA2EbgY,gBAAW4L,ICpDXC,I,wLA7Bb,OACC,yBAAKlkB,UAAU,iCACd,yBAAKA,UAAU,oBACd,wBAAIA,UAAU,SAAd,4BACA,gEACA,4DACA,iFACA,2DACA,+DACA,4DACA,iFACA,2DACA,uBAAGA,UAAU,aAAb,gGAED,yBAAKA,UAAU,WACd,wBAAIA,UAAU,SAAd,oDACA,oFAAY,0BAAMA,UAAU,aAAhB,gEAAZ,yLAED,yBAAKA,UAAU,WACd,wBAAIA,UAAU,SAAd,oDACA,0CAAK,0BAAMA,UAAU,aAAhB,0DAAL,wIACA,mQ,GAvBkBK,cCmBjB2X,GAAkB,CACvB,CACC1I,KAAM,oBACN3M,KAAM,2BACNwhB,OAAO,EACPhX,QAAS,kBAAC,WAAD,KAAU,kBAAC,GAAD,MAAY,kBAAC,GAAD,CAAW2N,WAAW,OAiHxCsJ,G,iLA9FZ,OACC,kBAAC,KAAD,KACA,kBAAC,GAAD,MACA,yBAAKpkB,UAAU,kCACZ,kBAAC,KAAD,KACC,kBAAC,KAAD,CAAOmkB,OAAK,EAAC7U,KAAK,aACnB,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEC,kBAAC,KAAD,CAAO6U,OAAK,EAAC7U,KAAK,eACnB,kBAAC,GAAD,OAEC,kBAAC,KAAD,CAAO6U,OAAK,EAAC7U,KAAK,cACnB,kBAAC,GAAD,OAMC,kBAAC,KAAD,CAAO6U,OAAK,EAAC7U,KAAK,qBACjB,kBAAC,GAAD,MACF,kBAAC,GAAD,CAAWyL,WAAS,KAEnB,kBAAC,KAAD,CAAOoJ,OAAK,EAAC7U,KAAK,YACjB,kBAAC,GAAD,MACF,kBAAC,GAAD,CAAWyL,WAAS,KAEnB,kBAAC,KAAD,CAAOoJ,OAAK,EAAC7U,KAAK,aACnB,kBAAC,GAAD,MACA,kBAAC,GAAD,OASG,kBAAC,KAAD,CAAO6U,OAAK,EAAC7U,KAAK,qBACrB,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAWwL,WAAS,KAEjB,kBAAC,KAAD,CAAOqJ,OAAK,EAAC7U,KAAK,iBACrB,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEG,kBAAC,KAAD,CAAO6U,OAAK,EAAC7U,KAAK,uBACrB,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEC,kBAAC,KAAD,CAAO6U,OAAK,EAAC7U,KAAK,YACnB,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEG,kBAAC,KAAD,CAAO6U,OAAK,EAAC7U,KAAK,4BACrB,kBAAC,GAAD,CAAYmI,UAAQ,IACpB,kBAAC,GAAD,CAAWA,UAAQ,KAEhB,kBAAC,KAAD,CAAO0M,OAAK,EAAC7U,KAAK,oBACrB,kBAAC,GAAD,CAAYmI,UAAQ,IACpB,kBAAC,GAAD,CAAWA,UAAQ,KAEhB,kBAAC,KAAD,CAAO0M,OAAK,EAAC7U,KAAK,WACrB,kBAAC,GAAD,CAAYmI,UAAQ,IACpB,kBAAC,GAAD,CAAWA,UAAQ,KAEhB,kBAAC,KAAD,CAAO0M,OAAK,EAAC7U,KAAK,qBACrB,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEG,kBAAC,KAAD,CAAO6U,OAAK,EAAC7U,KAAK,aACrB,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEG,kBAAC,KAAD,CAAO6U,OAAK,EAAC7U,KAAK,KACrB,kBAAC,GAAD,MACA,kBAAC,GAAD,OAKG,kBAAC,KAAD,CAAOA,KAAK,KAAZ,SAKN,kBAAC,GAAD,W,GApGkBjP,aClBhBgkB,G,2MACLrlB,MAAQ,CACPslB,QAAQ,G,mFAGa,IAAD,O9CmHKjf,IAAMmB,IAAU,SAAU,CAACF,QAASxB,M8ClHrDiC,MAAK,YAAe,IAAbC,EAAY,EAAZA,OACNiI,EAA8BjI,EAA9BiI,SAAUkE,EAAoBnM,EAApBmM,gBAElB,EAAKnL,MAAMuc,cAAc,CAACtV,WAAYA,EAAUkE,oBAChD,EAAKzT,SAAS,CACb4kB,QAAQ,S,+BAOT,OADkBvqB,KAAKiF,MAAhBslB,QAEI,kBAAC,GAAD,U,GAnBIjkB,aAiCHmS,eAAQ,MARI,SAAA1L,GACzB,MAAO,CACNyd,cADM,SACS3f,GACZ,OAAOkC,EAASnC,EAAcC,QAKrB4N,CAAkC6R,ICnC7BG,QACW,cAA7B9oB,OAAOkc,SAAS6M,UAEe,UAA7B/oB,OAAOkc,SAAS6M,UAEhB/oB,OAAOkc,SAAS6M,SAAS3L,MACvB,2D,gCCjBA4L,GAAY,CAChBpL,UAAW,GACX2C,SAAU,GACVN,UAAW,EACXrF,YAAa,GACbuC,gBAAiB,GACjBxB,UAAW,EACXC,SAAU,GACV6B,OAAQ,GACR7E,SAAU,EACVH,QAAS,EACTsD,UAAU,GCVNiN,GAAY,CAEhBzV,UAAU,EACViE,UAAWlO,IAAOC,KAAK,aACvBkO,gBAAiB,G,oBCMbwR,GAAc,CAFGC,eAEcC,MAUtBC,GARDC,aACbC,aAAgB,CACfzM,QFDa,WAAsC,IAArCvZ,EAAoC,uDAA5B0lB,GAA4B,yCAAhBzgB,EAAgB,EAAhBA,KAAMW,EAAU,EAAVA,KACxC,OAAQX,GACN,IhDRuB,cgDSrB,OAAO,eACFjF,EADL,GAEK4F,GAEP,IhDXuB,cgDYrB,YAAmB0G,IAAf1G,EAAKoU,MACA,eACFha,EADL,CAEEid,SAAUrX,EAAK+V,MAAQ,GACvBgB,UAAW/W,EAAKoU,QAGZ,eACHha,EADJ,CAECid,SAAUrX,EAAK+V,MAAQ,KAG3B,IhDvB+B,sBgDwB7B,OAAO,eACF3b,EADL,CAEEsX,YAAa1R,EAAK+V,MAAQ,KAE9B,IhD3BoC,2BgD4BlC,OAAO,eACF3b,EADL,CAEE6Z,gBAAiBjU,EAAK+V,MAAQ,KAElC,IhD9B6B,oBgD+B3B,OAAO,eACF3b,EADL,CAEEsa,UAAW1U,EAAK+V,MAAQ,KAE5B,IhDjCuB,cgDkCrB,OAAO,eACF3b,EADL,CAEEsV,QAAS1P,IAEb,QACE,OAAO5F,IEvCXsZ,IDRa,WAAsC,IAArCtZ,EAAoC,uDAA5B0lB,GAA4B,yCAAhBzgB,EAAgB,EAAhBA,KAAMW,EAAU,EAAVA,KACxC,OAAQX,GACN,IjDD2B,kBiDEzB,OAAO,eACFjF,EADL,GAEK4F,GAEP,IjDFyB,gBiDGvB,OAAO,eACF5F,EADL,CAEEkU,UAAWtO,IAEf,IjDLyB,gBiDMvB,OAAO,eACF5F,EADL,CAEEmU,gBAAiBvO,IAErB,QACE,OAAO5F,MCRXimB,KAAe,WAAf,EAAmBN,KCTrBjkB,IAASC,OACR,kBAAC,KAAD,CAAgBukB,OAAQC,MACtB,kBAAC,IAAD,CAAUL,MAAOA,IACf,kBAAC,GAAD,QAGgBzlB,SAAS+lB,eAAe,SJmHvC,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBxe,MAAK,SAAAye,GACJA,EAAaC,gBAEd5Z,OAAM,SAAA5F,GACLsJ,QAAQtJ,MAAMA,EAAMD,c","file":"static/js/main.54087b1e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAAtCAYAAAAUX8MIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NjBEQkM5QUFBMjcxMUVBQjY2NUE3NDZDNEFERkRDMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NjBEQkM5QkFBMjcxMUVBQjY2NUE3NDZDNEFERkRDMyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk2MERCQzk4QUEyNzExRUFCNjY1QTc0NkM0QURGREMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk2MERCQzk5QUEyNzExRUFCNjY1QTc0NkM0QURGREMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+z3n3tQAAAddJREFUeNrsWUtOAkEQ7en0hkT8sHK8wrg10WO48hheRY7BipVnwAt4A0BXKgFxQ2irzVt0RmaYMunpGuxKXiDTleG96aKq4WXnD1Z5kQEuLPArXu5VtMiHP/zKvGp5G7xqQo8wIJzg2oLwTlgTtkpO+AIa8TbABeGacIP3LmaEJ8LEbR5ho2RFY94uMSfcEu4Il4QjJC9xA7c+JkwF7ajm8DZ4Ci7xyitfF8e45uKV8EhYCRHZ4/DWSC5KiX5JFHgyZ4JKdcDhrVHL/Zob9pFz6nWwmJGhyTTmrf/wAZ0LjW60rMlxa3PCR9XcjDBCFhzeGu32uWJEbLDm2vGbEJEKc7Axb4PkEUqx8FrxCokjJH8JqsA1h7fBlo4xOP2hOi8NVUmnni2Ht8HWTjEHJ+iiCt9Bicc6vyQb8Tbek/nEwmzfAV3Yju7lbXZ0LunCqjqurRshBx+ZtfbgRf6LnUwik8gkMolMIpPIJDKJTCKTyCRSUJhQN86Hu3/aqQjWoGmxYqJZg6alaolqDZoWdjC6NRhaJMtiU4GswdDdlWWxdXGEsC02Fcg1kzYnOyeSbbGpQH9sh95JlsUWSmTo7sqy2Lo6J1kWW5dPPNGtwbbOrlGtwW8BBgDBpseMpLE2WAAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/black-hole.f198a369.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAAAtCAYAAADSmlexAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRDhGRThBMkFBMjYxMUVBQUFCREJEMThBMzEyREMwMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRDhGRThBM0FBMjYxMUVBQUFCREJEMThBMzEyREMwMyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZEOEZFOEEwQUEyNjExRUFBQUJEQkQxOEEzMTJEQzAzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkZEOEZFOEExQUEyNjExRUFBQUJEQkQxOEEzMTJEQzAzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+PywuTgAAAgtJREFUeNrsm09OwkAUxttmNiQiykq8Am5N9BiuPIZXkWOwYuUZ8ALegKIr0Yi4IYxvyNekqS2mA8y8l7wv+SK2JP745t+reaQXjzapUQo7WfiPXh+SaBqMtnyWE7ep/J6RO+Q+uYdrn+QFeUXeJHxkuXGbyutL8g35Fq+dcvIzeeoGlbxOeIkNtymN7IB8R74nX5FPcO8LoO7+hDxjNENZcRdhdjCqDui6MmNPcc3pjfxEXjIJkxV3hp99QA1r9tEi9CFG+pzREmfFneH062Gv6e54bxfvOSudmDHFjjvb44NI1NHDtCgjcmzaTXL35uSPpvotQmnEiruYmQuUES8NJcQa91yZ8c4kTHbcxaa9AtQYS2FYKjGWABoD6ofRsmXFXYS5wVKYoMAtF7/zSvHL6SmIFbepLIkZ6rEpTr8Eew3Hx0l23KZmpL8BkP/3DwNmMzQ6t9lxUnIPkB13lqgOV8RaazUFnZkapoap0jA1TA1TpWFqmBqmhqnSMDVMDVOlYR5N5th/YDCqvcyyZXFfVhNhJUhpWWzNagKvAikti61Z3aw2AUdZSsuiN2uoMCW1LHqzhjrNJbUs+rCmocKU1LLoy5q605xrnSmpZXEbpvv2R4gwJbUs+rJuaGbaUDNTUsuiD6sNeZpLaln0Zg0VpqSWRW/WkE9AkloWvVhNhFGX0rLYmvVXgAEAxbIbWX/ssgoAAAAASUVORK5CYII=\"","\r\nvar RENDERER = {\r\n    PARTICLE_COUNT: 1000,\r\n    PARTICLE_RADIUS: 1,\r\n    MAX_ROTATION_ANGLE: Math.PI / 100,\r\n    TRANSLATION_COUNT: 500,\r\n\r\n    init: function (canvas, width, height) {\r\n        this.setParameters(STRATEGY, canvas, width, height);\r\n        this.createParticles();\r\n        this.setupFigure();\r\n        this.reconstructMethod();\r\n        this.bindEvent();\r\n        this.drawFigure();\r\n    },\r\n    setParameters: function (strategy, canvas, width, height) {\r\n\r\n        this.width = width\r\n        this.height = height\r\n        \r\n        canvas.width = this.width \r\n        canvas.height = this.height\r\n        this.context = canvas.getContext('2d');\r\n\r\n        this.center = { x: this.width / 2, y: this.height / 2 };\r\n\r\n        this.rotationX = this.MAX_ROTATION_ANGLE;\r\n        this.rotationY = this.MAX_ROTATION_ANGLE;\r\n        this.strategyIndex = 0;\r\n        this.translationCount = 0;\r\n        this.theta = 0;\r\n\r\n        this.strategies = strategy.getStrategies();\r\n        this.particles = [];\r\n    },\r\n    createParticles: function () {\r\n        for (var i = 0; i < this.PARTICLE_COUNT; i++) {\r\n            this.particles.push(new PARTICLE(this.center));\r\n        }\r\n    },\r\n    reconstructMethod: function () {\r\n        this.setupFigure = this.setupFigure.bind(this);\r\n        this.drawFigure = this.drawFigure.bind(this);\r\n        this.changeAngle = this.changeAngle.bind(this);\r\n    },\r\n    bindEvent: function () {\r\n        window.addEventListener('click', this.setupFigure)\r\n        window.addEventListener('mousemove', this.changeAngle)\r\n        // this.$container.on('click', this.setupFigure);\r\n        // this.$container.on('mousemove', this.changeAngle);\r\n    },\r\n    changeAngle: function (event) {\r\n        var x = event.clientX,\r\n            y = event.clientY;\r\n\r\n        this.rotationX = (this.center.y - y) / this.center.y * this.MAX_ROTATION_ANGLE;\r\n        this.rotationY = (this.center.x - x) / this.center.x * this.MAX_ROTATION_ANGLE;\r\n    },\r\n    setupFigure: function () {\r\n        for (var i = 0, length = this.particles.length; i < length; i++) {\r\n            this.particles[i].setAxis(this.strategies[this.strategyIndex]());\r\n        }\r\n        if (++this.strategyIndex === this.strategies.length) {\r\n            this.strategyIndex = 0;\r\n        }\r\n        this.translationCount = 0;\r\n    },\r\n    drawFigure: function () {\r\n        // console.log('s')\r\n        requestAnimationFrame(this.drawFigure);\r\n\r\n        this.context.fillStyle = 'rgba(0, 0, 0, 0.2)';\r\n        this.context.fillRect(0, 0, this.width, this.height);\r\n\r\n        for (let i = 0, length = this.particles.length; i < length; i++) {\r\n            let axis = this.particles[i].getAxis2D(this.theta);\r\n\r\n            this.context.beginPath();\r\n            this.context.fillStyle = axis.color;\r\n            this.context.arc(axis.x, axis.y, this.PARTICLE_RADIUS, 0, Math.PI * 2, false);\r\n            this.context.fill();\r\n        }\r\n        this.theta++;\r\n        this.theta %= 360;\r\n\r\n        for (let i = 0, length = this.particles.length; i < length; i++) {\r\n            this.particles[i].rotateX(this.rotationX);\r\n            this.particles[i].rotateY(this.rotationY);\r\n        }\r\n        this.translationCount++;\r\n        this.translationCount %= this.TRANSLATION_COUNT;\r\n\r\n        if (this.translationCount === 0) {\r\n            this.setupFigure();\r\n        }\r\n    }\r\n};\r\nvar STRATEGY = {\r\n    SCATTER_RADIUS: 150,\r\n    CONE_ASPECT_RATIO: 1.5,\r\n    RING_COUNT: 5,\r\n\r\n    getStrategies: function () {\r\n        return [this.createTorus.bind(this), this.createSphere.bind(this), this.createVase.bind(this)]\r\n        /*var strategies = [];\r\n\r\n        for (var i in this) {\r\n            if (this[i] == arguments.callee || typeof this[i] != 'function') {\r\n                continue;\r\n            }\r\n            strategies.push(this[i].bind(this));\r\n        }\r\n        return strategies;*/\r\n    },\r\n    createTorus: function () {\r\n        var theta = Math.random() * Math.PI * 2,\r\n            x = this.SCATTER_RADIUS + this.SCATTER_RADIUS / 6 * Math.cos(theta),\r\n            y = this.SCATTER_RADIUS / 6 * Math.sin(theta),\r\n            phi = Math.random() * Math.PI * 2;\r\n\r\n        return {\r\n            x: x * Math.cos(phi),\r\n            y: y,\r\n            z: x * Math.sin(phi),\r\n            hue: Math.round(phi / Math.PI * 30)\r\n        };\r\n    },\r\n    createSphere: function () {\r\n        var cosTheta = Math.random() * 2 - 1,\r\n            sinTheta = Math.sqrt(1 - cosTheta * cosTheta),\r\n            phi = Math.random() * 2 * Math.PI;\r\n\r\n        return {\r\n            x: this.SCATTER_RADIUS * sinTheta * Math.cos(phi),\r\n            y: this.SCATTER_RADIUS * sinTheta * Math.sin(phi),\r\n            z: this.SCATTER_RADIUS * cosTheta,\r\n            hue: Math.round(phi / Math.PI * 30)\r\n        };\r\n    },\r\n    \r\n    /*createCone: function () {\r\n        var status = Math.random() > 1 / 3,\r\n            x,\r\n            y,\r\n            phi = Math.random() * Math.PI * 2,\r\n            rate = Math.tan(30 / 180 * Math.PI) / this.CONE_ASPECT_RATIO;\r\n\r\n        if (status) {\r\n            y = this.SCATTER_RADIUS * (1 - Math.random() * 2);\r\n            x = (this.SCATTER_RADIUS - y) * rate;\r\n        } else {\r\n            y = -this.SCATTER_RADIUS;\r\n            x = this.SCATTER_RADIUS * 2 * rate * Math.random();\r\n        }\r\n        return {\r\n            x: x * Math.cos(phi),\r\n            y: y,\r\n            z: x * Math.sin(phi),\r\n            hue: Math.round(phi / Math.PI * 30)\r\n        };\r\n    },*/\r\n    createVase: function () {\r\n        var theta = Math.random() * Math.PI,\r\n            x = Math.abs(this.SCATTER_RADIUS * Math.cos(theta) / 2) + this.SCATTER_RADIUS / 8,\r\n            y = this.SCATTER_RADIUS * Math.cos(theta) * 1.2,\r\n            phi = Math.random() * Math.PI * 2;\r\n\r\n        return {\r\n            x: x * Math.cos(phi),\r\n            y: y,\r\n            z: x * Math.sin(phi),\r\n            hue: Math.round(phi / Math.PI * 30)\r\n        };\r\n    }\r\n};\r\nvar PARTICLE = function (center) {\r\n    this.center = center;\r\n    this.init();\r\n};\r\nPARTICLE.prototype = {\r\n    SPRING: 0.01,\r\n    FRICTION: 0.9,\r\n    FOCUS_POSITION: 300,\r\n    COLOR: 'hsl(%hue, 100%, 70%)',\r\n\r\n    init: function () {\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.z = 0;\r\n        this.vx = 0;\r\n        this.vy = 0;\r\n        this.vz = 0;\r\n        this.color = '';\r\n    },\r\n    setAxis: function (axis) {\r\n        this.translating = true;\r\n        this.nextX = axis.x;\r\n        this.nextY = axis.y;\r\n        this.nextZ = axis.z;\r\n        this.hue = axis.hue;\r\n    },\r\n    rotateX: function (angle) {\r\n        var sin = Math.sin(angle),\r\n            cos = Math.cos(angle),\r\n            nextY = this.nextY * cos - this.nextZ * sin,\r\n            nextZ = this.nextZ * cos + this.nextY * sin,\r\n            y = this.y * cos - this.z * sin,\r\n            z = this.z * cos + this.y * sin;\r\n\r\n        this.nextY = nextY;\r\n        this.nextZ = nextZ;\r\n        this.y = y;\r\n        this.z = z;\r\n    },\r\n    rotateY: function (angle) {\r\n        var sin = Math.sin(angle),\r\n            cos = Math.cos(angle),\r\n            nextX = this.nextX * cos - this.nextZ * sin,\r\n            nextZ = this.nextZ * cos + this.nextX * sin,\r\n            x = this.x * cos - this.z * sin,\r\n            z = this.z * cos + this.x * sin;\r\n\r\n        this.nextX = nextX;\r\n        this.nextZ = nextZ;\r\n        this.x = x;\r\n        this.z = z;\r\n    },\r\n    rotateZ: function (angle) {\r\n        var sin = Math.sin(angle),\r\n            cos = Math.cos(angle),\r\n            nextX = this.nextX * cos - this.nextY * sin,\r\n            nextY = this.nextY * cos + this.nextX * sin,\r\n            x = this.x * cos - this.y * sin,\r\n            y = this.y * cos + this.x * sin;\r\n\r\n        this.nextX = nextX;\r\n        this.nextY = nextY;\r\n        this.x = x;\r\n        this.y = y;\r\n    },\r\n    getAxis3D: function () {\r\n        this.vx += (this.nextX - this.x) * this.SPRING;\r\n        this.vy += (this.nextY - this.y) * this.SPRING;\r\n        this.vz += (this.nextZ - this.z) * this.SPRING;\r\n\r\n        this.vx *= this.FRICTION;\r\n        this.vy *= this.FRICTION;\r\n        this.vz *= this.FRICTION;\r\n\r\n        this.x += this.vx;\r\n        this.y += this.vy;\r\n        this.z += this.vz;\r\n\r\n        return { x: this.x, y: this.y, z: this.z };\r\n    },\r\n    getAxis2D: function (theta) {\r\n        var axis = this.getAxis3D(),\r\n            scale = this.FOCUS_POSITION / (this.FOCUS_POSITION + axis.z);\r\n\r\n        return { x: this.center.x + axis.x * scale, y: this.center.y - axis.y * scale, color: this.COLOR.replace('%hue', this.hue + theta) };\r\n    }\r\n};\r\n\r\n\r\nexport default RENDERER;","import React, { Component, createRef } from 'react';\r\nimport './Loading.css'\r\nimport RENDERER from './move'\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Loading extends Component {\r\n\tcanvas = createRef();\r\n\tstate = {\r\n\t\tshow: false,\r\n\t\topen: false,\r\n\t}\r\n\ttimer = null;\r\n\tcomponentDidMount () {\r\n\t\tRENDERER.init(this.canvas.current, document.body.clientWidth, document.body.clientHeight);\r\n\t}\r\n\ttransShow () {\r\n\t\tclearTimeout(this.timer)\r\n\t\tthis.setState({\r\n\t\t\tshow: true,\r\n\t\t})\r\n\t\tthis.timeClose()\r\n\t}\r\n\topen () {\r\n\t\tclearTimeout(this.timer)\r\n\t\tthis.setState({\r\n\t\t\topen: true,\r\n\t\t\tshow: true,\r\n\t\t})\r\n\t}\r\n\tclose () {\r\n\t\tthis.setState({\r\n\t\t\topen: false,\r\n\t\t})\r\n\t\tthis.timeClose()\r\n\t}\r\n\ttimeClose () {\r\n\t\tthis.timer = setTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tshow: false,\r\n\t\t\t})\r\n\t\t}, getRandSeconds(2, 3))\r\n\t}\r\n\r\n\tshow () {\r\n\t\tthis.setState({\r\n\t\t\tshow: true,\r\n\t\t})\r\n\t}\r\n\r\n\thide () {\r\n\t\tthis.setState({\r\n\t\t\tshow: false,\r\n\t\t})\r\n\t}\r\n\r\n\trender () {\r\n\r\n\t\tconst { open, show } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={\"canvas-back \" + (show ? 'op1' : 'op0')} style={{\r\n\t\t\t\topacity: (open || show) ? 1 : 0,\r\n\t\t\t\tzIndex: open ? 998 : 1,\r\n\t\t\t}} >\r\n    \t\t<canvas ref={this.canvas} ></canvas>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet div = document.createElement('div');\r\ndocument.body.appendChild(div);\r\n \r\nlet loading = ReactDOM.render(React.createElement(\r\n  Loading,\r\n), div);\r\n\r\n/*function showOne () {\r\n\tloading.show()\r\n\tsetTimeout(() => {\r\n\t\tloading.hide()\r\n\t\tstart()\r\n\t}, getRandSeconds(10, 20))\r\n}\r\n\r\n// setInterval()\r\nfunction start () {\r\n\tsetTimeout(function () {\r\n\t\tshowOne();\r\n\t}, getRandSeconds(30, 50))\r\n}\r\nshowOne();*/\r\n\r\nfunction getRandSeconds (a, b) {\r\n\treturn Math.floor(Math.random() * 1000 * (b - a)) + a * 1000\r\n}\r\n\r\nexport default loading","import React from 'react';\r\nimport { statusMap, pswTipText, LOG_OVERDUE_CODE } from './constant';\r\n\r\n/*export const replaceStrTob = (str='', key='') => {\r\n\tif (!str || !key) {\r\n\t\treturn str;\r\n\t}\r\n\treturn str.replace(new RegExp(key, 'igm'), `<b>${key}</b>`)\r\n}*/\r\n\r\nexport const isLogOverdue = res => res.resultCode === LOG_OVERDUE_CODE;\r\n\r\nexport const getStatus = statusCode => {\r\n\treturn statusCode !== 1 && <b style={{color: statusCode === 0 ? 'red' : 'orange'}}>({statusMap[statusCode]})</b>\r\n}\r\n\r\n// export const getRound5 = (num=0) => Math.round(num * 2) / 2\r\nexport const getCeil5 = (num=0) => Math.ceil(num * 2) / 2\r\n\r\n\r\nexport const isLegal = (str='') => {\r\n\tif (typeof str === 'number') {\r\n\t\treturn !isNaN(str);\r\n\t}\r\n\t/*if (str === '' || str === null) {\r\n\t\treturn false;\r\n\t}*/\r\n\tconst reg = /[\\s\\@\\#\\$\\%\\^\\&\\*\\{\\}\\:\\.\\\"\\'\\<\\>\\?\\|]/ig\r\n\treturn !reg.test(str)\r\n}\r\n\r\nexport const checkMail = (mail='') => {\r\n\tif (mail === '' || mail === null) {\r\n\t\treturn false;\r\n\t}\r\n\tconst reg = /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/;\r\n\treturn reg.test(mail)\r\n}\r\nexport const checkUrl = (url='') => {\r\n\tif (url === '' || url === null) {\r\n\t\treturn false;\r\n\t}\r\n\tconst reg = /(https?|ftp|file):\\/\\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/\r\n\treturn reg.test(url)\r\n}\r\nexport const trim = (str='') => str.replace(/^\\s+|\\s+$/gm,'')\r\nexport const getBase64 = (file) => {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    if (!file) {\r\n\t\treturn resolve(null)\r\n    }\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n}\r\n\r\nexport const pathType = (path='') => {\r\n\tif (path.slice(0, 7) === '/system') {\r\n\t\treturn 'system'\r\n\t} else if (path.slice(0, 11) === '/sitedetail') {\r\n\t\treturn 'sitedetail'\r\n\t} else if (path == '/') {\r\n\t\treturn 'home'\r\n\t}\r\n}\r\n// params: match\r\nexport const isSystemPage = ({path=''}) => path.slice(0, 7) === '/system'\r\n\r\nexport const getStrChartLen = (str='') => {  \r\n  let len = 0;  \r\n  for (var i=0; i<str.length; i++) {  \r\n    if (str.charCodeAt(i)>127 || str.charCodeAt(i)===94) {  \r\n       len += 2;  \r\n     } else {  \r\n       len ++;  \r\n     }  \r\n   }  \r\n  return len;  \r\n}\r\n\r\nexport const checkPassword = (psw='') => {\r\n\treturn pswTipText.map(it => it.isok(psw)).reduce((a, pr) => a && pr, true)\r\n}\r\n\r\n// 距离现在多长时间\r\nexport const dateForNow = date => {\r\n\tdate = new Date(date);\r\n\t// 相差的秒数\r\n\tconst xs = (new Date().getTime() - date.getTime()) / 1000\r\n\tconst xm = xs / 60 \r\n\tconst xh = xm / 60\r\n\tconst xd = xh / 24;\r\n\tif (xd >= 1) {\r\n\t\treturn Math.floor(xd) + '天前'\r\n\t} else if (xh >= 1) {\r\n\t\treturn Math.floor(xh) + '小时前'\r\n\t} else if (xm >= 1) {\r\n\t\treturn Math.floor(xm) + '分钟前'\r\n\t} else if (xs >= 10) {\r\n\t\treturn Math.ceil(xs) + '秒前'\r\n\t} else {\r\n\t\treturn '刚刚';\r\n\t}\r\n}\r\n\r\n\r\n/*export const callback = () => {\r\n\tconst loginCallback = () => {};\r\n\tconst regCallback = () => {}\r\n\treturn {\r\n\t\tsetLoginCallback (cb) {\r\n\t\t\tloginCallback = cb;\r\n\t\t},\r\n\t\tgetLoginCallback () {\r\n\t\t\treturn loginCallback;\r\n\t\t},\r\n\t\tsetRegCallback (cb) {\r\n\t\t\tregCallback = cb;\r\n\t\t},\r\n\t\tgetRegCallback () {\r\n\t\t\treturn regCallback;\r\n\t\t},\r\n\r\n\t}\r\n}*/","import { getStrChartLen } from './common'\r\n\r\n// 反馈评论-相对于网站的id\r\nexport const FEEDBACK_SITEID = 0;\r\nexport const LOG_OVERDUE_CODE = 233;\r\n// 发送邮件倒计时\r\nexport const COUNT_DOWN = 60;\r\n// 状态码\r\nexport const DELETE_CODE = 0;\r\nexport const NORMAL_CODE = 1;\r\nexport const DRAFT_CODE = 2;\r\nexport const REVIEW_CODE = 3;\t// 待审核\r\nconst statusMap = []\r\nstatusMap[DELETE_CODE] = '下架'\r\nstatusMap[NORMAL_CODE] = '正常'\r\nstatusMap[DRAFT_CODE] = '草稿'\r\nstatusMap[REVIEW_CODE] = '待审核'\r\n\r\nexport const statusArr = statusMap.map((name, idx) => ({id: idx, name}))\r\n\r\nexport {statusMap};\r\nexport const EXPIRES_TIME = 120 * 60 * 1000\r\n\r\nexport const MAX_NAME_CHART = 14;\t// 用户名最大字符数\r\n// export const MIN_NAME_CHART = 4;\t// 用户名最大字符数\r\n\r\nexport const nameTipText = '设置后不可更改，中英文均可，最长14个英文或7个汉字，不包含特殊字符'\r\nexport const nameErrorText = {\r\n\t0: '用户名最长14个英文或7个汉字',\r\n\t1: '用户名不可包含特殊字符',\r\n\t2: '用户名不能为空',\r\n\t3: '该用户名已被注册',\r\n}\r\nexport const pswTipText = [\r\n\t{\r\n\t\ttip: '长度为8~14个字符',\r\n\t\tisok: (psw='') => {\r\n\t\t\tconst pswChartLen = getStrChartLen(psw);\r\n\t\t\treturn pswChartLen <= 14 && pswChartLen >= 8\r\n\t\t},\r\n\t},\r\n\t{\r\n\t\ttip: '字母/数字以及标点符号至少包含2种',\r\n\t\tisok: (psw='') => /(?=.*[a-zA-Z0-9])(?=.*[^a-zA-Z0-9]).{2,14}/.test(psw),\r\n\t},\r\n\t{\r\n\t\ttip: '不允许有空格、中文',\r\n\t\tisok: (psw='') => psw.length > 0 && !(/[\\s\\u4e00-\\u9fa5]/.test(psw)),\r\n\t}\r\n]\r\n\r\n// 网站\r\nexport const MAX_SIT_NAME = 40;\r\nexport const siteNameTip = `最长${MAX_SIT_NAME}个英文或${MAX_SIT_NAME/2}个汉字，不包含特殊字符`\r\nexport const siteNameErrorText = {\r\n\t0: `名称最长${MAX_SIT_NAME}个英文或${MAX_SIT_NAME/2}个汉字`,\r\n\t1: '名称不可包含特殊字符',\r\n\t2: '名称不能为空',\r\n}\r\n\r\nexport const MAX_SIT_DESC = 400;\r\nexport const siteDescTip = `最多${MAX_SIT_DESC}个文字`\r\nexport const siteErrorText = {\r\n\t0: `不可超过${MAX_SIT_DESC}个文字`,\r\n\t1: '描述不能为空'\r\n}\r\n\r\n// 尺寸不小于200 x 200，\r\nconst MAX_IMG_M = 2;\r\nconst M = 1024 * 1024\r\nexport const siteImgTip = `点击图片进行添加，大小不超过${MAX_IMG_M}M`\r\nexport const MAX_IMG_SIZE = M * MAX_IMG_M;\r\nexport const siteImgErrorText = {\r\n\t0: `图片格式不对`,\r\n\t1: `图片大小不符合要求`,\r\n\t// 2: `图片尺寸不符合要求`,\r\n\t3: '请选择图片',\r\n}\r\n/*const controls = [\r\n  'undo', 'redo', 'separator',\r\n  'font-size', 'line-height', 'letter-spacing', 'separator',\r\n  // 'text-color', 'bold', 'italic', 'underline', 'strike-through', 'separator',\r\n  // 'superscript', 'subscript', 'remove-styles', 'emoji', 'separator', 'text-indent', 'text-align', 'separator',\r\n  // 'headings', 'list-ul', 'list-ol', 'blockquote', 'code', 'separator',\r\n  // 'link', 'separator', 'hr', 'separator',\r\n  // 'media', 'separator',\r\n  // 'clear'\r\n]*/\r\n\r\nexport const descControls = ['text-color', 'bold', 'italic', 'underline', 'emoji']\r\n\r\nexport const MAX_COMMIT_LEN = 400;\r\nexport const faceImgTip = `大小不超过${MAX_IMG_M}M`\r\n","class EventBus {\r\n  constructor() {\r\n    this.events = this.events || new Object(); \r\n  }\r\n}\r\nEventBus.prototype.emit = function(type, ...args) { \r\n  let e = this.events[type] || []\r\n  for (let i = 0; i < e.length; i++) {   \r\n    e[i].apply(this, args);    \r\n  }  \r\n};\r\n\r\nEventBus.prototype.addListener = function(eventType, fun) { \r\n  const [type, id] = eventType.split('#')\r\n  \r\n  if (id) {\r\n    this.events[eventType] = [fun];\r\n  } else {\r\n    this.events[type] = this.events[type] || []; \r\n    this.events[type].push(fun);\r\n  }\r\n};\r\nEventBus.prototype.on = EventBus.prototype.addListener;\r\nconst eventBus = new EventBus();\r\n\r\nexport default eventBus;\r\n","import axios from 'axios';\r\nimport url from '@/common/api'\r\nimport cookie from 'react-cookies';\r\nimport { message } from 'antd';\r\nimport loading from '@/commonComp/Loading'\r\nimport { LOG_OVERDUE_CODE } from '@/common/constant'\r\n// import { removeLoginCookie } from '@/commonComp/logReg/loginCookie'\r\nimport eventBus from '@/common/eventBus'\r\n\r\nexport const UPDATE_DATA = 'UPDATE_DATA';    // 这个只是修改siteMng里的数据 ，别他妈搞忘了\r\nexport const UPDATE_COM_DATA = 'UPDATE_COM_DATA';    // 这个修改公共的数据\r\nexport const UPDATE_LIST = 'UPDATE_LIST';\r\nexport const UPDATE_CATALOG_LIST = 'UPDATE_CATALOG_LIST';\r\nexport const UPDATE_CATALOG_LIST_SITE = 'UPDATE_CATALOG_LIST_SITE';\r\nexport const SET_USER_NAME = 'SET_USER_NAME';\r\nexport const UPDATE_TOP10_LIST = 'UPDATE_TOP10_LIST';\r\nexport const SET_REPLY_NUM = 'SET_REPLY_NUM';\r\nexport const SET_CATALOG = 'SET_CATALOG';\r\n\r\naxios.interceptors.request.use(\r\n  config => {\r\n    loading.transShow();\r\n    return config\r\n  },\r\n  err => {\r\n    loading.close();\r\n    return Promise.reject(err)\r\n  }\r\n)\r\n\r\n// 添加响应拦截器\r\naxios.interceptors.response.use(function (response) {\r\n  // 对响应数据做点什么\r\n  // console.log(response)\r\n  const { data } = response\r\n  const { resultCode } = data\r\n  if (resultCode && (resultCode !== 200)) {\r\n    message.error(data.resultMessage)\r\n    if (resultCode === LOG_OVERDUE_CODE) {\r\n      // removeLoginCookie()\r\n      eventBus.emit('logout#clear', data)\r\n    }\r\n    loading.close()\r\n    return Promise.reject(data);\r\n  }\r\n  return data;\r\n}, function (err) {\r\n  // 对响应错误做点什么\r\n  loading.close()\r\n  message.error('系统错误！')\r\n  return Promise.reject(err);\r\n});\r\n\r\nexport function updateComData (data) {\r\n  return {\r\n    type: UPDATE_COM_DATA, \r\n    data\r\n  }\r\n}\r\nexport function updateSiteMngData (data) {\r\n  return {\r\n    type: UPDATE_DATA, \r\n    data\r\n  }\r\n}\r\nexport function setCatalog (data) {\r\n  return {\r\n    type: SET_CATALOG, \r\n    data\r\n  }\r\n}\r\n\r\nfunction getAuthorization () {\r\n  return {\r\n    Authorization: cookie.load('user_token') || ''\r\n  }\r\n}\r\n\r\nfunction updateSiteList (data) {\r\n  return {\r\n    type: UPDATE_LIST, \r\n    data\r\n  }\r\n}\r\nfunction updateCatalogList (data) {\r\n  return {\r\n    type: UPDATE_CATALOG_LIST, \r\n    data\r\n  }\r\n}\r\nfunction updateCatalogListSite (data) {\r\n  return {\r\n    type: UPDATE_CATALOG_LIST_SITE, \r\n    data\r\n  }\r\n}\r\nfunction updateTop10SiteList (data) {\r\n  return {\r\n    type: UPDATE_TOP10_LIST, \r\n    data\r\n  }\r\n}\r\nexport function setUsername (data) {\r\n  return {\r\n    type: SET_USER_NAME, \r\n    data\r\n  }\r\n}\r\nexport function setReplyNum (data=0) {\r\n  return {\r\n    type: SET_REPLY_NUM, \r\n    data\r\n  }\r\n}\r\n// 修改分类名\r\nexport const editCatalog = params => axios.post(url + '/editCatalog', params, {headers: getAuthorization()})\r\nexport const editNotice = params => axios.post(url + '/editNotice', params, {headers: getAuthorization()})\r\nexport const delCatalog = params => axios.get(url + '/delCatalog', {params, headers: getAuthorization()})\r\n// 收藏网址\r\nexport const collectSite = params => axios.get(url + '/collectSite', {params, headers: getAuthorization()})\r\n// 获取相关推荐\r\nexport const getRecomdList = params => axios.get(url + '/getRecomdList', {params})\r\n\r\n// 获取注册用的验证码\r\nexport const getRegCode = params => axios.post(url + '/sendRegMailCode', params)\r\n// 获取重置密码用的验证码\r\nexport const getRestCode = params => axios.post(url + '/sendRestPswCode', params)\r\nexport const resetPassword = params => axios.post(url + '/resetPassword', params)\r\n\r\n// 注册，成功后，自动登录\r\nexport const register = params => axios.post(url + '/register', params)\r\nexport const login = params => axios.post(url + '/login', params)\r\n\r\n// 这接口貌似没卵用啊-放屁-检测该用户有没有点击的时候是有用的\r\nexport const getIP = () => axios.get(url + '/getIP', {headers: getAuthorization()})  // 这个不需要写错误处理\r\nexport const setRate = params => axios.post(url + '/setRate', params)\r\nexport const addView = params => axios.post(url + '/addView', params)\r\nexport const reportCommit = params => axios.post(url + '/reportCommit', params, {headers: getAuthorization()})\r\nexport const replyCommit = params => axios.post(url + '/replyCommit', params, {headers: getAuthorization()})\r\nexport const getReportCommit = params => axios.get(url + '/getReportCommit', {params})\r\nexport const getReplyCommit = params => axios.get(url + '/getReplyCommit', {params})\r\n// clearreplynum 和 getReplyMeList 在一体，所以只需要写 getReplyMeList 就行了\r\nexport const clearreplynum = params => axios.get(url + '/clearreplynum', {params, headers: getAuthorization()})\r\nexport const getReplyMeList = params => axios.get(url + '/getReplyMeList', {params, headers: getAuthorization()})\r\n// 待回复的数量\r\n// export const getToBeRepliedNums = params => axios.get(url + '/getToBeRepliedNums', {params, headers: getAuthorization()})\r\nexport const getNewestCommit = params => axios.get(url + '/getNewestCommit', {params})\r\n\r\n// 获取单个信息\r\nexport const getSiteDetail = params => {\r\n  loading.open();\r\n  return axios.get(url + '/getSiteDetail', {params}).then(res => {\r\n    loading.close()\r\n    return res\r\n  })\r\n}\r\n\r\n// 获取top10最热网站\r\nexport const getTop10SiteList = () => dispatch => {\r\n  axios.post(url + '/getSiteList', {pageIndex: 1, pageSize: 10, orderBy: 'monthViews', status: 1}).then(res => {\r\n    dispatch(updateTop10SiteList(res.result))\r\n  })\r\n}\r\n// 得到网页列表- 因为页面管理需要登录信息，所以还是要传入tooken\r\n// catalog, status, pageIndex, pageSize, isTotal\r\nexport const getSiteList = params => dispatch => {\r\n  loading.open();\r\n  return axios.post(url + '/getSiteList', params, {headers: getAuthorization()}).then(res => {\r\n    dispatch(updateSiteList(res.result))\r\n    loading.close()\r\n  })\r\n}\r\n// 得到网页分类-只有名称和id\r\n// catalog, status, pageIndex, pageSize, isTotal\r\nexport const getAllCatalog = params => dispatch => axios.get(url + '/getAllCatalog', params).then(res => {\r\n  // console.log(res.data.result || [])\r\n  dispatch(updateCatalogList(res.result))\r\n})\r\n\r\nconst getCatalogList = params => axios.get(url + '/getCatalogList', {params})\r\n\r\n// 获取网站分类-包含该分类的网站总数\r\nexport const dispatchCatalogList = params => dispatch => getCatalogList(params).then(res => {\r\n  // console.log(res.data.result || [])\r\n  dispatch(updateCatalogListSite(res.result))\r\n})\r\n\r\n// 删除网页\r\n// _id, status\r\nexport const delSite = params => axios.post(url + '/delSite', params, {headers: getAuthorization()})\r\n// 新增分类\r\n// _id, status\r\nexport const addCatalog = params => axios.post(url + '/addCatalog', params, {headers: getAuthorization()})\r\n// 新增公告\r\nexport const addNotice = params => axios.post(url + '/addNotice', params, {headers: getAuthorization()})\r\n// 保存头像\r\nexport const saveportrait = params => axios.post(url + '/saveportrait', params, {headers: getAuthorization()})\r\n\r\n\r\n// 新增网页-这个在头部那里\r\nexport const addSite = (params) => {\r\n  return axios.request({\r\n    url: url + '/addSite', \r\n    method: 'post',\r\n    data: params,\r\n    headers: {'Content-Type':'multipart/form-data', ...getAuthorization()}\r\n  })\r\n}\r\n// 编辑网页-这个在siteItem里\r\nexport const editSite = (params) => {\r\n  return axios.request({\r\n    url: url + '/editSite', \r\n    method: 'post',\r\n    data: params,\r\n    headers: {'Content-Type':'multipart/form-data', ...getAuthorization()}\r\n  })\r\n}\r\n\r\nexport const checkNameExist = params => axios.get(url + '/checkName', {params})\r\n// 获取公告列表\r\nexport const getNoticeList = params => axios.get(url + '/getNoticeList', {params})\r\n// 删除公告\r\nexport const delNotice = params => axios.get(url + '/delNotice', {params, headers: getAuthorization()})\r\n// 用户信息\r\nexport const getUserportrait = params => axios.post(url + '/getUserportrait', params, {headers: getAuthorization()})\r\n// 更新分类排序\r\nexport const updateCatalogSort = params => axios.post(url + '/updateCatalogSort', params, {headers: getAuthorization()})\r\n\r\n// 收藏\r\nexport const getCollectList = params => axios.get(url + '/getCollectList', {params, headers: getAuthorization()})\r\n\r\nexport {\r\n  getCatalogList,\r\n  updateSiteList,\r\n}\r\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Cropper from 'cropperjs';\n\nconst optionProps = [\n  'dragMode',\n  'aspectRatio',\n  'data',\n  'crop',\n  // unchangeable props start from here\n  'viewMode',\n  'preview',\n  'responsive',\n  'restore',\n  'checkCrossOrigin',\n  'checkOrientation',\n  'modal',\n  'guides',\n  'center',\n  'highlight',\n  'background',\n  'autoCrop',\n  'autoCropArea',\n  'movable',\n  'rotatable',\n  'scalable',\n  'zoomable',\n  'zoomOnTouch',\n  'zoomOnWheel',\n  'wheelZoomRatio',\n  'cropBoxMovable',\n  'cropBoxResizable',\n  'toggleDragModeOnDblclick',\n  'minContainerWidth',\n  'minContainerHeight',\n  'minCanvasWidth',\n  'minCanvasHeight',\n  'minCropBoxWidth',\n  'minCropBoxHeight',\n  'ready',\n  'cropstart',\n  'cropmove',\n  'cropend',\n  'zoom',\n];\n\nconst unchangeableProps = optionProps.slice(4);\n\nclass ReactCropper extends Component {\n  componentDidMount() {\n    const options = Object.keys(this.props)\n      .filter(propKey => optionProps.indexOf(propKey) !== -1)\n      .reduce((prevOptions, propKey) =>\n        Object.assign({}, prevOptions, { [propKey]: this.props[propKey] }), {});\n    this.cropper = new Cropper(this.img, options);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.src !== this.props.src) {\n      this.cropper.reset().clear().replace(nextProps.src);\n    }\n    if (nextProps.aspectRatio !== this.props.aspectRatio) {\n      this.setAspectRatio(nextProps.aspectRatio);\n    }\n    if (nextProps.data !== this.props.data) {\n      this.setData(nextProps.data);\n    }\n    if (nextProps.dragMode !== this.props.dragMode) {\n      this.setDragMode(nextProps.dragMode);\n    }\n    if (nextProps.cropBoxData !== this.props.cropBoxData) {\n      this.setCropBoxData(nextProps.cropBoxData);\n    }\n    if (nextProps.canvasData !== this.props.canvasData) {\n      this.setCanvasData(nextProps.canvasData);\n    }\n    if (nextProps.moveTo !== this.props.moveTo) {\n      if (nextProps.moveTo.length > 1) {\n        this.moveTo(nextProps.moveTo[0], nextProps.moveTo[1]);\n      } else {\n        this.moveTo(nextProps.moveTo[0]);\n      }\n    }\n    if (nextProps.zoomTo !== this.props.zoomTo) {\n      this.zoomTo(nextProps.zoomTo);\n    }\n    if (nextProps.rotateTo !== this.props.rotateTo) {\n      this.rotateTo(nextProps.rotateTo);\n    }\n    if (nextProps.scaleX !== this.props.scaleX) {\n      this.scaleX(nextProps.scaleX);\n    }\n    if (nextProps.scaleY !== this.props.scaleY) {\n      this.scaleY(nextProps.scaleY);\n    }\n    if (nextProps.enable !== this.props.enable) {\n      if (nextProps.enable) {\n        this.enable();\n      } else {\n        this.disable();\n      }\n    }\n\n    Object.keys(nextProps).forEach((propKey) => {\n      let isDifferentVal = nextProps[propKey] !== this.props[propKey];\n      const isUnchangeableProps = unchangeableProps.indexOf(propKey) !== -1;\n\n      if (typeof nextProps[propKey] === 'function' && typeof this.props[propKey] === 'function') {\n        isDifferentVal = nextProps[propKey].toString() !== this.props[propKey].toString();\n      }\n\n      if (isDifferentVal && isUnchangeableProps) {\n        throw new Error(`prop: ${propKey} can't be change after componentDidMount`);\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.img) {\n      // Destroy the cropper, this makes sure events such as resize are cleaned up and do not leak\n      this.cropper.destroy();\n      delete this.img;\n      delete this.cropper;\n    }\n  }\n\n  setDragMode(mode) {\n    return this.cropper.setDragMode(mode);\n  }\n\n  setAspectRatio(aspectRatio) {\n    return this.cropper.setAspectRatio(aspectRatio);\n  }\n\n  getCroppedCanvas(options) {\n    return this.cropper.getCroppedCanvas(options);\n  }\n\n  setCropBoxData(data) {\n    return this.cropper.setCropBoxData(data);\n  }\n\n  getCropBoxData() {\n    return this.cropper.getCropBoxData();\n  }\n\n  setCanvasData(data) {\n    return this.cropper.setCanvasData(data);\n  }\n\n  getCanvasData() {\n    return this.cropper.getCanvasData();\n  }\n\n  getImageData() {\n    return this.cropper.getImageData();\n  }\n\n  getContainerData() {\n    return this.cropper.getContainerData();\n  }\n\n  setData(data) {\n    return this.cropper.setData(data);\n  }\n\n  getData(rounded) {\n    return this.cropper.getData(rounded);\n  }\n\n  crop() {\n    return this.cropper.crop();\n  }\n\n  move(offsetX, offsetY) {\n    return this.cropper.move(offsetX, offsetY);\n  }\n\n  moveTo(x, y) {\n    return this.cropper.moveTo(x, y);\n  }\n\n  zoom(ratio) {\n    return this.cropper.zoom(ratio);\n  }\n\n  zoomTo(ratio) {\n    return this.cropper.zoomTo(ratio);\n  }\n\n  rotate(degree) {\n    return this.cropper.rotate(degree);\n  }\n\n  rotateTo(degree) {\n    return this.cropper.rotateTo(degree);\n  }\n\n  enable() {\n    return this.cropper.enable();\n  }\n\n  disable() {\n    return this.cropper.disable();\n  }\n\n  reset() {\n    return this.cropper.reset();\n  }\n\n  clear() {\n    return this.cropper.clear();\n  }\n\n  replace(url, onlyColorChanged) {\n    return this.cropper.replace(url, onlyColorChanged);\n  }\n\n  scale(scaleX, scaleY) {\n    return this.cropper.scale(scaleX, scaleY);\n  }\n\n  scaleX(scaleX) {\n    return this.cropper.scaleX(scaleX);\n  }\n\n  scaleY(scaleY) {\n    return this.cropper.scaleY(scaleY);\n  }\n\n  render() {\n    const {\n      src,\n      alt,\n      crossOrigin,\n      style,\n      className,\n    } = this.props;\n    return (\n      <div\n        style={style}\n        className={className}\n      >\n        <img\n          crossOrigin={crossOrigin}\n          ref={(img) => { this.img = img; }}\n          src={src}\n          alt={alt === undefined ? 'picture' : alt}\n          style={{ opacity: 0 }}\n        />\n      </div>\n    );\n  }\n}\n\nReactCropper.propTypes = {\n  style: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  className: PropTypes.string,\n\n  // react cropper options\n  crossOrigin: PropTypes.string,\n  src: PropTypes.string,\n  alt: PropTypes.string,\n\n  // props of option can be changed after componentDidmount\n  aspectRatio: PropTypes.number,\n  dragMode: PropTypes.oneOf(['crop', 'move', 'none']),\n  data: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    rotate: PropTypes.number,\n    scaleX: PropTypes.number,\n    scaleY: PropTypes.number,\n  }),\n  scaleX: PropTypes.number,\n  scaleY: PropTypes.number,\n  enable: PropTypes.bool,\n  cropBoxData: PropTypes.shape({\n    left: PropTypes.number,\n    top: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n  canvasData: PropTypes.shape({\n    left: PropTypes.number,\n    top: PropTypes.number,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n  zoomTo: PropTypes.number,\n  moveTo: PropTypes.arrayOf(PropTypes.number),\n  rotateTo: PropTypes.number,\n\n  // cropperjs options\n  // https://github.com/fengyuanchen/cropperjs#options\n  // aspectRatio, dragMode, data\n  viewMode: PropTypes.oneOf([0, 1, 2, 3]),\n  preview: PropTypes.string,\n  responsive: PropTypes.bool,\n  restore: PropTypes.bool,\n  checkCrossOrigin: PropTypes.bool,\n  checkOrientation: PropTypes.bool,\n  modal: PropTypes.bool,\n  guides: PropTypes.bool,\n  center: PropTypes.bool,\n  highlight: PropTypes.bool,\n  background: PropTypes.bool,\n  autoCrop: PropTypes.bool,\n  autoCropArea: PropTypes.number,\n  movable: PropTypes.bool,\n  rotatable: PropTypes.bool,\n  scalable: PropTypes.bool,\n  zoomable: PropTypes.bool,\n  zoomOnTouch: PropTypes.bool,\n  zoomOnWheel: PropTypes.bool,\n  wheelZoomRatio: PropTypes.number,\n  cropBoxMovable: PropTypes.bool,\n  cropBoxResizable: PropTypes.bool,\n  toggleDragModeOnDblclick: PropTypes.bool,\n  minContainerWidth: PropTypes.number,\n  minContainerHeight: PropTypes.number,\n  minCanvasWidth: PropTypes.number,\n  minCanvasHeight: PropTypes.number,\n  minCropBoxWidth: PropTypes.number,\n  minCropBoxHeight: PropTypes.number,\n  ready: PropTypes.func,\n  cropstart: PropTypes.func,\n  cropmove: PropTypes.func,\n  cropend: PropTypes.func,\n  crop: PropTypes.func,\n  zoom: PropTypes.func,\n};\n\nReactCropper.defaultProps = {\n  src: null,\n  dragMode: 'crop',\n  data: null,\n  scaleX: 1,\n  scaleY: 1,\n  enable: true,\n  zoomTo: 1,\n  rotateTo: 0,\n};\n\nexport default ReactCropper;\n","import React, { Component } from 'react';\r\n// import {connect} from 'react-redux'\r\n// import 'cropperjs/dist/cropper.css';\r\nimport { message, Button, Popover } from 'antd';\r\nimport './Portrait.scss'\r\nimport Cropper from './react-cropper';\r\nimport { saveportrait, getUserportrait } from '@/store/actions'\r\n// import { withRouter } from \"react-router\";\r\n\r\nimport loading from '@/commonComp/Loading'\r\nimport defaultFace from '@/assets/images/face.png'\r\n\r\nimport eventBus from '@/common/eventBus'\r\nimport imgurl from '@/common/api'\r\n/* global FileReader */\r\nimport {\r\n\r\n  faceImgTip,\r\n  MAX_IMG_SIZE,\r\n  siteImgErrorText,\r\n  // LOG_OVERDUE_CODE\r\n} from '@/common/constant'\r\n\r\n\r\nclass Portrait extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      src: '',\r\n      orgSrc: ''\r\n      // cropResult: null,\r\n      // imgError: -1,\r\n    };\r\n    this.cropImage = this.cropImage.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n  componentDidMount () {\r\n    // const { history } = this.props;\r\n    loading.transShow()\r\n    getUserportrait().then(res => {\r\n      const { result } = res;\r\n      this.setState({\r\n        orgSrc: result ? imgurl + result : defaultFace\r\n      })\r\n    }).catch(res => {\r\n      eventBus.emit('logout#toHome', res)\r\n    })\r\n  }\r\n  checkImg (file) {\r\n    let flag = -1;\r\n    if (file.size > MAX_IMG_SIZE) {\r\n      flag = 1\r\n    } else if (file.type.indexOf('image') === -1) {\r\n      flag = 0\r\n    }\r\n    return flag;\r\n  }\r\n  onChange(e) {\r\n    e.preventDefault();\r\n    let files;\r\n    if (e.dataTransfer) {\r\n      files = e.dataTransfer.files;\r\n    } else if (e.target) {\r\n      files = e.target.files;\r\n    }\r\n    if (files.length === 0) {\r\n      message.error('请选择图片！')\r\n      return;\r\n    }\r\n    const [file] = files\r\n    const imgError = this.checkImg(file);\r\n    if (imgError !== -1) {\r\n      /*this.setState({\r\n        imgError\r\n      })*/\r\n      message.error(siteImgErrorText[imgError])\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      this.setState({ src: reader.result });\r\n      this.cropper.replace(reader.result)\r\n    };\r\n    reader.readAsDataURL(file);\r\n  }\r\n\r\n  cropImage() {\r\n    const cropped = this.cropper.getCroppedCanvas()\r\n    // console.log(cropped)\r\n    if (!cropped) {\r\n      message.error(siteImgErrorText[3])\r\n      return;\r\n    }\r\n    const imgData = cropped.toDataURL()\r\n    saveportrait({imgData})\r\n      .then(res => message.success(res.resultMessage))\r\n      \r\n    /*this.setState({\r\n      cropResult: cropped.toDataURL(),\r\n    });*/\r\n  }\r\n  \r\n\r\n  render() {\r\n    // console.log(this.state.src)\r\n    const { src, orgSrc } = this.state;\r\n    // console.log(!!cropResult)\r\n    return (\r\n      <div className=\"face-container main-content\">\r\n        <div className=\"face-wrapper\">\r\n          <div className=\"show-ctn\">\r\n            <div className=\"cropper-ctn\">\r\n              <Cropper\r\n                style={{ height: 400, width: 400 }}\r\n                aspectRatio={1}\r\n                preview=\".img-preview\"\r\n                guides={false}\r\n                src={this.state.src}\r\n                ref={cropper => { this.cropper = cropper; }}\r\n              />\r\n              <div className={\"cropper-bg self-bg \" + (!!src ? 'hidden' : '')}></div>\r\n            </div>\r\n            <div className=\"opera-bottom\">\r\n              <Popover placement=\"topLeft\" content={<div>{faceImgTip}</div>} trigger=\"hover\">\r\n                <label className=\"ant-btn\" htmlFor=\"fileimg\">选择头像</label>\r\n              </Popover>\r\n              <Button type=\"primary\" onClick={this.cropImage}>保存头像</Button>\r\n            </div>\r\n\r\n            <input id=\"fileimg\" type=\"file\" style={{display: 'none'}} accept=\"image/*\" onChange={this.onChange} />\r\n          </div>\r\n          <div className=\"preview-ctn\">\r\n            <h3 className=\"title\">头像预览</h3>\r\n            {\r\n              !!src \r\n              ? <div className=\"img-preview-ctn\" >\r\n                  <div className=\"img-preview\" />\r\n                  <p>大头像112*112</p>\r\n                  <div className=\"img-preview small\" />\r\n                  <p>小头像40*40</p>\r\n                </div>\r\n              : <div className=\"img-preview-ctn show-org-img\" >\r\n                  <div className=\"img-preview\">\r\n                    <img src={orgSrc} alt=\"\"/>\r\n                  </div>\r\n                  <p>大头像112*112</p>\r\n                  <div className=\"img-preview small\">\r\n                    <img src={orgSrc} alt=\"\"/>\r\n                  </div>\r\n                  <p>小头像40*40</p>\r\n                </div>\r\n            }\r\n          </div>\r\n        </div>\r\n        \r\n\r\n        {/*<div>\r\n          <div className=\"box\" style={{ width: '50%',  }}>\r\n            <h1>\r\n              <span>Crop</span>\r\n            </h1>\r\n            <img style={{ width: 112 }} src={cropResult} alt=\"cropped image\" />\r\n          </div>\r\n        </div>*/}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/*const mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUsername (params) {\r\n      return dispatch(setUsername(params))\r\n    },\r\n  };\r\n};*/\r\nexport default Portrait;\r\n// export default withRouter(connect(null, mapDispatchToProps)(Portrait));\r\n","const url = process.env.NODE_ENV === 'development' ? '/api' : '';\r\n\r\nexport default url;","import React, { Component } from 'react';\r\nimport './bg.scss'\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Backgound extends Component {\r\n  render () {\r\n    return (\r\n      <div className=\"solar-syst\">\r\n        <div className=\"star mercury\"></div>\r\n        <div className=\"star venus\"></div>\r\n        <div className=\"star earth\"></div>\r\n        <div className=\"star mars\"></div>\r\n        <div className=\"star jupiter\"></div>\r\n        <div className=\"star saturn\"></div>\r\n        <div className=\"star uranus\"></div>\r\n        <div className=\"star neptune\"></div>\r\n        <div className=\"star pluto\"></div>\r\n        <div className=\"star asteroids-belt\"></div>\r\n        <div className=\"star sun\"></div>\r\n        <div className=\"star solar-syst-bg\"></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nlet div = document.createElement('div');\r\ndocument.body.appendChild(div);\r\n \r\nlet background = ReactDOM.render(React.createElement(\r\n  Backgound,\r\n), div);\r\n\r\nexport default background\r\n","import React, { Component } from 'react';\r\nimport { AutoComplete } from 'antd';\r\n\r\nconst { Option } = AutoComplete;\r\n\r\nclass Email extends Component {\r\n  state = {\r\n    result: []\r\n  }\r\n  handleSearch = value => {\r\n    let res = [];\r\n    this.props.onSelect(value);\r\n    if (!value || value.indexOf('@') >= 0) {\r\n      res = [];\r\n    } else {\r\n      res = ['qq.com', '163.com', 'foxmail.com', 'gmail.com'].map(domain => `${value}@${domain}`);\r\n    }\r\n\r\n    this.setState({\r\n      result: res\r\n    })\r\n  };\r\n\r\n  render () {\r\n\r\n    const { result } = this.state;\r\n\r\n    return (\r\n      <AutoComplete\r\n        style={{\r\n          width: 200,\r\n        }}\r\n        onBlur={this.props.onBlur}\r\n        onSearch={this.handleSearch}\r\n        {...this.props}\r\n      >\r\n        {result.map(email => (\r\n          <Option key={email} value={email}>\r\n            {email}\r\n          </Option>\r\n        ))}\r\n      </AutoComplete>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Email;","import React, { Component } from 'react';\r\nimport { Button } from 'antd';\r\nimport { COUNT_DOWN } from '@/common/constant'\r\n\r\nclass CodeBtn extends Component {\r\n  state = {\r\n    mailClick: false,\r\n    mailCount: COUNT_DOWN\r\n  }\r\n\r\n  mailCountInterval = null;\r\n\r\n  startCountDown = () => {\r\n    clearInterval(this.mailCountInterval)\r\n    this.mailCountInterval = setInterval(() => {\r\n      const { mailCount } = this.state;\r\n      if (mailCount <= 1) {\r\n        this.setState({\r\n          mailClick: false,\r\n          mailCount: COUNT_DOWN\r\n        })\r\n        clearInterval(this.mailCountInterval)\r\n        return;\r\n      }\r\n      this.setState({\r\n        mailCount: mailCount - 1\r\n      })\r\n    }, 1000)\r\n  }\r\n\r\n  codeClick = () => {\r\n    this.setState({\r\n      mailClick: true\r\n    })\r\n\r\n    this.props.onClick()\r\n      .then(ok => this.startCountDown())\r\n      .catch(err => this.setState({ mailClick: false }))\r\n  }\r\n\r\n  render () {\r\n    \r\n    const { mailClick, mailCount } = this.state;\r\n\r\n    return (\r\n      <Button onClick={this.codeClick} disabled={mailClick} type=\"link\">{mailClick ? `${mailCount}s后再次获取` : '获取验证码'}</Button>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default CodeBtn;","import cookie from 'react-cookies'\r\nimport { EXPIRES_TIME } from '@/common/constant'\r\n\r\n\r\nexport const saveLoginCookie = (id, token, name, is_async) => {\r\n\tconst expires = new Date(Date.now() + EXPIRES_TIME);\r\n\r\n\tcookie.save('user_id', id, {path: '/', expires })\r\n\tcookie.save('user_token', token, {path: '/', expires})\r\n\tcookie.save('user_name', name, {path: '/', expires})\r\n\tconsole.log(id, token, name, is_async)\r\n\t// cookie.save('is_async', is_async, {path: '/', expires})\r\n}\r\n\r\nexport const removeLoginCookie = () => {\r\n\tcookie.remove('user_id', {path: '/'})\r\n    cookie.remove('user_token', {path: '/'})\r\n    cookie.remove('user_name', {path: '/'})\r\n    // cookie.remove('is_async', {path: '/'})\r\n}","import React, { Component, Fragment } from 'react';\r\nimport { Input, Popover } from 'antd';\r\nimport { CloseOutlined, CheckOutlined } from '@ant-design/icons'\r\nimport { pswTipText } from '@/common/constant'\r\n\r\nfunction getPswErr (psw='') {\r\n\treturn pswTipText.map(it => it.isok(psw))\r\n}\r\n\r\nclass CheckPassword extends Component {\r\n\t\r\n\tstate = {\r\n\t\t// password: '',\r\n\t\tpswok: getPswErr()\r\n\t}\r\n\r\n\tpswChange = e => {\r\n\t\tconst password = e.target.value\r\n\t\tconst pswok = getPswErr(password)\r\n\t\tthis.setState({\r\n\t\t\t// password,\r\n\t\t\tpswok,\r\n\t\t\t\r\n\t\t})\r\n\t\tthis.props.onChange(e)\r\n\t\t// this.props.checkTipShow(false)\r\n\t\t// this.props.checkPswIsOk(this.getPswIsOk(pswok))\r\n\t\t\r\n\t}\r\n\tgetPswIsOk (pswok) {\r\n\t\treturn pswok.reduce((a, pr) => a && pr, true)\r\n\t}\r\n\tpswBlur = (e) => {\r\n\t\tthis.props.onBlur(e)\r\n\t\t// console.log(e)\r\n\t\t// const { pswok } = this.state;\r\n\t\t\r\n\t\t// this.props.checkPswIsOk(this.getPswIsOk(pswok))\r\n\t}\r\n\trender() {\r\n    // const { password } = this.state;\r\n    const { pswok } = this.state;\r\n    const { pswErrorTipShow, password, text } = this.props;\r\n\t\tconst isIgnorPsw = password.length === 0;\r\n\t\tconst pswTipContent = (\r\n\t\t\t<ul className=\"password-tip\">\r\n\t\t\t\t{\r\n\t\t\t\t\tpswTipText.map((it, index) => {\r\n\t\t\t\t\t\tconst isok = pswok[index]\r\n\t\t\t\t\t\treturn <li key={index} className={isok || isIgnorPsw ? '' : 'error'}>{ !isIgnorPsw && (isok ? <CheckOutlined/> : <CloseOutlined/>)} {it.tip}</li>\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</ul>\r\n    )\r\n    return (\r\n    \t<Fragment>\r\n    \t\t<Popover placement=\"topLeft\" content={pswTipContent} trigger=\"focus\">\r\n\t\t\t\t\t<label>{text || '密码'}</label>\r\n\t\t\t\t\t<Input.Password \r\n\t\t\t\t\t\tclassName={(this.getPswIsOk(pswok) || isIgnorPsw) && !pswErrorTipShow ? '' : 'error'} \r\n\t\t\t\t\t\t// type=\"password\" \r\n\t\t\t\t\t\tonBlur={this.pswBlur}\r\n\t\t\t\t\t\tplaceholder=\"请设置登录密码\" \r\n\t\t\t\t\t\tonChange={this.pswChange} \r\n\t\t\t\t\t\tvalue={password} \r\n\t\t\t\t\t/>\r\n\t\t\t\t</Popover>\r\n\t\t\t\t{\r\n\t\t\t\t\tpswErrorTipShow && <p className=\"error-tip\">密码设置不符合要求</p>\r\n\t\t\t\t}\r\n    \t</Fragment>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default CheckPassword;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { message, Modal, Button, Input, Popover } from 'antd';\r\nimport { checkMail, getStrChartLen, isLegal, checkPassword } from '@/common/common'\r\nimport { MAX_NAME_CHART, nameErrorText, nameTipText } from '@/common/constant'\r\nimport { register, setUsername, getRegCode, checkNameExist, updateComData } from '@/store/actions'\r\nimport { connect } from 'react-redux'\r\n// import { CloseOutlined, CheckOutlined } from '@ant-design/icons'\r\nimport Email from '@/commonComp/input/Email'\r\nimport CodeBtn from '@/commonComp/input/CodeBtn'\r\n// import imgUrl from '@/common/api'\r\n// import cookie from 'react-cookies'\r\nimport { saveLoginCookie } from './loginCookie'\r\nimport CheckPassword from './CheckPassword'\r\n\r\n/*function getPswErr (psw='') {\r\n\treturn pswTipText.map(it => it.isok(psw))\r\n}*/\r\n\r\n// 注册是不需要登录回调的，因为用户刚创建，所以不会有任何数据跟该用户相关\r\nclass Register extends Component {\r\n\t\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.initData = {\r\n\t\t\tname: '',\r\n\t\t\tpassword: '',\r\n\t\t\t// repsw: '',\r\n\t\t\tcode: '',\r\n\t\t\temail: '',\r\n\t\t\tnameError: -1,\t\t\t// 0: 过长 1: 包含特殊字符 2: 不能为空\r\n\t\t\tpswErrorTipShow: false,\r\n\t\t\t// pswok: getPswErr(''),\t\t\t\t// 0: 长度不符合要求 1: 没包含 字母/数字以及标点符号至少包含2种 3: 不允许有空格、中文\r\n\t\t\tisEmailError: false,\r\n\t\t\tisCodeError: false,\r\n\r\n\t\t\tisNameFirst: true,\r\n\t\t\tisPswFirst: true,\r\n\t\t\tisEmailFirst: true,\r\n\t\t\tisCodeFirst: true,\r\n\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tconfirmLoading: false,\r\n\t\t\t...this.initData\r\n\t\t};\r\n\t}\r\n\t\r\n\r\n\topen = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t  visible: true,\r\n\t\t});\r\n\t\r\n\t};\r\n\t\r\n\t\r\n\tsendcode = () => {\r\n\t\tconst { email } = this.state;\r\n\t\t// console.log(email)\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (!checkMail(email) || email.length === 0) {\r\n\t\t\t\tthis.setState({isEmailError: true})\r\n\t\t\t\treturn reject();\r\n\t\t\t}\r\n\t\t\tgetRegCode({email}).then(res => {\r\n\t\t\t\tmessage.success('验证码已成功发送，请在半小时内填写！')\r\n\t\t\t\tresolve();\r\n\t\t\t}).catch(res => reject())\r\n\t\t\r\n\t\t})\r\n\t}\r\n\t\r\n\t\r\n\thandleOver = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t...this.initData,\r\n\t\t  visible: false,\r\n\t\t});\r\n\t}\r\n\t// 上架\r\n\thandleOk = () => {\r\n\t\tconst { name, password, email, code, nameError } = this.state;\r\n\t\t// console.log(password)\r\n\t\tif (nameError !== -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (name.length === 0) {\r\n\t\t\tthis.setState({nameError: 2})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!checkPassword(password)) {\r\n\t\t\tthis.setState({ pswErrorTipShow: true })\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t/*if (!this.getPswIsOk() || password.length === 0) {\r\n\t\t\tthis.setState({ pswErrorTipShow: true })\r\n\t\t\treturn;\r\n\t\t}*/\r\n\t\tif (!checkMail(email) || email.length === 0) {\r\n\t\t\tthis.setState({isEmailError: true})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (code.length === 0) {\r\n\t\t\tthis.setState({isCodeError: true})\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\n\t\tthis.setState({confirmLoading: true})\r\n\t\tregister({name, password, email, code}).then(data => {\r\n\t\t\t// console.log(res)\r\n\t\t\tconst { result, resultMessage } = data;\r\n\t\t\tconst { _id, token, is_async } = result;\r\n\t\r\n\t\t\tsaveLoginCookie(_id, token, name)\r\n\t\t\t\r\n\t\t\tmessage.success(resultMessage)\r\n\t\t\tthis.setState({\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tconfirmLoading: false,\r\n\t\t\t})\r\n\r\n\t\t\tthis.props.setUsername(name)\r\n\t\t\tthis.props.updateComData({is_async})\r\n\t\t}).catch(res => this.setState({ confirmLoading: false }))\r\n\t};\r\n\t\r\n\r\n\thandleCancel = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t\t\r\n\t};\r\n\t\r\n\t/*checkRePsw = () => {\r\n\t\tconst { password, repsw } = this.state;\r\n\t\tif (password !== repsw) {\r\n\t\t\tmessage.error('两次密码不一致')\r\n\t\t}\r\n\t}*/\r\n\r\n\t/*componentDidMount () {\r\n\t\tconsole.log(process.env)\r\n\t\tthis.props.getCatalogList();\r\n\t}*/\r\n\tcheckName = (name) => {\r\n\t\tlet nameError = -1;\r\n\t\tconst namChartlen = getStrChartLen(name);\r\n\t\tif (namChartlen > MAX_NAME_CHART) {\r\n\t\t\tnameError = 0\r\n\t\t\t// console.log(name, getStrChartLen(name))\r\n\t\t} else if (!isLegal(name)) {\r\n\t\t\tnameError = 1\r\n\t\t} else if (name === '') {\r\n\t\t\tnameError = 2\r\n\t\t}\r\n\t\treturn nameError\r\n\t}\r\n\t\r\n\tnameChange = e => {\r\n\t\tconst { value } = e.target\r\n\t\t// isLegal\r\n\t\tthis.setState({\r\n\t\t\tname: value,\r\n\t\t\tisNameFirst: false,\r\n\t\t\tnameError: this.checkName(value)\r\n\t\t})\r\n\r\n\t}\r\n\tnameBlur = () => {\r\n\t\tconst { name } = this.state\r\n\t\tconst nameError = this.checkName(name)\r\n\t\tif (nameError === -1) {\r\n\t\t\tcheckNameExist({name}).then(res => {\r\n\t\t\t\tif (res.result) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tnameError: 3\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tnameError\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t}\r\n\tpswChange = e => {\r\n\t\tconst password = e.target.value\r\n\t\tthis.setState({\r\n\t\t\tpassword,\r\n\t\t\tpswErrorTipShow: false,\r\n\t\t\tisPswFirst: false,\r\n\t\t})\r\n\t\t\r\n\t}\r\n\tpswBlur = (e) => {\r\n\t\tthis.setState({ pswErrorTipShow: !checkPassword(e.target.value) })\r\n\t}\r\n\t/*getPswIsOk () {\r\n\t\treturn this.state.pswok.reduce((a, pr) => a && pr, true)\r\n\t}*/\r\n\t/*repswChange = e => {\r\n\t\tthis.setState({\r\n\t\t\trepsw: e.target.value\r\n\t\t})\r\n\t}*/\r\n\t\r\n\tcodeChange = e => {\r\n\t\tconst code = e.target.value\r\n\t\tthis.setState({\r\n\t\t\tcode,\r\n\t\t\tisCodeError: code.length === 0,\r\n\t\t\tisCodeFirst: false\r\n\t\t})\r\n\t}\r\n\temailChange = (email) => {\r\n\t\t// console.log(a, b, c)\r\n\t\tconst isEmailError = !checkMail(email);\r\n\t\tthis.setState({\r\n\t\t\temail,\r\n\t\t\tisEmailFirst: false\r\n\t\t})\r\n\t\t// 只有输入不对的时候才会\r\n\t\tif (!isEmailError) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisEmailError,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\temailBlur = () => {\r\n\t\tthis.setState((prevState) => {\r\n\t\t\treturn {\r\n\t\t\t\tisEmailError: !checkMail(prevState.email)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t\r\n\trender() {\r\n    const { \r\n    \tvisible, confirmLoading, name, password, code,\r\n    \tnameError, isEmailError, isCodeError, pswErrorTipShow,\r\n    \tisNameFirst, isPswFirst, isEmailFirst, isCodeFirst\r\n    } = this.state;\r\n   \r\n\r\n    return (\r\n    \t<Fragment>\r\n    \t\t<Button onClick={this.open} type=\"link\">注册</Button>\r\n\t      <Modal\r\n\t      \twidth={400}\r\n\t\t\t\t\ttitle=\"注册\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\tfooter={null}\r\n\t\t\t\t\t// confirmLoading={confirmLoading}\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t\t// onOk={this.handleOk}\r\n\t\t\t\t\t// okText=\"确定\"\r\n\t\t\t\t\t// cancelText=\"取消\"\r\n\t      >\r\n\t        <div className=\"self-wrapper\">\r\n\t        \r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<Popover placement=\"topLeft\" content={<div>{nameTipText}</div>} trigger=\"focus\">\r\n\t\t\t\t\t\t\t\t<label>用户名</label>\r\n\t\t\t\t\t\t\t\t<Input className={nameError !== -1 && 'error'} placeholder=\"请设置用户名\" onBlur={this.nameBlur} onChange={this.nameChange} value={name} />\r\n\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tnameErrorText[nameError] && <p className=\"error-tip\">{nameErrorText[nameError]}</p>\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<CheckPassword \r\n\t\t\t\t\t\t\t\tpassword={password}\r\n\t\t\t\t\t\t\t\tpswErrorTipShow={pswErrorTipShow} \r\n\t\t\t\t\t\t\t\tonBlur={this.pswBlur}\r\n\t\t\t\t\t\t\t\tonChange={this.pswChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>重复密码</label><Input type=\"password\" onBlur={this.checkRePsw} onChange={this.repswChange} value={repsw} />\r\n\t\t\t\t\t\t</div>*/}\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>邮箱</label>\r\n\t\t\t\t\t\t\t{/*<Input placeholder=\"可用于登录和找回密码\" onChange={this.emailChange} value={email} />*/}\r\n\t\t\t\t\t\t\t<Email className={isEmailError && 'error'} style={{width: '100%'}} placeholder=\"可用于登录和找回密码\" onBlur={this.emailBlur} onSelect={this.emailChange} />\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisEmailError && <p className=\"error-tip\">邮箱不符合格式</p>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>验证码</label>\r\n\t\t\t\t\t\t\t<div className=\"inline\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Input className={isCodeError && 'error'} placeholder=\"请输入验证码\" onChange={ this.codeChange} value={code} style={{width: 150}} />\r\n\t\t\t\t\t\t\t\t\t<CodeBtn onClick={this.sendcode} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tisCodeError && <p className=\"error-tip\">验证码不能为空</p>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{/*<Button onClick={this.sendcode} disabled={mailClick} type=\"link\">{mailClick ? `${mailCount}s后再次获取` : '获取验证码'}</Button>*/}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line\">\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\tdisabled={(isNameFirst || isPswFirst || isCodeFirst || isEmailFirst) ? true : (nameError !== -1 || !checkPassword(password) || isEmailError || isCodeError)}\r\n\t\t\t\t\t\t\t\tstyle={{width: '100%'}} \r\n\t\t\t\t\t\t\t\ttype=\"primary\" \r\n\t\t\t\t\t\t\t\tloading={confirmLoading} \r\n\t\t\t\t\t\t\t\tonClick={this.handleOk} \r\n\t\t\t\t\t\t\t>注册</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t        </div>\r\n\t      \t\r\n\t      </Modal>\r\n    \t</Fragment>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tsetUsername (name) {\r\n\t\t\treturn dispatch(setUsername(name))\r\n  \t},\r\n  \tupdateComData (data) {\r\n  \t\treturn dispatch(updateComData(data))\r\n  \t}\r\n  };\r\n};\r\nRegister = connect(null, mapDispatchToProps)(Register)\r\nexport default Register;\r\n// Register = connect(mapStateToProps, mapDispatchToProps)(Register)\r\n","import React, { Component, Fragment } from 'react';\r\nimport { message, Modal, Button, Input } from 'antd';\r\nimport { checkPassword } from '@/common/common'\r\nimport { getRestCode, resetPassword } from '@/store/actions'\r\n// import {connect} from 'react-redux'\r\n\r\n// import Email from '@/commonComp/input/Email'\r\nimport CodeBtn from '@/commonComp/input/CodeBtn'\r\n// import imgUrl from '@/common/api'\r\nimport CheckPassword from './CheckPassword'\r\n// import cookie from 'react-cookies'\r\n// import { saveLoginCookie } from './loginCookie'\r\n\r\n\r\nclass RestPsw extends Component {\r\n\t\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.initData = {\r\n\t\t\tname: '',\r\n\t\t\tpassword: '',\r\n\t\t\tcode: '',\r\n\t\t\tpswErrorTipShow: false,\r\n\r\n\t\t\tisNameFirst: true,\r\n\t\t\tisPswFirst: true,\r\n\t\t\tisCodeFirst: true,\r\n\t\t\tisNameError: false,\r\n\t\t\tisPswError: false,\r\n\t\t\tisCodeError: false,\r\n\t\t}\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tconfirmLoading: false,\r\n\t\t\t...this.initData\r\n\t\t};\r\n\t}\r\n\r\n\tsendcode = () => {\r\n\t\tconst { name } = this.state;\r\n\t\t// console.log(name)\r\n\t\t// return;\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tgetRestCode({name}).then(res => {\r\n\t\t\t\tmessage.success(res.resultMessage)\r\n\t\t\t}).catch(res => reject())\r\n\t\t\r\n\t\t})\r\n\t\t\r\n\t}\r\n\r\n\r\n\topen = () => {\r\n\t\tconst { handleOpen } = this.props;\r\n\t\tthis.setState({\r\n\t\t  visible: true,\r\n\t\t});\r\n\t\t\r\n\t\thandleOpen && handleOpen();\r\n\t};\r\n\t\r\n\r\n\t\r\n\t\r\n\thandleOver = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t...this.initData,\r\n\t\t  visible: false,\r\n\t\t});\r\n\t}\r\n\t// 登陆\r\n\thandleOk = () => {\r\n\t\tconst { name, password, code } = this.state;\r\n\t\tthis.setState({confirmLoading: true})\r\n\t\tresetPassword({name, password, code: code.toString()}).then(data => {\r\n\t\t\tthis.setState({confirmLoading: false})\r\n\t\t\tconst { resultMessage } = data;\r\n\t\t\tmessage.success(resultMessage)\r\n\t\t\tthis.handleOver()\r\n\t\t}).catch(res => this.setState({confirmLoading: false}))\r\n\t};\r\n\t\r\n\r\n\thandleCancel = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t\t\r\n\t};\r\n\t\r\n\r\n\t/*componentDidMount () {\r\n\t\tconsole.log(process.env)\r\n\t\tthis.props.getCatalogList();\r\n\t}*/\r\n\r\n\tnameChange = e => {\r\n\t\tconst name = e.target.value;\r\n\t\t// isLegal\r\n\t\tthis.setState({\r\n\t\t\tname,\r\n\t\t\tisNameError: !name,\r\n\t\t\tisNameFirst: false,\r\n\t\t})\r\n\t}\r\n\r\n\tcodeChange = e => {\r\n\t\tthis.setState({\r\n\t\t\tcode: e.target.value,\r\n\t\t\tisCodeFirst: false,\r\n\t\t})\r\n\t}\r\n\t\r\n\tpswChange = e => {\r\n\t\tconst password = e.target.value\r\n\t\tthis.setState({\r\n\t\t\tpassword,\r\n\t\t\tpswErrorTipShow: false,\r\n\t\t\tisPswFirst: false,\r\n\t\t})\r\n\t\t\r\n\t}\r\n\tpswBlur = (e) => {\r\n\t\tthis.setState({ pswErrorTipShow: !checkPassword(e.target.value) })\r\n\t}\r\n\tnameBlur = () => {\r\n\t\tthis.setState(prevState => ({isNameError: !prevState.name}))\r\n\t}\r\n\r\n\t/*codeBlur = () => {\r\n\t\tthis.setState(prevState => ({isCodeError: !prevState.code}))\r\n\t}*/\r\n\t\r\n\trender() {\r\n    const { visible, confirmLoading, name, password, code, pswErrorTipShow,\r\n    \tisNameError, isCodeError, \r\n    \tisNameFirst, isPswFirst, isCodeFirst \r\n     } = this.state;\r\n\r\n    return (\r\n    \t<Fragment>\r\n    \t\t<span className=\"link-a\" onClick={this.open}>忘记密码?</span>\r\n\t      <Modal\r\n\t      \twidth={400}\r\n\t\t\t\t\ttitle=\"重置密码\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\t// confirmLoading={confirmLoading}\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t\tonOk={this.handleOk}\r\n\t\t\t\t\t// okText=\"确定\"\r\n\t\t\t\t\t// cancelText=\"取消\"\r\n\t\t\t\t\tfooter={null}\r\n\t      >\r\n\t        <div className=\"self-wrapper\">\r\n\t        \r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>用户名</label>\r\n\t\t\t\t\t\t\t<Input placeholder=\"用户名/邮箱\" className={isNameError && 'error'} onBlur={this.nameBlur} onChange={this.nameChange} value={name} />\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisNameError && <p className=\"error-tip\">用户名不能为空</p>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>验证码</label>\r\n\t\t\t\t\t\t\t<div className=\"inline\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Input className={isCodeError && 'error'} placeholder=\"请输入验证码\" onChange={this.codeChange} value={code} style={{width: 150}} />\r\n\t\t\t\t\t\t\t\t\t<CodeBtn onClick={this.sendcode} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisCodeError && <p className=\"error-tip\">验证码不能为空</p>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<CheckPassword \r\n\t\t\t\t\t\t\t\ttext=\"新密码\"\r\n\t\t\t\t\t\t\t\tpassword={password}\r\n\t\t\t\t\t\t\t\tpswErrorTipShow={pswErrorTipShow} \r\n\t\t\t\t\t\t\t\tonBlur={this.pswBlur}\r\n\t\t\t\t\t\t\t\tonChange={this.pswChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line\">\r\n\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\tstyle={{width: '100%'}} \r\n\t\t\t\t\t\t\t\tdisabled={(isNameFirst || isPswFirst || isCodeFirst) ? true : (isNameError || !checkPassword(password) || isCodeError)}\r\n\t\t\t\t\t\t\t\ttype=\"primary\" loading={confirmLoading} \r\n\t\t\t\t\t\t\t\tonClick={this.handleOk} \r\n\t\t\t\t\t\t\t>重置密码</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t        </div>\r\n\t      \t\r\n\t      </Modal>\r\n    \t</Fragment>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default RestPsw;\r\n","import React, { Component, Fragment } from 'react';\r\nimport { message, Modal, Button, Input } from 'antd';\r\nimport { trim, isLegal, pathType } from '@/common/common'\r\nimport { pswTipText } from '@/common/constant'\r\nimport { login, setUsername, updateComData, setReplyNum } from '@/store/actions'\r\nimport { connect } from 'react-redux'\r\n\r\nimport imgUrl from '@/common/api'\r\n// import cookie from 'react-cookies'\r\nimport { saveLoginCookie } from './loginCookie'\r\nimport RestPsw from './RestPsw'\r\nimport eventBus from '@/common/eventBus'\r\n\r\n// 登陆的时候粗略的校验一下就行了，没必要和注册一个逻辑\r\nclass Login extends Component {\r\n\t\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.initData = {\r\n\t\t\tname: '',\r\n\t\t\tpassword: '',\r\n\t\t\tcode: '',\r\n\t\t\tcodeurl: '',\r\n\t\t\tisNameFirst: true,\r\n\t\t\tisPswFirst: true,\r\n\t\t\tisCodeFirst: true,\r\n\t\t\tisNameError: false,\r\n\t\t\tisPswError: false,\r\n\t\t\tisCodeError: false,\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tconfirmLoading: false,\r\n\t\t\t...this.initData\r\n\t\t};\r\n\t}\r\n\t\r\n\r\n\topen = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t  visible: true,\r\n\t\t});\r\n\t\tthis.refreshCode();\r\n\t\r\n\t};\r\n\t\r\n\t\r\n\thandleOver = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\t...this.initData,\r\n\t\t  visible: false,\r\n\t\t});\r\n\t}\r\n\t// 登陆\r\n\thandleOk = () => {\r\n\t\tconst { name, password, code } = this.state;\r\n\t\tconst { setUsername, updateComData, setReplyNum, pathname } = this.props;\r\n\t\tif (!trim(name)) {\r\n\t\t\tthis.setState({isNameError: true})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!trim(password)) {\r\n\t\t\tthis.setState({isPswError: true})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!trim(code)) {\r\n\t\t\tthis.setState({isCodeError: true})\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({confirmLoading: true})\r\n\t\tlogin({name, password, code: code.toString().toLowerCase()}).then(data => {\r\n\t\t\tthis.setState({confirmLoading: false})\r\n\t\t\tconst { result, resultMessage } = data;\r\n\t\t\tconst { _id, token, name: user_name, is_async, check_reply_num } = result;\r\n\r\n\t\t\tsaveLoginCookie(_id, token, user_name)\r\n\t\t\t\r\n\t\t\tmessage.success(resultMessage)\r\n\t\t\tthis.setState({\r\n\t\t\t\tvisible: false,\r\n\t\t\t})\r\n\t\t\t// 因为在头部的时候，设置用户名之后，登陆和注册按钮都没了。同时，弹窗动画还没隐藏，所以会报错，节点被删除，但是事件还未完成\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetUsername(user_name)\r\n\t\t\t\tupdateComData({is_async})\r\n\t\t\t\tsetReplyNum(check_reply_num)\r\n\t\t\t\t\r\n\t\t\t\t// 需要在不同的路由配置不同的回调\r\n\t\t\t\tconst pht = pathType(pathname)\r\n\t\t\t\tif (pht === 'home') {\r\n\t\t\t\t\teventBus.emit('login#content')\t// 获取列表内容\r\n\t\t\t\t} else if (pht === 'sitedetail') {\r\n\t\t\t\t\teventBus.emit('login#siteDetail')\t// 获取网页详情\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}, 30)\r\n\t\t}).catch(res => {\r\n\t\t\tthis.setState({confirmLoading: false})\r\n\t\t\tthis.refreshCode()\r\n\t\t})\r\n\t};\r\n\t\r\n\r\n\thandleCancel = () => {\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t});\r\n\t\t\r\n\t};\r\n\t\r\n\r\n\t/*componentDidMount () {\r\n\t\tconsole.log(process.env)\r\n\t\tthis.props.getCatalogList();\r\n\t}*/\r\n\r\n\tnameChange = e => {\r\n\t\t// isLegal\r\n\t\tconst name = e.target.value;\r\n\t\t// console.log(name, !name)\r\n\t\tthis.setState({\r\n\t\t\tname,\r\n\t\t\tisNameError: !name,\r\n\t\t\tisNameFirst: false\r\n\t\t})\r\n\t}\r\n\tnameBlur = () => {\r\n\t\tthis.setState(prevState => ({isNameError: !isLegal(prevState.name)}))\r\n\t}\r\n\tpswChange = e => {\r\n\t\tconst password = e.target.value;\r\n\t\tthis.setState({\r\n\t\t\tpassword,\r\n\t\t\tisPswError: !password, isPswFirst: false\r\n\t\t})\r\n\t}\r\n\tpswBlur = () => {\r\n\t\tthis.setState(prevState => ({isPswError: !pswTipText[2].isok(prevState.password)}))\r\n\t}\r\n\tcodeChange = e => {\r\n\t\tconst code = e.target.value\r\n\t\tthis.setState({\r\n\t\t\tcode,\r\n\t\t\tisCodeError: !trim(code), \r\n\t\t\tisCodeFirst: false\r\n\t\t})\r\n\t}\r\n\t\r\n\t/*codeBlur = () => {\r\n\t\tthis.setState(prevState => ({isCodeError: !prevState.code}))\r\n\t}*/\r\n\trefreshCode = () => {\r\n\t\tthis.setState({\r\n\t\t\tcodeurl: imgUrl + '/getCaptcha?r='+Math.random()\r\n\t\t})\r\n\t}\r\n\r\n\t\r\n\trender() {\r\n    const { \r\n    \tvisible, confirmLoading, name, password, code, codeurl, \r\n    \tisNameError, isPswError, isCodeError, \r\n    \tisNameFirst, isPswFirst, isCodeFirst \r\n    } = this.state;\r\n\t\t// console.log(isNameError, isPswError, isCodeError)\r\n    return (\r\n    \t<Fragment>\r\n    \t\t<Button onClick={this.open} type=\"link\">登录</Button>\r\n\t      <Modal\r\n\t      \twidth={400}\r\n\t\t\t\t\ttitle=\"登录\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tmaskClosable={false}\r\n\t\t\t\t\t// confirmLoading={confirmLoading}\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t\tonOk={this.handleOk}\r\n\t\t\t\t\t// okText=\"确定\"\r\n\t\t\t\t\t// cancelText=\"取消\"\r\n\t\t\t\t\tfooter={null}\r\n\t      >\r\n\t        <div className=\"self-wrapper\">\r\n\t        \r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>用户名</label><Input className={isNameError && 'error'} placeholder=\"用户名/邮箱\" onBlur={this.nameBlur} onChange={this.nameChange} value={name} />\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisNameError && <p className=\"error-tip\">用户名不能包含空格及不能为空</p>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>密码</label><Input.Password className={isPswError && 'error'} placeholder=\"请输入密码\" onBlur={this.pswBlur} onChange={this.pswChange} value={password} />\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisPswError && <p className=\"error-tip\">密码不能包含空格及不能为空</p>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line must\">\r\n\t\t\t\t\t\t\t<label>验证码</label>\r\n\t\t\t\t\t\t\t<div className=\"inline\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"请输入右侧验证码\" onChange={this.codeChange} value={code} style={{width: 150}} />\r\n\t    \t\t\t\t\t\t<span className=\"link-a\" onClick={this.refreshCode}><img className=\"code\" src={codeurl} alt=\"验证码\" /></span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tisCodeError && <p className=\"error-tip\">验证码不能为空</p>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line\">\r\n\t\t\t\t\t\t\t<Button style={{width: '100%'}} disabled={(isNameFirst || isPswFirst || isCodeFirst) ? true : (isNameError || isPswError || isCodeError)} type=\"primary\" loading={confirmLoading} onClick={this.handleOk} >登录</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"self-line\">\r\n\t\t\t\t\t\t\t<RestPsw handleOpen={this.handleCancel} />\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t        </div>\r\n\t      \t\r\n\t      </Modal>\r\n    \t</Fragment>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tsetUsername (name) {\r\n\t\t\treturn dispatch(setUsername(name))\r\n  \t},\r\n  \tsetReplyNum (num) {\r\n  \t\treturn dispatch(setReplyNum(num))\r\n  \t},\r\n  \tupdateComData (data) {\r\n  \t\treturn dispatch(updateComData(data))\r\n  \t}\r\n  };\r\n};\r\nexport default connect(null, mapDispatchToProps)(Login);\r\n","import React, { Component } from 'react';\r\nimport './BraftEditorMax.scss'\r\n// 把UPDATE_DATA 修改一下 改成函数，不要到处写\r\nimport BraftEditor from 'braft-editor'\r\nimport { ContentUtils } from 'braft-utils'\r\n\r\nclass BraftEditorMax extends Component {\r\n\r\n\thandleChange = val => {\r\n\t\tconst { maxLen, value } = this.props\r\n\t\tif (value.toText().length > maxLen) {\r\n\t\t\tval = ContentUtils.insertText(ContentUtils.clear(value), val.toText().slice(0, maxLen))\r\n\t\t}\r\n\t\tthis.props.onChange(val)\r\n\t}\r\n\r\n\trender () {\r\n\t\tconst { value, maxLen } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"diy-edit-max\">\r\n        <BraftEditor\r\n          {...this.props}\r\n        />\r\n        <span className=\"diy-tip\">{value.toText().length}/{maxLen}</span>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default BraftEditorMax;","import React, { Component, createRef } from 'react';\n// import {connect} from 'react-redux'\nimport {message, Modal, Button, Input, Select, Popover } from 'antd';\n// import './AddWebSite.scss';\nimport { addSite, editSite, /*getCatalogList*/ } from '@/store/actions'\nimport {\n\tisLegal,\n\tgetBase64,\n\tgetStrChartLen,\n\tcheckUrl,\n\t// trim\n} from '@/common/common'\n\nimport {\n\tsiteNameTip,\n\tsiteNameErrorText,\n\tMAX_SIT_NAME,\n\t// siteDescTip,\n\tMAX_SIT_DESC,\n\tsiteErrorText,\n\n\tsiteImgTip,\n\tMAX_IMG_SIZE,\n\tsiteImgErrorText,\n\n\tdescControls\n} from '@/common/constant'\nimport ReactDOM from 'react-dom';\nimport imgUrl from '@/common/api'\n// import defaultImg from './default-cover.jpg';\nimport defaultImg from '@/assets/images/black-hole.png';\n// import cookie from 'react-cookies'\nimport BraftEditor from 'braft-editor'\nimport { ContentUtils } from 'braft-utils'\nimport BraftEditorMax from '@/commonComp/BraftEditorMax'\n\n// const { TextArea } = Input;\nconst { Option } = Select;\n\n\nclass AddWebSite extends Component {\n\t\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.fileInput = createRef();\n\t\tconst desc = BraftEditor.createEditorState('');\n\t\tthis.initData = {\n\t\t\tname: '',\n\t\t\turl: 'http://',\n\t\t\tdesc: ContentUtils.clear(desc),\t\t// 清除改变值，会触发descChange方法\n\t\t  imgfiles: null,\n\t\t\tcatalog: [],\n\t\t\timg: '',\t// 图片地址\n\t\t\tpreviewImage: null,\t// 图片地址\n\t\t\ttags: [],\n\n\t\t\tnameError: -1,\n\t\t\tisUrlError: false,\n\n\t\t\tdescError: -1,\n\t\t\t// isDescError: false,\n\t\t\timgError: -1,\n\t\t\t// isImgError: -1,\n\t\t\tisNameFirst: true,\n\t\t\tisUrlFirst: true,\n\t\t\tisDescFirst: true,\n\t\t\tisImgFirst: true,\n\t\t\tisCatalogFirst: true,\n\t\t\tisTagFirst: true,\n\t\t\t\n\t\t}\n\t\tthis.state = {\n\t\t\tvisible: false,\n\t\t\tconfirmLoading: false,\n\t\t\t\n\t\t\t...this.initData,\n\t\t\t// data: {},\n\t\t\tcatalogList: [],\n\t\t\t// isEdit: props.isEdit\n\t\t};\n\t}\n\t\n\n\t// showModal = config => {\n\topen = config => {\n\t\t// console.log(this.state)\n\t\t/*const initData = {\n\t\t\tname: '',\n\t\t\turl: '',\n\t\t\tdesc: '',\n\t\t  imgfiles: null,\n\t\t\tcatalog: [],\n\t\t\timg: '',\t// 图片地址\n\t\t}*/\n\t\tthis.setState({\n\t\t\t// desc: '123',\n\t\t  visible: true,\n\t\t\t// ...initData,\n\t\t\t// descError: -1,\t\t// 因为\n\t\t  ...config,\n\t\t  desc: ContentUtils.insertHTML(this.state.desc, config.desc),\n\t\t});\n\t\t/*axios.get('/api/ip').then((res) => {\n\t\t\tconsole.log(res)\n\t\t})*/\n\t};\n\t\n\thandleSite = (status) => {\n\t\tthis.setState({confirmLoading: true})\n\t\tconst { isEdit } = this.props\n\t\tconst { name, url, desc, imgfiles, catalog, handleOk, /*handleError,*/ _id, img, tags } = this.state;\n\t\t// console.log(tags)\n\t\t\n\t\tlet formData = new FormData();\n\t\tformData.append('name', name);\n\t\tformData.append('url', url);\n\t\tformData.append('desc', desc.toHTML());\n\t\tformData.append('status', status);\n\t\t// formData.append('orgStatus', orgStatus);\n\t\tcatalog.forEach((it, index) => {\n\t\t\tformData.append(`catalog`, parseInt(it));\n\t\t})\n\t\ttags.forEach((it, index) => {\n\t\t\tformData.append(`tags`, it);\n\t\t})\n\n\t\tif (isEdit) {\n\t\t\tformData.append('_id', _id);\n\t\t\tif (imgfiles) {\n\t\t\t\tformData.append('img', imgfiles[0])\n\t\t\t} else {\n\t\t\t\tformData.append('img', img)\n\t\t\t}\n\t\t} else {\n\t\t\timgfiles && formData.append('img', imgfiles[0]);\n\t\t}\n\t\t// catalog.length > 0 && formData.append('catalog', catalog.join(','));\n\t\t// tags.length > 0 && formData.append('tags', tags.join(','));\n\t\t// window.abc = formData;\n\t\t;(isEdit ? editSite : addSite)(formData).then(data => {\n\t\t\t// return;\n\t\t\tthis.setState({confirmLoading: false})\n\t\t\thandleOk && handleOk();\n\t\t\tthis.handleOver();\n\t\t\tmessage.success(data.resultMessage)\n\t\t})/*.catch(res => {\n\t\t\thandleError && handleError(res);\n\t\t})*/.catch(data => {\n\t\t\tthis.setState({confirmLoading: false})\n\t\t})\n\t}\n\thandleOver = () => {\n\t\t\n\t\tthis.setState({\n\t\t\t...this.initData,\n\t\t  visible: false,\n\t\t});\n\t}\n\t// 上架\n\thandleSure = () => {\n\t\tthis.handleSite(1)\n\t};\n\t// 草稿\n\thandleDraft = () => {\n\t\tthis.handleSite(2)\n\t};\n\n\thandleCancel = () => {\n\t\tconst { isEdit } = this.props;\n\t\t// console.log(this.initData)\n\t\tif (isEdit) {\n\t\t\tthis.setState({\n\t\t\t\t...this.initData,\n\t\t\t\tvisible: false,\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tvisible: false,\n\t\t\t});\n\t\t}\n\t\t\n\t};\n\t\n\tcheckName = (name) => {\n\t\tconst nameStrlen = getStrChartLen(name);\n\t\tlet flag = -1\n\t\tif (nameStrlen > MAX_SIT_NAME) {\n\t\t\tflag = 0\n\t\t} else if (!isLegal(name)) {\n\t\t\tflag = 1\n\t\t} else if (name.length === 0) {\n\t\t\tflag = 2\n\t\t}\n\t\treturn flag;\n\t}\n\t\n\n\t/*componentDidMount () {\n\t\tconsole.log(process.env)\n\t\tthis.props.getCatalogList();\n\t}*/\n\n\tnameChange = e => {\n\t\tconst name = e.target.value;\n\t\tthis.setState({\n\t\t\tname,\n\t\t\tnameError: this.checkName(name),\n\t\t\tisNameFirst: false,\n\t\t})\n\t}\n\tnameBlur = () => {\n\t\tthis.setState({\n\t\t\tnameError: this.checkName(this.state.name)\n\t\t})\n\t}\n\t\n\turlChange = e => {\n\t\tconst url = e.target.value\n\t\tthis.setState({\n\t\t\turl,\n\t\t\tisUrlFirst: false,\n\t\t\tisUrlError: !checkUrl(url)\n\t\t})\n\t}\n\turlBlur = () => {\n\t\tthis.setState({\n\t\t\tisUrlError: !checkUrl(this.state.url)\n\t\t})\n\t}\n\tcheckImg (file) {\n\t\tlet flag = -1;\n\t\tif (file.size > MAX_IMG_SIZE) {\n\t\t\tflag = 1\n\t\t} else if (file.type.indexOf('image') === -1) {\n\t\t\tflag = 0\n\t\t}\n\t\treturn flag;\n\t}\n\tfileChange = e => {\n\t\tlet files;\n    if (e.dataTransfer) {\n      files = e.dataTransfer.files;\n    } else if (e.target) {\n      files = e.target.files;\n    }\n\t\tconst [file] = files\n\t\tconst imgError = this.checkImg(file);\n\t\tif (imgError !== -1) {\n\t\t\tthis.setState({\n\t\t\t\timgError\n\t\t\t})\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\timgfiles: files,\n\t\t\tisImgFirst: false,\n\t\t\timgError: -1,\n\t\t})\n\t\tgetBase64(file).then(res => {\n\t\t\t// console.log(res)\n\t\t\tthis.setState({\n\t\t\t\tpreviewImage: res\n\t\t\t})\n\t\t\tthis.fileInput.current.setAttribute('type', 'text');\n\t\t\tthis.fileInput.current.setAttribute('type', 'file');\n\t\t})\n\t\t// console.log(this.fileInput)\n\t\t\n\t}\n\t/*descChange = e => {\n\t\tconst desc = e.target.value\n\t\tthis.setState({\n\t\t\tdesc,\n\t\t\tisDescFirst: false,\n\t\t})\n\t}*/\n\n\tdescCheck = desc => {\n\t\t// const strlen = desc.toText().length;\n\t\tlet flag = -1\n\t\t/*if (strlen > MAX_SIT_DESC) {\n\t\t\tflag = 0\n\t\t} else */if (desc.isEmpty()) {\n\t\t\tflag = 1;\n\t\t}\n\t\treturn flag;\n\t}\n\thandleDescChange = (desc) => {\n    this.setState({\n      desc,\n      descError: this.descCheck(desc),\n      // descError: desc.isEmpty() ? 1 : -1,\n      isDescFirst: false,\n      // outputHTML: editorState.toHTML()\n    })\n  }\n\tdescBlur = () => {\n\t\tconst { desc } = this.state;\n\t\tthis.setState({\n\t\t\tdescError: this.descCheck(desc)\n\t\t})\n\t}\n\n\tcatalogChange = catalog => {\n\t\t// console.log(catalog)\n\t\tif (catalog.length > 3) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({\n\t\t\tcatalog,\n\t\t\tisCatalogFirst: false\n\t\t})\n\t}\n\ttagChange = tags => {\n\t\tif (tags.length > 5) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({tags, isTagFirst: false})\n\t}\n\n\t\n\trender() {\n    const { \n    \tvisible, confirmLoading, name, url, desc, catalog, catalogList, img, previewImage, tags,\n    \tnameError, isUrlError, imgError, descError,\n    \tisNameFirst, isUrlFirst, isImgFirst, isDescFirst, isCatalogFirst, isTagFirst\n    } = this.state;\n\t\tconst { isEdit } = this.props;\n    return (\n      <Modal\n      \twidth={700}\n      \tfooter={(\n      \t\t<div>\n      \t\t\t<Button onClick={this.handleCancel}>取消</Button>\n        \t\t<Button \n\t\t\t\t\t\t\tdisabled={(isNameFirst || isUrlFirst) ? true : (nameError!==-1 || isUrlError)}\n        \t\t\tloading={confirmLoading} onClick={this.handleDraft} type=\"primary\"\n        \t\t>保存为草稿</Button>\n        \t\t<Button \n\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t(isNameFirst || isUrlFirst || isImgFirst || isDescFirst || isCatalogFirst || isTagFirst) \n\t\t\t\t\t\t\t\t? true \n\t\t\t\t\t\t\t\t: (nameError!==-1 || isUrlError || isUrlError || descError !== -1 || imgError !== -1 || catalog.length === 0 || tags.length === 0)\n\t\t\t\t\t\t\t}\n        \t\t\tloading={confirmLoading} onClick={this.handleSure} type=\"primary\"\n        \t\t>上架</Button>\n      \t\t</div>\n      \t)}\n      \tbodyStyle={{padding: 0}}\n\t\t\t\tclassName=\"self-modal-wrapper\"\n\t\t\t\ttitle={(isEdit ? '编辑' : '新增')+'网站'}\n\t\t\t\tvisible={visible}\n\t\t\t\tmaskClosable={false}\n\t\t\t\tconfirmLoading={confirmLoading}\n\t\t\t\tonCancel={this.handleCancel}\n\t\t\t\t// onOk={this.handleSure}\n\t\t\t\t// okText=\"提交\"\n\t\t\t\t// cancelText=\"取消\"\n      >\n        <div className=\"self-wrapper flex\">\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>名称</label>\n\t\t\t\t\t\t<div className=\"self-text-wrapper\">\n\t\t\t\t\t\t\t<Popover placement=\"topLeft\" content={<div>{siteNameTip}</div>} trigger=\"focus\">\n\t\t\t\t\t\t\t\t<Input className={nameError !== -1 && 'error'} onBlur={this.nameBlur} onChange={this.nameChange} value={name} />\n\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tnameError !== -1 && <p className=\"error-tip\">{siteNameErrorText[nameError]}</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>地址</label>\n\t\t\t\t\t\t<div className=\"self-text-wrapper\">\n\t\t\t\t\t\t\t<Input className={isUrlError && 'error'} onBlur={this.urlBlur} onChange={this.urlChange} value={url} />\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tisUrlError && <p className=\"error-tip\">网址不合法</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>描述</label>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"self-text-wrapper\">\n\t\t\t\t\t\t\t<BraftEditorMax \n                controls={descControls}\n          \t\t\tclassName={\"normal-edit \" + (descError !== -1 ? 'error' : '')}\n\t\t            value={desc}\n                maxLen={MAX_SIT_DESC} \n                onBlur={this.descBlur}\n                onChange={this.handleDescChange} \n              />\n\t\t\t\t\t\t\t\n\t\t          {\n\t\t\t\t\t\t\t\tdescError !== -1 && <p className=\"error-tip\">{siteErrorText[descError]}</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>图片</label>\n\t\t\t\t\t\t<div className=\"self-text-wrapper\">\n\t\t\t\t\t\t\t{visible && <input ref={this.fileInput} id=\"uploadImg\" type=\"file\" style={{display: 'none'}} onChange={this.fileChange} accept=\"image/*\"/>}\n\t\t\t\t\t\t\t<Popover placement=\"topLeft\" content={<div>{siteImgTip}</div>} trigger=\"hover\">\n\t\t\t\t\t\t\t\t<label htmlFor=\"uploadImg\" className=\"img-ctn\">\n\t\t\t\t\t\t\t\t\t<img src={ previewImage ? previewImage : img ? (imgUrl + img) : defaultImg } alt=\"\"/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\timgError !== -1 && <p className=\"error-tip\">{siteImgErrorText[imgError]}</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>分类</label>\n\t\t\t\t\t\t<Select\n\t\t\t  \t\t\tmode=\"multiple\"\n\t\t        \tplaceholder=\"请选择网站分类, 最多3个\"\n\t\t        \tdefaultActiveFirstOption={false}\n\t\t        \t// filterOption={(val, opt) => !!opt}\n\t\t        \tvalue={catalog.map(n => n+'')}\n\t\t        \tonChange={this.catalogChange}\n\t\t        \tstyle={{ width: '100%' }}\n\t\t\t      >\n\t\t\t        {\n\t\t\t        \tcatalogList.map(it => <Option key={it._id}>{it.name}</Option>)\n\t\t\t        }\n\t\t        </Select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t<label>标签</label>\n\t\t\t\t\t\t<Select\n\t\t\t  \t\t\tmode=\"tags\"\n\t\t        \tplaceholder=\"请输入网站标签, 最多5个\"\n\t\t        \t// defaultActiveFirstOption={false}\n\t\t        \t// filterOption={(val, opt) => !!opt}\n\t\t        \tvalue={tags}\n\t\t        \tonChange={this.tagChange}\n\t\t        \tstyle={{ width: '100%' }}\n\t\t\t      >\n\t\t        </Select>\n\t\t\t\t\t</div>\n        </div>\n      \t\n      </Modal>\n\t  );\n\t}\n}\n\n/*\nconst mapStateToProps = state => {\n\tconst {catalogList} = state.systemComp\n\n  return {\n  \tcatalogList: catalogList.slice(1),\n  };\n};\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  \tgetCatalogList (params) {\n\t\t\treturn dispatch(getCatalogList(params))\n  \t},\n  };\n};\nAddWebSite = connect(mapStateToProps, mapDispatchToProps)(AddWebSite)*/\n\nlet div = document.createElement('div');\n// let props = {};\ndocument.body.appendChild(div);\n \nlet addWebSite = ReactDOM.render(React.createElement(\n    AddWebSite,\n    {\n    \tisEdit: false\n    }\n),div);\n\n\nlet div2 = document.createElement('div');\ndocument.body.appendChild(div2);\n\nlet editWebSite = ReactDOM.render(React.createElement(\n    AddWebSite,\n    {\n    \tisEdit: true\n    }\n),div2);\n\n\nexport {\n\taddWebSite,\n\teditWebSite\n};","import React, { Component, Fragment } from 'react';\r\n// import { isSystemPage } from '@/common/common'\r\nimport { connect } from 'react-redux'\r\nimport Register from '@/commonComp/logReg/Register'\r\nimport Login from '@/commonComp/logReg/Login'\r\nimport { addWebSite } from '@/components/AddWebSite/AddWebSite'\r\nimport { isLogOverdue } from '@/common/common'\r\n// import cookie from 'react-cookies'\r\nimport { withRouter } from \"react-router\";\r\nimport { setUsername, updateSiteMngData, getSiteList, getAllCatalog, getTop10SiteList, dispatchCatalogList } from '@/store/actions'\r\nimport { Link } from \"react-router-dom\";\r\nimport { Dropdown, Menu, Input, Button } from 'antd'\r\nimport { removeLoginCookie } from '@/commonComp/logReg/loginCookie'\r\nimport './Header.scss'\r\nimport { AccountNavRoute } from '@/common/Routers'\r\n// import { LOG_OVERDUE_CODE } from '@/common/constant'\r\nimport logo from '@/assets/images/logo.png'\r\nimport eventBus from '@/common/eventBus'\r\n// import CurContext from '@/components/ComContent/cur-context'\r\n\r\n\r\nclass Header extends Component {\r\n\r\n  componentDidMount () {\r\n    this.props.getAllCatalog()\r\n    this.props.getTop10SiteList()\r\n    this.props.dispatchCatalogList()\r\n    eventBus.on('logout#clear', res => {\r\n      // console.log(res)\r\n      if (isLogOverdue(res)) {\r\n        this.clear()\r\n      }\r\n    })\r\n    eventBus.on('logout#toHome', (res) => {\r\n      if (isLogOverdue(res)) {\r\n        this.toHome();\r\n      }\r\n    })\r\n\r\n    // console.log('header did mount')\r\n    // console.log(this.props)\r\n  }\r\n  \r\n  clear = () => {\r\n    removeLoginCookie();\r\n    this.props.setUsername('')\r\n  }\r\n\r\n  toHome = () => this.props.history.replace('/')\r\n\r\n  logout = () => {\r\n    this.clear();\r\n    this.toHome();\r\n  }\r\n  addNewSite = () => {\r\n    // const { catalog } = this.state;\r\n    // const catalog = parseInt(this.props.match.params.catalog) || -1\r\n    const { getSiteList, catalogList, pageIndex, pageSize, status, catalog } = this.props\r\n    addWebSite.open({\r\n      catalogList,\r\n      handleOk () {\r\n        getSiteList({ catalog, status, pageIndex, pageSize, isTotal: true, is_edit: true });\r\n      }/*,\r\n      handleError (res) {\r\n        if (isLogOverdue(res)) {\r\n          setUsername('')\r\n        }\r\n      }*/\r\n    });\r\n  }\r\n  \r\n  \r\n  // 搜索框\r\n  onSearch = value => {\r\n    const { history, isSystem, catalog } = this.props;\r\n  \r\n    history.push((isSystem ? '/system' : '') + '/' + (catalog === -1 ? 0 : catalog) +'/'+value)\r\n    /*const { updateSiteMngData } = this.props\r\n    // const catalog = parseInt(match.params.catalog) || -1\r\n    const { getSiteList, pageIndex, pageSize, status, catalog, isSystem } = this.props\r\n    const search = value\r\n    updateSiteMngData({\r\n      search \r\n    })\r\n    getSiteList({ catalog, status, pageIndex, pageSize, search, isTotal: true, is_edit: isSystem });*/\r\n  }\r\n\r\n  routerClick = () => {\r\n    const { isSystem } = this.props;\r\n    if (!isSystem) {\r\n      return\r\n    }\r\n    this.props.updateSiteMngData({\r\n      isSystem: false\r\n    })\r\n  }\r\n\r\n\trender() {\r\n    const { check_reply_num=0, isSystem, is_async, location: {pathname} } = this.props\r\n    // const isSystem = isSystemPage(match);\r\n    // const { checkReplyNum } = this.state;\r\n\r\n    const menu = (\r\n      <Menu className=\"user-setting-list\">\r\n        <Menu.Item><Link onClick={this.routerClick} to=\"/collect\">我的收藏</Link></Menu.Item>\r\n        <Menu.Item><Link onClick={this.routerClick} to=\"/replyme\">回复我的({check_reply_num})</Link></Menu.Item>\r\n        <Menu.Item><Link onClick={this.routerClick} to={AccountNavRoute[0].path} >账号管理</Link></Menu.Item>\r\n        <Menu.Item><Link to=\"/system/0\">页面管理</Link></Menu.Item>\r\n        <Menu.Item><span className=\"link-a\" onClick={this.logout}>退出</span></Menu.Item>\r\n      </Menu>\r\n    )\r\n\t\tconst { user_name } = this.props\r\n    return (\r\n      <div className=\"header\">\r\n        <div className=\"max-container\">\r\n          <div className=\"logo-ctn\">\r\n            <Link className=\"logo\" to=\"/\"><img src={logo} alt=\"首页\"/></Link>\r\n            <ul className=\"top-nav-list\">\r\n              <li><Link onClick={this.routerClick} to=\"/\">首页</Link></li>\r\n              <li><Link onClick={this.routerClick} to=\"/feedback\">用户体验</Link></li>\r\n              <li><Link onClick={this.routerClick} to=\"/standard\">收录标准</Link></li>\r\n              {\r\n                is_async && \r\n                <Fragment>\r\n                  <li><Link onClick={this.routerClick}  to=\"/system/0\" >页面管理</Link></li>\r\n                  <li><Link onClick={this.routerClick}  to=\"/catalogmng\" >分类管理</Link></li>\r\n                  <li><Link onClick={this.routerClick}  to=\"/noticemng\" >公告管理</Link></li>\r\n                </Fragment>\r\n              }\r\n            </ul>\r\n          </div>\r\n          <div className=\"user-ctn\">\r\n            <Input.Search placeholder=\"请输入关键词\" onSearch={this.onSearch} style={{width: 200}}  enterButton />\r\n          \t{\r\n              user_name \r\n              ? (<Fragment>\r\n                  {\r\n                    isSystem && \r\n                      <Button type=\"link\" onClick={this.addNewSite}>新增网站</Button>\r\n                  }\r\n\r\n                  <Dropdown overlay={menu} placement=\"bottomRight\" >\r\n                    <Button type=\"link\" className=\"user-btn\">{user_name}({check_reply_num})</Button>\r\n                  </Dropdown>\r\n                </Fragment>) \r\n              : (<Fragment><Login pathname={pathname} /><Register /></Fragment>)\r\n            }\r\n          </div>\r\n        </div>\r\n        \r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n\tconst { user_name, check_reply_num, is_async } = state.com\r\n  const { pageIndex, pageSize, catalogList, status, catalog, isSystem } = state.siteMng\r\n  return {\r\n  \tuser_name, check_reply_num, is_async,\r\n    pageIndex, pageSize, catalogList, status, catalog, isSystem\r\n  };\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tsetUsername (name) {\r\n\t\t\treturn dispatch(setUsername(name))\r\n  \t},\r\n    updateSiteMngData (data) {\r\n      return dispatch(updateSiteMngData(data))\r\n    },\r\n    getSiteList (params) {\r\n      return dispatch(getSiteList(params))\r\n    },\r\n    dispatchCatalogList (params) {\r\n      return dispatch(dispatchCatalogList(params))\r\n    },\r\n    getAllCatalog (params) {\r\n      return dispatch(getAllCatalog(params))\r\n    },\r\n    getTop10SiteList (params) {\r\n      return dispatch(getTop10SiteList(params))\r\n    },\r\n  };\r\n};\r\n// Header = connect(mapStateToProps, mapDispatchToProps)(Header)\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));\r\n","import React, { Component } from 'react';\r\nimport './Footer.scss'\r\n\r\nclass Footer extends Component {\r\n\r\n\trender() {\r\n    const year = new Date().getFullYear();\r\n    return (\r\n      <div className=\"footer\">\r\n        <div className=\"max-container\">\r\n          ©{year} ∵\r\n        </div>\r\n        \r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default Footer;\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport { Menu } from 'antd';\r\nimport { Link } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n// import { isSystemPage } from '@/common/common'\r\n// import { updateSiteMngData } from '@/store/actions'\r\n\r\n// const { SubMenu } = Menu;\r\n\r\nclass RightNav extends Component {\r\n\t/*constructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tkeys: props.defaultSelectedKeys\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount () {\r\n\t\tthis.props.getCatalogList();\r\n\t}*/\r\n\t/*rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\r\n  state = {\r\n    openKeys: ['sub1'],\r\n  };*/\r\n\r\n  /*onOpenChange = openKeys => {\r\n    const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\r\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n      this.setState({ openKeys });\r\n    } else {\r\n      this.setState({\r\n        openKeys: latestOpenKey ? [latestOpenKey] : [],\r\n      });\r\n    }\r\n  };*/\r\n\trender () {\r\n\t\tconst { catalogListSite, match: { params: { catalog/*, search=''*/ } }, isSystem } = this.props;\r\n\t\t// console.log(match.params.catalog)\r\n    // const isSystem = isSystemPage(match)\r\n\t\treturn (\r\n      <div className=\"nav-list catalog-nav\">\r\n        <div className=\"title\">分类</div>\r\n  \t\t\t<Menu\r\n          // mode=\"inline\"\r\n          // theme=\"dark\"\r\n          selectedKeys={[catalog]}\r\n          // onOpenChange={this.onOpenChange}\r\n          // onSelect={onSelect}\r\n          style={{ width: 256 }}\r\n        >\r\n        \t{\r\n        \t\tcatalogListSite.map(({_id, name, total}) => \r\n              <Menu.Item key={_id}>\r\n                <Link to={(isSystem ? '/system' : '') + '/' + _id /*+ '/' + search*/} >{name} { total && !isSystem ? `(${total})` : ''}</Link>\r\n              </Menu.Item>\r\n            )\r\n        \t}\r\n          \r\n        </Menu>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = state => {\r\n\tconst { catalogListSite } = state.siteMng\r\n  // const total = catalogListSite.reduce((a, p) => a + p.total, 0)\r\n  return {\r\n  \tcatalogListSite: [{_id: 0, name: '全部'} ,...catalogListSite],\r\n  };\r\n};\r\n\r\n\r\n/*const mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tupdateSiteMngData (data) {\r\n\t\t\treturn dispatch(updateSiteMngData(data))\r\n  \t},\r\n  };\r\n};*/\r\nexport default withRouter(connect(mapStateToProps, null)(RightNav));\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport { Menu } from 'antd';\r\n// import { withRouter } from \"react-router\";\r\nimport { statusArr } from '@/common/constant'\r\nimport { getSiteList, updateSiteMngData } from '@/store/actions'\r\n\r\n// const { SubMenu } = Menu;\r\n\r\nclass StatusNav extends Component {\r\n\t\r\n  onSelect = (a, b, c) => {\r\n    const { pageSize, catalog, search } = this.props;\r\n    const { updateDate, getSiteList } = this.props;\r\n    const status = parseInt(a.key)\r\n    updateDate({\r\n      status,\r\n      pageIndex: 1\r\n    })\r\n    getSiteList({catalog, status, pageIndex: 1, pageSize, search, isTotal: true, is_edit: true});\r\n    // console.log(a, b, c)\r\n  }\r\n\trender () {\r\n\t\tconst { status } = this.props;\r\n\t\t// console.log(match.params.catalog)\r\n\t\treturn (\r\n      <div className=\"nav-list status-nav\">\r\n        <div className=\"title\">状态</div>\r\n  \t\t\t<Menu\r\n          // mode=\"inline\"\r\n          // theme=\"dark\"\r\n          selectedKeys={[status+'']}\r\n          // onOpenChange={this.onOpenChange}\r\n          onSelect={this.onSelect}\r\n          style={{ width: 256 }}\r\n        >\r\n        \t{\r\n        \t\t[{id: -1, name: '全部'}, ...statusArr].map(({id, name}) => <Menu.Item key={id}>{name}</Menu.Item>)\r\n        \t}\r\n          \r\n        </Menu>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = state => {\r\n  const { pageSize, catalog, status, search } = state.siteMng\r\n  return {\r\n    pageSize, catalog, search,\r\n    status,\r\n  };\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    updateDate (data) {\r\n      return dispatch(updateSiteMngData(data))\r\n    },\r\n  \tgetSiteList (params) {\r\n      return dispatch(getSiteList(params))\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StatusNav);\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\n// import { Menu } from 'antd';\r\nimport { Link } from \"react-router-dom\";\r\n// import { getTop10SiteList } from '@/store/actions'\r\nimport { addView } from '@/store/actions'\r\n\r\n// const { SubMenu } = Menu;\r\n\r\nclass Top10Site extends Component {\r\n\t/*constructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tkeys: props.defaultSelectedKeys\r\n\t\t}\r\n\t}\r\n\t*/\r\n\t/*rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\r\n  state = {\r\n    openKeys: ['sub1'],\r\n  };*/\r\n\r\n  /*onOpenChange = openKeys => {\r\n    const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\r\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n      this.setState({ openKeys });\r\n    } else {\r\n      this.setState({\r\n        openKeys: latestOpenKey ? [latestOpenKey] : [],\r\n      });\r\n    }\r\n  };*/\r\n  /*componentDidMount () {\r\n    console.log('Top10Site mounted')\r\n  }*/\r\n\trender () {\r\n\t\tconst { top10List } = this.props;\r\n\t\treturn (\r\n      <div className=\"top10-list nav-list\">\r\n        <div className=\"title\">本月最热</div>\r\n  \t\t\t<ul\r\n          // mode=\"inline\"\r\n          // theme=\"dark\"\r\n          // defaultSelectedKeys={this.props.defaultSelectedKeys}\r\n          // onOpenChange={this.onOpenChange}\r\n          // onSelect={onSelect}\r\n          style={{ width: 256 }}\r\n        >\r\n        \t{\r\n        \t\ttop10List.map(({_id, name, url}) => \r\n              <li key={_id}>\r\n                <Link className=\"underline\" to={'/sitedetail/'+_id} onClick={() => addView({_id})}>{name}</Link>\r\n              </li>)\r\n        \t}\r\n          \r\n        </ul>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = state => {\r\n\tconst { top10List } = state.siteMng\r\n  return {\r\n  \ttop10List,\r\n  };\r\n};\r\n\r\n\r\n/*const mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tgetTop10SiteList (params) {\r\n\t\t\treturn dispatch(getTop10SiteList(params))\r\n  \t},\r\n  };\r\n};*/\r\nexport default connect(mapStateToProps, null)(Top10Site);\r\n","import React, { Component, Fragment } from 'react';\r\nimport defaultFace from '@/assets/images/face.png'\r\nimport './Comment.scss'\r\nimport { Link } from \"react-router-dom\";\r\nimport { dateForNow } from '@/common/common'\r\nimport url from '@/common/api'\r\n\r\nclass Comment extends Component {\r\n \r\n  render() {\r\n    const { data, children, notOnlyShow } = this.props;\r\n    const { user_face, user_name, to_user_name, content, create_time, site_id } = data;\r\n\r\n    const contentDiv = <div className=\"comment-content-detail\" >{content}</div>\r\n    return (\r\n      <div className=\"comment-item\">\r\n        <div className=\"comment-box\">\r\n          <div className=\"comment-avatar\">\r\n            <img src={user_face ? url + user_face : defaultFace} alt=\"头像\"/>\r\n          </div>\r\n          <div className=\"comment-rich\">\r\n            <div className=\"comment-content-author\">\r\n              <span>{user_name}</span>\r\n              {to_user_name && <Fragment><b>回复:</b><span>{to_user_name}</span></Fragment>}\r\n              <span className=\"comment-content-author-time\">{notOnlyShow ? dateForNow(create_time) : create_time}</span>\r\n            </div>\r\n            {\r\n              notOnlyShow ? <Link to={'/sitedetail/'+site_id} className=\"underline\" >{contentDiv}</Link> : contentDiv\r\n            }\r\n            \r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Comment;\r\n","import React, { Component } from 'react';\r\nimport { getNewestCommit } from '@/store/actions'\r\nimport CommentItem from '@/commonComp/CommentItem'\r\n// import './NewestCommit.scss'\r\n\r\nclass NewestCommit extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      commitList: [],\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    getNewestCommit().then(({result}) => this.setState({ commitList: result }))\r\n  }\r\n \r\n\r\n  \r\n\r\n  render() {\r\n    const { commitList } = this.state;\r\n    return (\r\n      <div className=\"newest-comment-wrapper comment-container nav-list\">\r\n        <h3 className=\"title\">最新评论</h3>\r\n        <div className=\"comment-list\">\r\n          {\r\n            commitList.map(it => <CommentItem key={it._id} data={it} notOnlyShow={true} />)\r\n          }\r\n        </div>\r\n      </div>\r\n         \r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default NewestCommit;\r\n","import React, {Component} from 'react';\r\nimport { Menu } from 'antd';\r\nimport { Link } from \"react-router-dom\";\r\nimport { AccountNavRoute } from '@/common/Routers'\r\n\r\n\r\n\r\nclass AccountNav extends Component {\r\n\t\r\n\trender () {\r\n\t\t// const { catalogList, match } = this.props;\r\n\t\t// console.log(match.params.catalog)\r\n\t\treturn (\r\n      <div className=\"nav-list\">\r\n  \t\t\t<Menu\r\n          // mode=\"inline\"\r\n          // theme=\"dark\"\r\n          // selectedKeys={[match.params.catalog]}\r\n          // onOpenChange={this.onOpenChange}\r\n          // onSelect={onSelect}\r\n          style={{ width: 256 }}\r\n        >\r\n        \t{\r\n        \t\tAccountNavRoute.map(({path, name}, index) => <Menu.Item key={index}><Link to={path} >{name}</Link></Menu.Item>)\r\n        \t}\r\n          \r\n        </Menu>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default AccountNav;\r\n","import React, {Component} from 'react';\r\n// import {connect} from 'react-redux'\r\nimport { Menu } from 'antd';\r\nimport { Link } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\n// import { isSystemPage } from '@/common/common'\r\nimport { getCatalogList } from '@/store/actions'\r\n\r\n// const { SubMenu } = Menu;\r\n\r\nclass CollectRightNav extends Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tlist: []\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount () {\r\n    // console.log('abcdefg')\r\n    getCatalogList({type: 'collect'}).then(res => {\r\n      const { list } = res.result\r\n      this.setState({ list: [{_id: 0, name: '全部'}, ...list] })\r\n    })\r\n\t\t \r\n\t}\r\n\t/*rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\r\n  state = {\r\n    openKeys: ['sub1'],\r\n  };*/\r\n\r\n  /*onOpenChange = openKeys => {\r\n    const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\r\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n      this.setState({ openKeys });\r\n    } else {\r\n      this.setState({\r\n        openKeys: latestOpenKey ? [latestOpenKey] : [],\r\n      });\r\n    }\r\n  };*/\r\n\trender () {\r\n\t\tconst { list } = this.state;\r\n\t\t// console.log(match.params.catalog)\r\n    // const isSystem = isSystemPage(match)\r\n\t\treturn (\r\n      <div className=\"nav-list catalog-nav\">\r\n        <div className=\"title\">收藏分类</div>\r\n  \t\t\t<Menu\r\n          // mode=\"inline\"\r\n          // theme=\"dark\"\r\n          selectedKeys={['catalog']}\r\n          // onOpenChange={this.onOpenChange}\r\n          // onSelect={onSelect}\r\n          style={{ width: 256 }}\r\n        >\r\n        \t{\r\n        \t\tlist.map(({_id, name, total}) => \r\n              <Menu.Item key={_id}>\r\n                <Link to={'/collect/'+_id}>{name} { total ? `(${total})` : ''}</Link>\r\n              </Menu.Item>\r\n            )\r\n        \t}\r\n          \r\n        </Menu>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\n/*const mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tupdateSiteMngData (data) {\r\n\t\t\treturn dispatch(updateSiteMngData(data))\r\n  \t},\r\n  };\r\n};*/\r\nexport default withRouter(CollectRightNav);\r\n","import React, {Component} from 'react';\r\n// import {connect} from 'react-redux'\r\n// import { Menu } from 'antd';\r\n// import { Link } from \"react-router-dom\";\r\n// import { withRouter } from \"react-router\";\r\n// import { isSystemPage } from '@/common/common'\r\nimport { getNoticeList } from '@/store/actions'\r\n\r\n// const { SubMenu } = Menu;\r\n\r\nclass Notice extends Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdata: {}\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount () {\r\n    getNoticeList({pageIndex: 1, pageSize: 1}).then(res => {\r\n\r\n      this.setState({data: res.result.list[0] || {}})\r\n    })\r\n\t}\r\n\t/*rootSubmenuKeys = ['sub1', 'sub2', 'sub4'];\r\n  state = {\r\n    openKeys: ['sub1'],\r\n  };*/\r\n\r\n  /*onOpenChange = openKeys => {\r\n    const latestOpenKey = openKeys.find(key => this.state.openKeys.indexOf(key) === -1);\r\n    if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\r\n      this.setState({ openKeys });\r\n    } else {\r\n      this.setState({\r\n        openKeys: latestOpenKey ? [latestOpenKey] : [],\r\n      });\r\n    }\r\n  };*/\r\n\trender () {\r\n\t\tconst { data: { content, create_time } } = this.state;\r\n\t\t// console.log(match.params.catalog)\r\n    // const isSystem = isSystemPage(match)\r\n\t\treturn (\r\n      !!content && <div className=\"top-notice\">\r\n        <div className=\"title\">最新公告 </div>\r\n        <span className=\"time\" >发布时间： {create_time}</span>\r\n  \t\t\t<div>\r\n          <span className=\"time\">内容：</span>{content}\r\n        </div>\r\n      </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default Notice;\r\n","import React, { Component, Fragment } from 'react';\r\nimport RightNav from './RightNav'\r\nimport StatusNav from './StatusNav'\r\nimport Top10Site from './Top10Site'\r\nimport NewestCommit from './NewestCommit'\r\nimport AccountNav from './AccountNav'\r\nimport CollectRightNav from './CollectRightNav'\r\nimport Notice from './Notice'\r\n// import {connect} from 'react-redux'\r\n// import { Input } from 'antd';\r\n// import { withRouter } from \"react-router\";\r\n// import { connect } from 'react-redux'\r\n// import { updateSiteMngData } from '@/store/actions'\r\n\r\n\r\nimport './RightComp.scss';\r\n\r\nclass RightComp extends Component {\r\n  /*componentDidMount () {\r\n    // console.log(this.props)\r\n    console.log('RightComp did mount')\r\n  }*/\r\n  // 搜索框\r\n  /*onSearch = value => {\r\n    const { location, history, isSystem, match: { params: { catalog=0 } } } = this.props;\r\n  \r\n    history.push((isSystem ? '/system' : '') + '/' + catalog +'/'+value)\r\n  }*/\r\n\r\n  render () {\r\n\t\tconst { isSystem, isAccount, isCollect/*, match: { params: { search='' } }*/ } = this.props\r\n  \t// const { visible, confirmLoading } = this.state;\r\n  \t// console.log(current)\r\n  \treturn (\r\n\t\t\t<div className=\"right-content\">\r\n        <Notice />\r\n        {\r\n          isAccount \r\n          ? <AccountNav />\r\n          : (\r\n            <Fragment>\r\n              {/*<Input.Search className=\"search-btn\" placeholder=\"请输入关键词\" defaultValue={search} onSearch={this.onSearch} enterButton />*/}\r\n              {\r\n                isSystem ? <StatusNav /> : <Top10Site />\r\n              }\r\n              {\r\n                isCollect ? <CollectRightNav /> : <RightNav isSystem={isSystem} />\r\n              }\r\n              \r\n              <NewestCommit />\r\n            </Fragment>\r\n          )\r\n\r\n        }\r\n\t\t\t</div>\r\n\t  )\r\n  }\r\n}\r\n/*const mapStateToProps = state => {\r\n  const { catalogListSite } = state.siteMng\r\n  // const total = catalogListSite.reduce((a, p) => a + p.total, 0)\r\n  return {\r\n    catalogListSite: [{_id: 0, name: '全部'} ,...catalogListSite],\r\n  };\r\n};*/\r\n\r\n/*const mapStateToProps = state => {\r\n  const { search } = state.siteMng\r\n  return {\r\n    search\r\n  };\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    updateSiteMngData (data) {\r\n      return dispatch(updateSiteMngData(data))\r\n    },\r\n  };\r\n};*/\r\n// export default withRouter(RightComp);\r\nexport default RightComp;\r\n","import React from 'react';\r\n\r\nconst CurContext = React.createContext({\r\n  handleOk: () => {},\t\t// 获取网站列表\r\n  // collectClick: () => {},\t// 点击收藏\r\n});\r\nexport default CurContext;","import React, {Component} from 'react';\r\nimport { Modal } from 'antd';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Dialog extends Component {\r\n\tstate = {\r\n\t\tconfirmLoading: false,\r\n\t\tvisible: false,\r\n\t\ttitle: '',\r\n\t\tcontent: '',\r\n\t}\r\n\topen = (config={}) => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\t...config,\r\n\t\t})\r\n\t}\r\n\tshowLoading = () => {\r\n\t\tthis.setState({\r\n\t\t\tconfirmLoading: true,\r\n\t\t})\r\n\t}\r\n\thideLoading = () => {\r\n\t\tthis.setState({\r\n\t\t\tconfirmLoading: false,\r\n\t\t})\r\n\t}\r\n\tclose = () => {\r\n\t\tthis.setState({\r\n\t\t\tconfirmLoading: false,\r\n\t\t\tvisible: false,\r\n\t\t\tfooter: undefined,\r\n\t\t})\r\n\t}\r\n\trender () {\r\n\t\tconst {content} = this.state;\r\n\t\treturn (\r\n\t\t\t<Modal\r\n\t\t\t\t{...this.state}\r\n\t\t\t  // title={title}\r\n\t\t\t  // footer={footer}\r\n\t\t\t  maskClosable={false}\r\n\t\t\t  // visible={visible}\r\n\t\t\t  // onOk={onOk}\r\n\t\t\t  // confirmLoading={confirmLoading}\r\n\t\t\t  okText=\"确定\"\r\n\t\t\t\tcancelText=\"取消\"\r\n\t\t\t  onCancel={this.close}\r\n\t\t\t>\r\n\t\t\t  <p>{content}</p>\r\n\t\t\t</Modal>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nlet div = document.createElement('div');\r\nlet props = {\r\n   \r\n};\r\ndocument.body.appendChild(div);\r\n \r\nlet Box = ReactDOM.render(React.createElement(\r\n    Dialog,\r\n    props\r\n),div);\r\n \r\nexport default Box;","import React, {Component} from 'react';\r\nimport { CloseOutlined, VerticalAlignBottomOutlined } from '@ant-design/icons'\r\nimport Dialog from '@/commonComp/Dialog'\r\nimport {connect} from 'react-redux'\r\nimport { message } from 'antd';\r\n// import cookie from 'react-cookies';\r\n// import url from '@/common/api'\r\nimport { NORMAL_CODE } from '@/common/constant'\r\nimport { delSite, updateSiteMngData, getSiteList } from '@/store/actions'\r\n\r\n\r\nclass CloseIcon extends Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tshowModel = () => {\r\n\r\n\t\tconst { data, updateSiteMngData, pageIndex: tPageindex, siteTotal, pageSize, catalog, getSiteList, status: listStatus } = this.props;\r\n\t\tconst { _id, status, name } = data;\r\n\t\tconst isdown = status === NORMAL_CODE;\r\n\t\tconst txt = isdown ? '下架' : '删除'\r\n\t\tlet pageIndex = tPageindex\r\n\t\tif (!isdown) {\r\n\t\t\tconst maxPages = Math.ceil((siteTotal-1) / pageSize)\r\n\t\t\tpageIndex = isdown ? tPageindex > maxPages ? maxPages : tPageindex : tPageindex;\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tDialog.open({\r\n\t\t\ttitle: txt,\r\n\t\t\tcontent: <span>确定{txt}“<span style={{color: '#F55'}}>{name}</span>”该网站吗？</span>,\r\n\t\t\t// footer: true,\r\n\t\t\tonOk () {\r\n\t\t\t\tDialog.showLoading();\r\n\t\t\t\tdelSite({_id, status }).then(res => {\r\n\t\t    \t// handleOk && handleOk(1)\r\n\t\t    \tupdateSiteMngData({ pageIndex })\r\n\t\t\t\t\tmessage.success(txt + '成功')\r\n\t\t\t\t\tgetSiteList({catalog, status: listStatus , pageIndex, pageSize, isTotal: true, is_edit: true});\r\n\t      \tDialog.close();\r\n\t\t    }).catch(res => {\r\n\t\t    \tDialog.hideLoading();\r\n\t\t    })\r\n\t\t\t}\r\n\t\t});\r\n\t\t// closeClick\r\n\t}\r\n\trender () {\r\n\t\t// console.log(this.props)\r\n\t\tconst { data } = this.props;\r\n\r\n\t\tconst {status} = data;\r\n\r\n\t\treturn (\r\n\t\t\t\tstatus === NORMAL_CODE\r\n\t\t\t\t? <VerticalAlignBottomOutlined title=\"下架\" onClick={this.showModel} />\r\n\t\t\t\t: <CloseOutlined title=\"删除\" style={{color: '#fff'}} onClick={this.showModel} />\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = state => {\r\n\tconst { siteList, siteTotal, pageIndex, pageSize, catalog, status } = state.siteMng\r\n  return {\r\n  \tsiteList,\r\n  \tsiteTotal,\r\n  \tpageIndex, pageSize, catalog,\r\n  \tstatus,\r\n  };\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tupdateSiteMngData (data) {\r\n  \t\treturn dispatch(updateSiteMngData(data))\r\n  \t},\r\n  \tgetSiteList (params) {\r\n\t\t\treturn dispatch(getSiteList(params))\r\n  \t},\r\n  };\r\n};\r\n// export default ComContent;\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CloseIcon);\r\n// export default CloseIcon;","import React, { Component, Fragment} from 'react';\r\nimport './SiteItem.scss'\r\nimport { EditOutlined, HeartFilled } from '@ant-design/icons'\r\nimport { getStatus, getCeil5 } from '@/common/common'\r\nimport { NORMAL_CODE } from '@/common/constant'\r\n// import Dialog from '@/commonComp/Dialog'\r\nimport imgurl from '@/common/api'\r\n// import cookie from 'react-cookies'\r\nimport { setRate, addView } from '@/store/actions'\r\nimport { Rate, Spin, Tooltip } from 'antd';\r\nimport {editWebSite} from '@/components/AddWebSite/AddWebSite'\r\nimport CurContext from '@/provider/cur-context'\r\nimport { connect } from 'react-redux'\r\n\r\nimport DelIcon from './Icons/DelIcon'\r\nimport { Link } from \"react-router-dom\";\r\n// import eventBus from '@/common/eventBus'\r\n\r\n\r\nclass SiteItem extends Component {\r\n\tstatic contextType = CurContext;\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\trate: props.data.rate,\r\n\t\t\tisCollected: props.data.isCollected,\t\t// 是否收藏\r\n\t\t\t// viewsCount: props.data.views,\r\n\t\t\tisRating: false,\r\n\t\t\tisCollecting: false,\r\n\t\t\t// hasRated: false,\r\n\t\t}\r\n\t}\r\n\t/*static getDerivedStateFromProps (props, state) {\r\n\t\tconsole.log(props, state)\r\n\t\tif ((props.data || {}).isCollected !== state.isCollected) {\r\n\t\t\treturn {\r\n\t\t\t\tisCollected: props.data.isCollected\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}*/\r\n\t// 评价\r\n\trateChange = value => {\r\n\t\tconst site_id = this.props.data._id;\r\n\t\tthis.setState({\r\n\t\t\tisRating: true,\r\n\t\t})\r\n\t\t/*setTimeout(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisRating: false,\r\n\t\t\t})\r\n\t\t}, 3000)\r\n\t\treturn;*/\r\n\t\tsetRate({\r\n\t\t\tsite_id,\r\n\t\t\t// user_ip: cookie.load('userIp'),\r\n\t\t\tvalue\r\n\t\t}).then(res => {\r\n\t\t\tthis.setState({ isRating: false })\r\n\t\t\tthis.setState((prevState) => {\r\n\t\t\t\tconst { value: tval, length } = prevState.rate;\r\n\t\t\t\treturn {\r\n\t\t\t\t\trate: {\r\n\t\t\t\t\t\tisRated: true,\r\n\t\t\t\t\t\tvalue: tval + value, \r\n\t\t\t\t\t\tlength: length+ 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}).catch(res => this.setState({ isRating: false }))\r\n\t\t\r\n\t}\r\n\t// 跳转页面并计算点击量\r\n\tlinkTo = () => {\r\n\t\tconst { _id } = this.props.data;\r\n\t\taddView({_id})/*.then(data => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tviewsCount: data.result\r\n\t\t\t})\r\n\t\t})*/\r\n\t\t// window.open(url)\r\n\t}\r\n\t// 编辑弹窗\r\n\teditClick = () => {\r\n\t\tconst ctx = this.context;\r\n\t\tconst { data, catalogList } = this.props;\r\n\t\teditWebSite.open({\r\n\t    catalogList,\r\n\t\t\t...data,\r\n\t\t\tisNameFirst: false,\r\n\t\t\tisUrlFirst: false,\r\n\t\t\tisDescFirst: false,\r\n\t\t\tisImgFirst: !data.img,\r\n\t\t\tisCatalogFirst: false,\r\n\t\t\tisTagFirst: false,\r\n\t\t\thandleOk: ctx.handleOk,\r\n\t\t\t/*handleError (res) {\r\n        eventBus.emit('logout#clear', res)\r\n      }*/\r\n\t\t})\r\n\t}\r\n\t/*collectClick = () => {\r\n\t\tconst { data: { _id }, setUsername } = this.props\r\n\t\tconst { isCollected } = this.state;\r\n\t\tthis.setState({ isCollecting: true })\r\n\t\tcollectSite({_id}).then(res => {\r\n\t\t\t// console.log(res)\r\n\t\t\tthis.setState({\r\n\t\t\t\tisCollected: !isCollected\r\n\t\t\t})\r\n\t\t}).catch(res => {\r\n\t\t\tif (res.resultCode === LOG_OVERDUE_CODE) {\r\n        setUsername('')\r\n      }\r\n\t\t}).finally(() => this.setState({ isCollecting: false }))\r\n\t}*/\r\n\r\n\temitCollectClick = () => {\r\n\t\tconst { data: { _id }, collectClick } = this.props\r\n\t\tthis.setState({isCollecting: true})\r\n\t\tcollectClick && collectClick(_id)\r\n\t\t\t// .catch(res => eventBus.emit('logout#clear', res))\r\n\t\t\t.finally(res => this.setState({isCollecting: false}))\r\n\t}\r\n\trender () {\r\n\t\t// const ctx = this.context;\r\n\t\t// console.log(ctx);\r\n\t\tconst { data, isSystem, catalogMap, is_async, onlyShow, isCollected } = this.props;\r\n\t\t// console.log('is_async', is_async)\r\n\t\tconst { isRating, rate, isCollecting } = this.state;\r\n\t\t// console.log(isCollected)\r\n\t\t\r\n\t\t// console.log(catalogMap)\r\n\t\tconst rateval = rate.value / rate.length || 0;\r\n\t\tconst { _id, name, url, status, desc, img, create_time, catalog=[], tags: ttags, create_user_name, views, commit_total } = data;\r\n\t\tconst tags = ttags || [];\r\n\t\tconst isNormal = status === NORMAL_CODE\r\n\t\t// <div className=\"rich-content-text\" dangerouslySetInnerHTML={{__html: desc}} ></div>\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className={\"site-item \" + (onlyShow ? 'only-show' : '')}>\r\n\t\t\t\t{/*<Skeleton avatar  active paragraph={{ rows: 3 }} loading={false} >*/}\r\n\t\t\t\t\t\r\n\t\t\t\t\t<h2 className=\"site-title\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tisNormal ? <Link to={'/sitedetail/' + _id}>{name}</Link> : <span >{name} {getStatus(status)}</span>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{/*<Tooltip placement=\"right\" title={`点击跳转`}>\r\n\t\t\t\t\t\t\t<a className=\"underline\" href={site_url} rel=\"noopener noreferrer\" target=\"_blank\" onClick={this.linkTo}>{name} {getStatus(status)}</a>\r\n\t\t\t\t\t\t</Tooltip>*/}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tisSystem \r\n\t\t\t\t\t\t\t\t? ((isNormal ? is_async : true) && <span><EditOutlined title=\"编辑\" onClick={this.editClick} style={{marginRight: 8}} /><DelIcon data={data} /></span>) \r\n\t\t\t\t\t\t\t\t: <Tooltip placement=\"top\" title={isCollected ? '取消收藏' : '收藏'}>\r\n\t\t\t\t\t\t\t\t\t\t<Spin spinning={isCollecting} size=\"small\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<HeartFilled className={\"icon \" + (/*isCollecting ? 'disabled' : */isCollected ? 'active' : '')} onClick={this.emitCollectClick} />\r\n\t\t\t        \t\t\t</Spin>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<p className=\"sit-sub-text\">hot {views}°C</p>\r\n\t\t\t\t\t<div className=\"rich-head\">\r\n\t\t\t\t\t\t<Spin spinning={isRating} size=\"small\" >\r\n\t\t\t\t\t\t\t<span>评分: </span><Rate disabled={rate.isRated} value={getCeil5(rateval)} allowHalf onChange={this.rateChange} />\r\n\t\t        </Spin>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"rich-content\">\r\n\t\t\t\t\t\t<div className=\"rich-content-text\" dangerouslySetInnerHTML={{__html: desc}} ></div>\r\n\t\t\t\t\t\t<div className=\"rich-content-cover\">\r\n\t\t\t\t\t\t\t<div className=\"rich-content-cover-inner\">\r\n\t\t\t\t\t\t\t\t{img && <img src={imgurl + img} alt=\"网页展示图\"/>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"rich-footer\">\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>地址：<a className=\"underline color-blue\" href={url} rel=\"noopener noreferrer\" target=\"_blank\" onClick={this.linkTo}>{url}</a></li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t分类： \r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tcatalog.map((id, index) => \r\n\t\t\t\t\t\t\t\t\t\t\t<Fragment key={id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={'/' + id}>{catalogMap[id]}</Link> \r\n\t\t\t\t\t\t\t\t\t\t\t\t{index !== catalog.length - 1 && '、'}\r\n\t\t\t\t\t\t\t\t\t\t\t</Fragment>) \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t标签： \r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttags.map((name, index) => \r\n\t\t\t\t\t\t\t\t\t\t\t<Fragment key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={'/tag/' + name}>{name}</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{index !== tags.length - 1 && '、'}\r\n\t\t\t\t\t\t\t\t\t\t\t</Fragment>) \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>作者：{create_user_name}</li>\r\n\t\t\t\t\t\t\t\t<li>发布时间：{create_time}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tisNormal && !onlyShow && \r\n\t\t\t\t\t\t\t\t<div className=\"align-right\">\r\n\t\t\t\t\t\t\t\t\t<Link className=\"link-to\" to={'/sitedetail/'+_id} >查看评论({commit_total})</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{/*</Skeleton>*/}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = state => {\r\n\tconst { catalogList } = state.siteMng\r\n\tconst { is_async } = state.com\r\n\tconst catalogMap = {};\r\n\tcatalogList.forEach(it => catalogMap[it._id] = it.name)\r\n  return {\r\n  \tcatalogList,\r\n  \tis_async,\r\n  \tcatalogMap\r\n  };\r\n};\r\n\r\n/*const mapDispatchToProps = dispatch => {\r\n  return {\r\n  \tsetUsername (name) {\r\n\t\t\treturn dispatch(setUsername(name))\r\n  \t},\r\n  };\r\n};*/\r\n\r\nexport default connect(mapStateToProps, null)(SiteItem);","import React, { Component } from 'react';\r\n// import blackhole from '@/assets/images/black-hole.png'\r\nimport './Empty.scss'\r\n\r\nclass Empty extends Component {\r\n  \r\n\trender() {\r\n    return (\r\n    \t<div className=\"no-data\">\r\n    \t\t{/*<img src={blackhole} alt=\"暂无数据\"/>*/}\r\n    \t\t<span>暂无数据</span>\r\n    \t</div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default Empty;\r\n","import React, {PureComponent, Fragment} from 'react';\nimport SiteItem from '@/commonComp/SiteItem'\n// import DelModal from '@/commonComp/DelModal'\n// import { delSite } from '@/store/actions'\nimport { Pagination } from 'antd'\nimport Empty from '@/commonComp/Empty'\n\nimport './Content.scss';\n\nclass Content extends PureComponent {\n  render () {\n  \t// const { visible, confirmLoading } = this.state;\n  \tconst {list=[], total, current, pageSize, onChange, onShowSizeChange, isSystem, collectClick} = this.props;\n  \t// console.log(current)\n  \treturn (\n\t\t  <div className=\"site-wrapper\">\n\t\t  \t{/*<div className=\"max-container\">*/}\n\t\t\t\t\t<div className=\"main-content\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlist.length > 0 \n\t\t\t\t\t\t\t?\t(\n\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t  \t\t\t\t\t<div className=\"site-container\">\n\t\t\t\t\t\t\t\t  \t\t{\n\t\t\t\t\t\t\t\t  \t\t\tlist.map(it => \n\t\t\t\t\t\t\t\t  \t\t\t\t<SiteItem \n\t\t\t\t\t\t\t\t  \t\t\t\t\tisSystem={isSystem} \n\t\t\t\t\t\t\t\t  \t\t\t\t\tkey={it._id} \n\t\t\t\t\t\t\t\t  \t\t\t\t\tcollectClick={collectClick}\n\t\t\t\t\t\t\t\t  \t\t\t\t\tisCollected={it.isCollected}\n\t\t\t\t\t\t\t\t  \t\t\t\t\tdata={it} \n\t\t\t\t\t\t\t\t  \t\t\t\t\t// closeClick={() => {this.showModal({_id: it._id, status: it.status})}} \n\t\t\t\t\t\t\t\t  \t\t\t\t\t// closeClick={handleOk} \n\t\t\t\t\t\t\t\t  \t\t\t\t/>\n\t\t\t\t\t\t\t\t  \t\t\t)\n\t\t\t\t\t\t\t\t  \t\t}\n\t\t\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t\t\t  \t<Pagination \n\t\t\t\t\t\t\t\t  \t\ttotal={total} current={current} pageSize={pageSize}\n\t\t\t\t\t\t\t\t\t  \tshowQuickJumper \n\t\t\t\t              size=\"small\" \n\t\t\t\t              // showSizeChanger  \n\t\t\t\t\t\t\t\t\t  \tonChange={onChange} \n\t\t\t\t\t\t\t\t\t  \tpageSizeOptions={['5', '10', '15']}\n\t\t\t\t\t\t\t\t\t  \tonShowSizeChange={onShowSizeChange} \n\t\t\t\t\t\t\t\t\t  \t// showTotal={total => `共 ${total} 条数据`} \n\t\t\t\t\t\t\t\t  \t/>\n\t\t\t\t\t\t\t  \t</Fragment>\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: <Empty />\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t  \t{/*</div>*/}\n\t\t\n\t  \t</div>\n\t  )\n  }\n}\n\nexport default Content;\n","import React, { Component } from 'react';\nimport Content from '../Content/Content'\n\n// import Dialog from '@/commonComp/Dialog'\nimport { connect } from 'react-redux'\n// import './SystemComp.scss';\n// import { Button } from 'antd'\n// import { LOG_OVERDUE_CODE } from '@/common/constant'\nimport { getSiteList, updateSiteMngData, updateSiteList, collectSite } from '@/store/actions'\nimport { withRouter } from \"react-router\";\n\nimport CurContext from '@/provider/cur-context';\nimport eventBus from '@/common/eventBus'\n\n\nclass ComContent extends Component {\n\t\t\n\tgetsys () {\n\n\t\tconst { isSystem, status, match: { params: { catalog, tagName, search } } } = this.props;\n\t\treturn {\n\t\t\tcatalog: parseInt(catalog) || -1,\n\t\t\tstatus: isSystem ? status : 1,\n\t\t\tis_edit: !!isSystem,\n\t\t\ttag_name: tagName,\n\t\t\tsearch\n\t\t}\n\t}\n\n\n\tconstructor (props) {\n\t\tsuper(props)\n\t\t// console.log(props)\n\t\tthis.state = {\n\t\t\tlist: [],\n\t\t\t// status: props.isSystem ? -1 : 1,\n\t\t}\n\t}\n\tcomponentDidUpdate (prevProps) {\n\t\tconst { isSystem } = this.props;\n\t\tconst { params: prevParams } = prevProps.match\n\t\tconst { params: curParams } = this.props.match\n\t\t// console.log(prevParams, curParams)\n\t\tif (prevParams.catalog !== curParams.catalog || prevParams.tagName !== curParams.tagName || prevParams.search !== curParams.search) {\n      // this.handleOk();\n      this.props.updateSiteMngData({\n      \tcatalog: parseInt(curParams.catalog) || -1,\n      \tisSystem,\n      \t// search: curParams.search\n      })\n      this.getListAndSet({pageIndex: 1, isTotal: true})\n    }\n\t}\n\tcomponentDidMount () {\n\t\tconst { isSystem, match: { params: { catalog } } } = this.props;\n\t\t// console.log('commonComp did mount ', isSystem)\n    this.props.updateSiteMngData({\n    \tcatalog: parseInt(catalog) || -1,\n    \tisSystem,\n    \t// search\n    })\n    this.getListAndSet({pageIndex: 1, isTotal: true})\n    // console.log(this.props)\n    eventBus.on('login#content', () => {\n    \tthis.handleOk();\n    })\n\t}\n\n\thandleOk = () => {\n\t\tconst { pageIndex, pageSize } = this.props;\n\t\t/*const { pageIndex: tPageindex, pageSize } = this.props;\n\t\tconst { siteTotal } = this.props;\n\t\tconst max = Math.ceil((siteTotal-dels) / pageSize)\n\t\tconst pageIndex = tPageindex > max ? max : tPageindex;\n\t\tconsole.log(pageIndex, max, dels, siteTotal, pageSize)*/\n\t\tthis.props.getSiteList({ pageIndex, pageSize, isTotal: true, ...this.getsys() });\n\t}\n\n\tgetListAndSet = (params) => {\n\t\tconst { pageIndex: sPageIndex, pageSize: sPageSize } = this.props;\n\n\t\tconst { pageIndex=sPageIndex, pageSize=sPageSize, isTotal } = params;\n\t\t// console.log(catalog)\n\t\tthis.props.updateSiteMngData({pageIndex, pageSize})\n\t\tthis.props.getSiteList({\n\t\t\tpageIndex,\n\t\t\tpageSize, \n\t\t\t// search,\n\t\t\tisTotal,\n\t\t\t...this.getsys()\n\t\t}).catch(res => {\n      eventBus.emit('logout#toHome', res)\n    })\n\t}\n\t\n\tonChange = pageIndex => {\n\n\t\tthis.getListAndSet({pageIndex})\n\t}\n  onShowSizeChange = (pageIndex, pageSize) => this.getListAndSet({pageIndex, pageSize})\n\n  collectClick = _id => {\n\t\tconst { siteList } = this.props;\n\t\treturn collectSite({_id}).then(res => {\n      this.props.updateSiteList(siteList.map(it => it._id === _id ? {...it, isCollected: !it.isCollected} : it))\n    })\n  }\n\n\trender () {\n\t\tconst { handleOk, collectClick } = this;\n\t\t// const { catalog } = this.state;\n\t\tconst { pageIndex, pageSize, siteList, siteTotal, isSystem } = this.props;\n\n\t\t// console.log(pageIndex, siteTotal)\n\n\t  return (\n  \t\t<CurContext.Provider value={{ handleOk }}>\n\t      {/*<AddWebSite handleOk={this.handleOk} />*/}\n\t      \n\t\t  \t\t\n\t\t\t  \t<Content \n\t\t\t  \t\tisSystem={isSystem}\n\t\t\t  \t\tlist={siteList} \n\t\t\t  \t\tcollectClick={collectClick}\n\t\t\t  \t\t// handleOk={this.handleOk} \n\t\t\t  \t\ttotal={siteTotal} current={pageIndex} pageSize={pageSize}\n\t\t\t\t  \tonChange={this.onChange} \n\t\t\t\t  \tonShowSizeChange={this.onShowSizeChange} \n\t\t\t  \t/>\n\t\t\t\t  \t\n\t  \t</CurContext.Provider>\n\t  )\n\t}\n}\nconst mapStateToProps = state => {\n\tconst { siteList, siteTotal, pageIndex, pageSize, status } = state.siteMng\n  return {\n  \tsiteList,\n  \tsiteTotal,\n  \tpageIndex, pageSize,\n  \tstatus,\n  \t// search\n  };\n};\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  \tupdateSiteMngData (data) {\n  \t\treturn dispatch(updateSiteMngData(data))\n  \t},\n  \tupdateSiteList (list) {\n  \t\treturn dispatch(updateSiteList({list}))\n  \t},\n  \t/*setCatalog (data) {\n  \t\treturn dispatch(setCatalog(data))\n  \t},*/\n  \tgetSiteList (params) {\n\t\t\treturn dispatch(getSiteList(params))\n  \t},\n  \t/*setUsername (params) {\n\t\t\treturn dispatch(setUsername(params))\n  \t},*/\n  \n  };\n};\n// export default ComContent;\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ComContent));\n","import React, { Component, Fragment } from 'react';\r\nimport { Button, Pagination } from 'antd';\r\nimport './CommentReplyCtn.scss'\r\nimport CommentItem from '../CommentItem'\r\nimport { replyCommit, getReplyCommit, setUsername } from '@/store/actions'\r\nimport { MAX_COMMIT_LEN } from '@/common/constant'\r\nimport { connect } from 'react-redux'\r\n\r\n// 把UPDATE_DATA 修改一下 改成函数，不要到处写\r\nimport BraftEditor from 'braft-editor'\r\nimport { ContentUtils } from 'braft-utils'\r\nimport BraftEditorMax from '@/commonComp/BraftEditorMax'\r\n\r\nclass CommentReplyCtn extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    const { reply_arr=[], reply_total=0 } = props.commitData;\r\n    this.state = {\r\n      confirmLoading: false,\r\n      commitContent: BraftEditor.createEditorState(''),\r\n      pageIndex: 1,  \r\n      replyList: reply_arr,\r\n      replyTotal: reply_total,\r\n      to_user_id: null,\r\n      to_user_name: null,\r\n      isShowReply: false,\r\n      isCheckReply: reply_total > 0\r\n    }\r\n  }\r\n  \r\n  handleDescChange = commitContent => {\r\n    this.setState({commitContent})\r\n  }\r\n  \r\n\r\n  onChange = (pageIndex) => {\r\n    const { _id: commit_id, site_id } = this.props.commitData;\r\n    getReplyCommit({pageIndex, commit_id, site_id}).then(res => {\r\n      this.setState({\r\n        replyList: res.result.list,\r\n        pageIndex\r\n      })\r\n    })\r\n  }\r\n\r\n  replyToCommit = () => {\r\n    const { user_id } = this.props.commitData;\r\n    this.setState({\r\n      isShowReply: true, \r\n      commitContent: ContentUtils.clear(this.state.commitContent),\r\n      to_user_id: user_id,\r\n      to_user_name: null\r\n    })\r\n  }\r\n  replyToUser = (item) => {\r\n    const { user_id, user_name } = item;\r\n    this.setState({\r\n      isShowReply: true, \r\n      commitContent: ContentUtils.insertText(ContentUtils.clear(this.state.commitContent), `回复 ${user_name}：`), \r\n      to_user_id: user_id,\r\n      to_user_name: user_name\r\n    })\r\n  }\r\n  report = () => {\r\n    const { _id: commit_id, site_id } = this.props.commitData;\r\n    const { commitContent, replyList, to_user_id, to_user_name, replyTotal } = this.state;\r\n    this.setState({confirmLoading: true})\r\n    console.log(to_user_id)\r\n    if (commitContent.isEmpty()) {\r\n      return;\r\n    }\r\n    // console.log(commitContent)\r\n    // return;\r\n    replyCommit({\r\n      commit_id,\r\n      site_id,\r\n      content: commitContent.toText().replace(`回复 ${to_user_name}：`, ''),\r\n      is_to_commit: !to_user_name,\r\n      to_user_id,\r\n      // to_user_name\r\n    }).then(res => {\r\n      this.setState({\r\n        commitContent: ContentUtils.clear(this.state.commitContent),\r\n        replyList: [...replyList, res.result],\r\n        replyTotal: replyTotal + 1,\r\n        confirmLoading: false\r\n      })\r\n    }).catch(res => this.setState({ confirmLoading: false }))\r\n  }\r\n  collspaeClick = () => {\r\n    const { isCheckReply, to_user_name } = this.state;\r\n    const { user_id } = this.props.commitData;\r\n    if (!isCheckReply) {\r\n      this.setState({\r\n        isShowReply: true\r\n      })\r\n      if (!to_user_name) {\r\n\r\n        this.setState({\r\n          to_user_id: user_id,\r\n          to_user_name: null\r\n        })\r\n      }\r\n    }\r\n    this.setState({\r\n      isCheckReply: !isCheckReply\r\n    })\r\n  }\r\n  render() {\r\n    const { commitContent, confirmLoading, pageIndex, replyList, replyTotal=0, isShowReply, isCheckReply } = this.state;\r\n    const { user_name } = this.props;\r\n    const totalStr = replyTotal === 0 ? '' : `(${replyTotal})`\r\n    return (\r\n      <Fragment>\r\n        <div className=\"align-right\" ><span className=\"collspae-btn\" onClick={this.collspaeClick} >{!isCheckReply ? `回复`+totalStr : '收起回复'}</span></div>\r\n        <div className=\"reply-comment-container\" style={{display: isCheckReply ? 'block': 'none' }} >\r\n          {\r\n            replyList.length > 0 && \r\n            <div className=\"comment-container\">\r\n              <div className=\"comment-list\">\r\n                {\r\n                  replyList.map(it => {\r\n                    if (it.is_to_commit) {\r\n                      it.to_user_name = '';\r\n                    }\r\n\r\n                    return <CommentItem key={it._id} data={it} >\r\n                      <div>\r\n                        <span className=\"link-btn\" onClick={() => {this.replyToUser(it)}} >回复</span>\r\n                      </div>\r\n                    </CommentItem>\r\n                  })\r\n                }\r\n                <Pagination \r\n                  hideOnSinglePage={true}\r\n                  total={replyTotal} current={pageIndex} pageSize={10}\r\n                  showQuickJumper \r\n                  size=\"small\" \r\n                  onChange={this.onChange} \r\n                />\r\n              </div>\r\n\r\n            </div>\r\n          }\r\n          {\r\n            replyList.length > 0 && <div className=\"reply-btn-line\"><span className=\"link-btn\" onClick={this.replyToCommit} >我也说一句</span></div>\r\n          }\r\n          <div className=\"reply-ctn\">\r\n            {\r\n              !!user_name \r\n                ? <div className={'reply-edit-container ' + (isShowReply ? '' : 'hidden')}>\r\n                    <BraftEditorMax \r\n                      controls={['emoji']}\r\n                      className=\"normal-edit\"\r\n                      value={commitContent} \r\n                      maxLen={MAX_COMMIT_LEN} \r\n                      onChange={this.handleDescChange} \r\n                    />\r\n                    \r\n                    <Button type=\"primary\" className=\"reply-btn\" loading={confirmLoading} onClick={this.report} >发表</Button>\r\n                  </div>\r\n                : <span className=\"bofore-commit-tip\">请登录后，再回复。</span>\r\n            }\r\n          </div>\r\n        \r\n          \r\n        </div>\r\n      </Fragment>\r\n         \r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  const { user_name } = state.com\r\n  return {\r\n    user_name\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUsername (name) {\r\n      return dispatch(setUsername(name))\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentReplyCtn);","import React, { Component, Fragment } from 'react';\r\nimport { Button, Pagination } from 'antd';\r\nimport { reportCommit, getReportCommit, setUsername } from '@/store/actions'\r\nimport './CommentCtn.scss'\r\nimport CommentItem from '../CommentItem'\r\nimport CommentReplyCtn from '../CommentReplyCtn'\r\nimport { connect } from 'react-redux'\r\nimport { MAX_COMMIT_LEN } from '@/common/constant'\r\n// 把UPDATE_DATA 修改一下 改成函数，不要到处写\r\nimport BraftEditor from 'braft-editor'\r\nimport { ContentUtils } from 'braft-utils'\r\nimport BraftEditorMax from '@/commonComp/BraftEditorMax'\r\n// import { Modifier } from 'draft-js'\r\n\r\nclass CommentCtn extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      confirmLoading: false,\r\n      commitContent: BraftEditor.createEditorState(''),\r\n      commitList: [],\r\n      total: 0,\r\n      pageIndex: 1,\r\n\r\n    }\r\n  }\r\n  getReportCommit = (params={}) => {\r\n    window.scrollTo(0, 0)\r\n    const { siteId } = this.props\r\n    const { pageIndex } = this.state;\r\n    const { isTotal } = params;\r\n    getReportCommit({site_id: siteId, pageIndex, ...params}).then(({result}) => {\r\n      this.setState({\r\n        commitList: result.list || [],\r\n      })\r\n      if (isTotal) {\r\n        this.setState({\r\n          total: result.total\r\n        })\r\n      }\r\n    })\r\n  }\r\n  componentDidUpdate (prevProps) {\r\n    const { siteId: prevsiteId } = prevProps\r\n    const { siteId: cursiteId } = this.props\r\n    // console.log(prevParams, curParams)\r\n    if (prevsiteId !== cursiteId) {\r\n      // this.handleOk();\r\n      this.getReportCommit({isTotal: true});\r\n      // this.getSite$Add()\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    this.getReportCommit({isTotal: true});\r\n  }\r\n  handleDescChange = commitContent => {\r\n    this.setState({commitContent})\r\n  }\r\n  report = () => {\r\n    const { commitContent, commitList } = this.state;\r\n    const { siteId } = this.props\r\n    if (commitContent.isEmpty()) {\r\n      return;\r\n    }\r\n    this.setState({confirmLoading: true})\r\n    reportCommit({site_id: siteId, content: commitContent.toText()}).then(res => {\r\n      this.setState({\r\n        commitContent: ContentUtils.clear(this.state.commitContent),\r\n        commitList: [...commitList, res.result],\r\n        confirmLoading: false\r\n      })\r\n    }).catch(() => this.setState({ confirmLoading: false }))\r\n    // console.log(siteId)\r\n  }\r\n\r\n  onChange = (pageIndex) => {\r\n    this.setState({pageIndex}, () => {\r\n      this.getReportCommit();\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { commitContent, confirmLoading, commitList, total, pageIndex } = this.state;\r\n    const { user_name } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <div className=\"comment-container\">\r\n          {\r\n            commitList.length > 0 \r\n            ? <div className=\"comment-list\">\r\n              {\r\n                commitList.map(it => \r\n                  <CommentItem key={it._id} data={it}>\r\n                    <CommentReplyCtn commitData={it} />\r\n                  </CommentItem>)\r\n              }\r\n              <Pagination \r\n                total={total} current={pageIndex} pageSize={10}\r\n                showQuickJumper \r\n                size=\"small\" \r\n                // showSizeChanger  \r\n                onChange={this.onChange} \r\n                // pageSizeOptions={['5', '10', '15']}\r\n                // onShowSizeChange={onShowSizeChange} \r\n                // showTotal={total => `共 ${total} 条数据`} \r\n              />\r\n            </div>\r\n            : <div className=\"no-commit\">好惨，都没人评论。。。</div>\r\n          }\r\n        </div>\r\n        <div className=\"reply-ctn\">\r\n          {\r\n            !!user_name \r\n              ? <div className=\"reply-edit-container\">\r\n                  <BraftEditorMax \r\n                    controls={['emoji']}\r\n                    className=\"normal-edit\"\r\n                    value={commitContent} \r\n                    maxLen={MAX_COMMIT_LEN} \r\n                    onChange={this.handleDescChange} \r\n                  />\r\n                  <Button type=\"primary\" className=\"reply-btn\" loading={confirmLoading} onClick={this.report} >发表</Button>\r\n                </div>\r\n              : <span className=\"bofore-commit-tip\">请登录后，再评论。</span>\r\n          }\r\n        </div>\r\n      </Fragment>\r\n         \r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const { user_name } = state.com\r\n  return {\r\n    user_name\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setUsername (name) {\r\n      return dispatch(setUsername(name))\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentCtn);\r\n","import React, { Component } from 'react';\r\nimport { getRecomdList } from '@/store/actions'\r\nimport imgurl from '@/common/api'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass RecomdList extends Component {\r\n  state = {\r\n    list: []\r\n  }\r\n  componentDidUpdate (prevProps) {\r\n    const { catalog: prevCatalog } = prevProps;\r\n    const { catalog } = this.props;\r\n    if (prevCatalog !== catalog) {\r\n      this.getRecomdList();\r\n      // console.log(siteId, catalog)\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    // this.getRecomdList();\r\n  }\r\n  getRecomdList = () => {\r\n    const { catalog } = this.props;\r\n    getRecomdList({catalog}).then(res => {\r\n      // console.log(res)\r\n      this.setState({\r\n        list: res.result.list\r\n      })\r\n    })\r\n  }\r\n\r\n\trender() {\r\n    const { list } = this.state;\r\n    return (\r\n      <div className=\"recomd-wrapper\">\r\n        <div className=\"title\">相关推荐∵</div>\r\n        <ul>\r\n          {\r\n            list.map(it => \r\n              <li key={it._id}>\r\n                <Link to={'/sitedetail/'+it._id}>\r\n                  <p>{it.name}</p>\r\n                  <div className=\"img-ctn\">\r\n                    <img src={imgurl+it.img} alt=\"图片\"/>\r\n                  </div>\r\n                </Link>\r\n              </li>\r\n            )\r\n          }\r\n        </ul>\r\n\r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default RecomdList;\r\n","import React, { Component } from 'react';\r\n// import { Input, Button } from 'antd';\r\nimport { withRouter } from \"react-router\";\r\nimport SiteItem from '@/commonComp/SiteItem'\r\nimport { getSiteDetail, addView, collectSite } from '@/store/actions'\r\n// import { LOG_OVERDUE_CODE } from '@/common/constant'\r\nimport './SiteDetail.scss'\r\nimport CommentCtn from '@/commonComp/CommentCtn'\r\nimport RecomdList from './RecomdList'\r\nimport eventBus from '@/common/eventBus'\r\n\r\n// import BraftEditor from 'braft-editor'\r\n\r\nclass SiteDetail extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    // console.log(this.props)\r\n    this.state = {\r\n      siteData: {},\r\n      isCollected: false,\r\n      // commitContent: BraftEditor.createEditorState(''),\r\n    }\r\n  }\r\n  componentDidUpdate (prevProps) {\r\n    const { params: prevParams } = prevProps.match\r\n    const { params: curParams } = this.props.match\r\n    // console.log(prevParams, curParams)\r\n    if (prevParams.siteId !== curParams.siteId) {\r\n      // this.handleOk();\r\n      this.getSite$Add()\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    this.getSite$Add()\r\n    eventBus.on('login#siteDetail', () => {\r\n      this.getSite$Add();\r\n    })\r\n  }\r\n  getSite$Add = () => {\r\n    const { siteId: t_id } = this.props.match.params\r\n    const siteId = parseInt(t_id);\r\n    addView({_id: siteId})\r\n    // const { params } = match\r\n    // console.log(siteId, this.props)\r\n    getSiteDetail({site_id: siteId})\r\n      .then(({result={}}) => this.setState({siteData: result, isCollected: result.isCollected}))\r\n      /*.catch(res => {\r\n        if (res.resultCode === LOG_OVERDUE_CODE) {\r\n          this.props.setUsername('')\r\n        }\r\n      })*/\r\n  }\r\n  collectClick = (_id) => {\r\n    // const { data: { _id }, setUsername } = this.props\r\n    \r\n    // this.setState({ isCollecting: true })\r\n    const { isCollected } = this.state;\r\n    return collectSite({_id}).then(res => {\r\n      // console.log(res)\r\n      this.setState({\r\n        isCollected: !isCollected\r\n      })\r\n    })\r\n  }\r\n\trender() {\r\n    const { siteId } = this.props.match.params\r\n    const { siteData, isCollected } = this.state;\r\n    return (\r\n      <div className=\"site-detail main-content site-wrapper\">\r\n        <div className=\"site-container\">\r\n          {\r\n            !!siteData._id \r\n             ? <SiteItem \r\n                isSystem={false} \r\n                onlyShow={true}\r\n                data={siteData} \r\n                isCollected={isCollected}\r\n                collectClick={this.collectClick}\r\n              />\r\n              : <p>非常抱歉，该网站已下架！</p>\r\n          }\r\n          <RecomdList siteId={siteId} catalog={(siteData.catalog || []).join(',')} />\r\n          <h3 className=\"title\" style={{marginTop: 15}} >评论</h3>\r\n          <CommentCtn siteId={siteId} />\r\n        </div>\r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default withRouter(SiteDetail);\r\n","import React, { Component } from 'react';\r\nimport { getReplyMeList, clearreplynum, setReplyNum } from '@/store/actions'\r\n// import { withRouter } from \"react-router\";\r\nimport { Pagination } from 'antd'\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux'\r\nimport { FEEDBACK_SITEID } from '@/common/constant'\r\nimport './MessageMng.scss'\r\nimport eventBus from '@/common/eventBus'\r\n\r\n\r\nclass MessageMng extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      list: [],\r\n      total: 0,\r\n      pageIndex: 1,\r\n    }\r\n  }\r\n  \r\n  componentDidMount () {\r\n    this.getReplyMeList({pageIndex: 1, isTotal: true})\r\n    clearreplynum().then(res => this.props.setReplyNum(0))\r\n  }\r\n  getReplyMeList = (params) => {\r\n\r\n    getReplyMeList(params).then(res => {\r\n      const { list, total } = res.result\r\n      this.setState({\r\n        list\r\n      })\r\n      if (params.isTotal) {\r\n        this.setState({\r\n          total\r\n        })\r\n      }\r\n    }).catch(res => {\r\n      eventBus.emit('logout#toHome', res)\r\n    })\r\n  }\r\n  onChange = (pageIndex) => {\r\n    this.getReplyMeList({pageIndex})\r\n    this.setState({pageIndex})\r\n  }\r\n\trender() {\r\n    // const { siteId } = this.props.match.params\r\n    const { list, total, pageIndex } = this.state;\r\n\r\n    return (\r\n      <div className=\"message-wrapper main-content\">\r\n        <div className=\"message-container\">\r\n          <div className=\"message-list\">\r\n            <ul>\r\n              {\r\n                list.map(it => {\r\n                  const isFeedback = it.site_id === FEEDBACK_SITEID;\r\n\r\n                  const linkurl = isFeedback ? '/feedback' : '/sitedetail/' + it.site_id\r\n\r\n                  return <li key={it._id}>\r\n                    <div className=\"rich-left\">\r\n                      <Link to={linkurl} className=\"rich-ctn\" >\r\n                        <div className=\"message-user\" >{it.user_name}：</div>\r\n                        <div className=\"message-content\" dangerouslySetInnerHTML={{__html: it.content}} ></div>\r\n                      </Link>\r\n                      <div className=\"resp-subject\">\r\n                        回复我的页面：<Link to={linkurl} >{isFeedback ? '用户反馈' : it.site_name}</Link>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"rich-right\">\r\n                      <span className=\"time\">{it.create_time}</span>\r\n                    </div>\r\n                  </li>\r\n                })\r\n              }\r\n            </ul>\r\n          </div>\r\n          <Pagination \r\n            total={total} current={pageIndex} pageSize={10}\r\n            showQuickJumper \r\n            size=\"small\" \r\n            onChange={this.onChange} \r\n          />\r\n        </div>\r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setReplyNum (num) {\r\n      return dispatch(setReplyNum(num))\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(MessageMng);\r\n\r\n","import React, { Component, Fragment } from 'react';\nimport {message, Modal, Button, Input } from 'antd';\n// import { LOG_OVERDUE_CODE } from '@/common/constant'\n// import './AddWebSite.scss';\nimport { addCatalog, getAllCatalog, dispatchCatalogList } from '@/store/actions'\nimport { connect } from 'react-redux'\n\n\nclass AddCatalog extends Component {\n\t\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvisible: false,\n\t\t\tconfirmLoading: false,\n\t\t\tname: '',\n\t\t\t\n\t\t};\n\t}\n\t\n\n\tshowModal = () => {\n\t\tthis.setState({\n\t\t  visible: true,\n\t\t});\n\t\t/*axios.get('/api/ip').then((res) => {\n\t\t\tconsole.log(res)\n\t\t})*/\n\t};\n\t\n\t\n\thandleOk = () => {\n\t\t// const that = this;\n\t\tconst {name} = this.state;\n\t\t// const {handleOk} = this.props;\n\n\t\tthis.setState({ confirmLoading: true })\n\t\taddCatalog({name}).then(res => {\n\t\t\tmessage.success('新增成功!')\n\t\t\tthis.props.getAllCatalog()\n\t\t\tthis.props.dispatchCatalogList()\n\t\t\tthis.setState({ visible: false, confirmLoading: true, name: '' });\n\t\t})/*.catch(res => {\n      if (res.resultCode === LOG_OVERDUE_CODE) {\n        this.props.setUsername('')\n      }\n    })*/.catch(res => {\n\t\t\tthis.setState({ confirmLoading: false });\n\t\t})\n\t\t\n\t};\n\n\thandleCancel = () => {\n\t\tthis.setState({\n\t\t\tvisible: false,\n\t\t});\n\t};\n\t\n\n\tnameChange = e => {\n\t\tthis.setState({\n\t\t\tname: e.target.value\n\t\t})\n\t}\n\t\n\t\n\trender() {\n\t   const { visible, confirmLoading, name} = this.state;\n\t    // console.log(selectOptions)\n\t   return (\n\t\t\t<Fragment>\n\t    \t<Button type=\"primary\" onClick={() => {\n\t        this.showModal()\n\t      }}>新增分类</Button>\n\t       \n        <Modal\n        \twidth={700}\n\t\t\t\t\ttitle=\"新增分类\"\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\tmaskClosable={false}\n\t\t\t\t\tonOk={this.handleOk}\n\t\t\t\t\tconfirmLoading={confirmLoading}\n\t\t\t\t\tonCancel={this.handleCancel}\n\t\t\t\t\tokText=\"提交\"\n\t\t\t\t\tcancelText=\"取消\"\n        >\n\t        <div className=\"self-wrapper\">\n\t\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t\t<label>分类名称</label><Input onChange={this.nameChange} value={name} />\n\t\t\t\t\t\t</div>\n\t        </div>\n        \t\n        </Modal>\n\t\t\t</Fragment>\n\t  );\n\t}\n}\n\n/*const mapStateToProps = state => {\n\tconst { catalogList } = state.siteMng\n  return {\n  \tcatalogList: catalogList.slice(1),\n  };\n};*/\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  \tgetAllCatalog (params) {\n\t\t\treturn dispatch(getAllCatalog(params))\n  \t},\n  \tdispatchCatalogList (params) {\n\t\t\treturn dispatch(dispatchCatalogList(params))\n  \t},\n  };\n};\nexport default connect(null, mapDispatchToProps)(AddCatalog);;\n","import React, { Component, Fragment } from 'react';\r\nimport { List, Modal, Input, message, Button } from 'antd';\r\nimport { ToolOutlined, CloseOutlined } from '@ant-design/icons';\r\nimport { editCatalog, delCatalog, getAllCatalog, dispatchCatalogList, updateCatalogSort } from '@/store/actions'\r\n// import { LOG_OVERDUE_CODE } from '@/common/constant'\r\nimport AddCatalog from './AddCatalog'\r\nimport { connect } from 'react-redux'\r\nimport { sortable } from 'react-sortable';\r\nimport './CatalogMng.scss'\r\n\r\nclass EditModal extends Component {\r\n  render () {\r\n    const { visible, confirmLoading, name, onChange, handleOk, handleCancle } = this.props;\r\n    return (\r\n      <Modal\r\n        width={400}\r\n        title=\"编辑\"\r\n        visible={visible}\r\n        maskClosable={false}\r\n        confirmLoading={confirmLoading}\r\n        onCancel={handleCancle}\r\n        onOk={handleOk}\r\n        okText=\"确定\"\r\n        cancelText=\"取消\"\r\n      >\r\n        <Input placeholder=\"请设置类型名\" onChange={onChange} value={name} />\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\nclass DelModal extends Component {\r\n  render () {\r\n    const { visible, confirmLoading, name, handleOk, handleCancle } = this.props;\r\n    return (\r\n      <Modal\r\n        width={400}\r\n        title=\"删除\"\r\n        visible={visible}\r\n        maskClosable={false}\r\n        confirmLoading={confirmLoading}\r\n        onCancel={handleCancle}\r\n        onOk={handleOk}\r\n        okText=\"确定\"\r\n        cancelText=\"取消\"\r\n      >\r\n        是否删除“{name}”该类名\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nclass Item extends React.Component {\r\n  render() {\r\n    return (\r\n      <li {...this.props}>\r\n        {this.props.children}\r\n      </li>\r\n    )\r\n  }\r\n}\r\nconst SortableItem = sortable(Item);\r\n\r\nclass SortModal extends Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      visible: false,\r\n      confirmLoading: false,\r\n      items: props.list\r\n    }\r\n  }\r\n  static getDerivedStateFromProps (props, state) {\r\n    if (JSON.stringify(props.list) !== JSON.stringify(state.items)) {\r\n      return {\r\n        items: props.list\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  onSortItems = (items) => {\r\n    this.setState({\r\n      items: items\r\n    });\r\n  }\r\n  handleShow = () => this.setState({ visible: true })\r\n  handleOk = () => {\r\n    this.setState({ confirmLoading: true })\r\n    updateCatalogSort({catalog: this.state.items})\r\n      .then(res => {\r\n        this.setState({ visible: false, confirmLoading: false })\r\n        message.success('更新成功！')\r\n        this.props.handleOk();\r\n      })\r\n      .catch(res => this.setState({ confirmLoading: false }))\r\n  }\r\n  handleCancle = () => {\r\n    this.setState({\r\n      visible: false,\r\n      confirmLoading: false\r\n    })\r\n  }\r\n   \r\n  render () {\r\n    const { visible, confirmLoading, items } = this.state;\r\n    // const { visible, confirmLoading, handleOk, handleCancle } = this.props;\r\n    return (\r\n      <Fragment>\r\n        <Button onClick={this.handleShow}>排序</Button>\r\n        <Modal\r\n          width={400}\r\n          title=\"排序\"\r\n          visible={visible}\r\n          maskClosable={false}\r\n          confirmLoading={confirmLoading}\r\n          onCancel={this.handleCancle}\r\n          onOk={this.handleOk}\r\n          okText=\"确定\"\r\n          cancelText=\"取消\"\r\n        >\r\n          <div className=\"sortable-list\">\r\n            <ul>\r\n              {\r\n                items.map((item, i) => \r\n                  <SortableItem\r\n                    key={item._id}\r\n                    onSortItems={this.onSortItems}\r\n                    items={items}\r\n                    sortId={i}\r\n                  >\r\n                    {item.name}\r\n                  </SortableItem>\r\n                )\r\n              }\r\n            </ul>\r\n          </div>\r\n        </Modal>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nclass CatalogMng extends Component {\r\n  state = {\r\n    editvisible: false,\r\n    editloading: false,\r\n    currentData: {},\r\n    delvisible: false,\r\n    delloading: false,\r\n  }\r\n  handleEditShow = (currentData) => {\r\n    this.setState({\r\n      editvisible: true,\r\n      currentData\r\n    })\r\n  }\r\n  handleEditCancle = () => {\r\n    this.setState({\r\n      editvisible: false,\r\n      currentData: {}\r\n    })\r\n  }\r\n  editNameChange = e => {\r\n    const { currentData } = this.state;\r\n    this.setState({\r\n      currentData: {\r\n        ...currentData,\r\n        name: e.target.value\r\n      }\r\n    })\r\n  }\r\n  handleEditOk = () => {\r\n    // console.log(this.state.currentData.name)\r\n    this.setState({\r\n      editloading: true\r\n    })\r\n    editCatalog(this.state.currentData).then(res => {\r\n      this.setState({\r\n        editvisible: false,\r\n        currentData: {},\r\n        editloading: false\r\n      })\r\n      this.props.getAllCatalog();\r\n      this.props.dispatchCatalogList();\r\n      message.success('修改成功！')\r\n    })/*.catch(res => {\r\n      if (res.resultCode === LOG_OVERDUE_CODE) {\r\n        this.props.setUsername('')\r\n      }\r\n    })*/.catch(() => this.setState({ editloading: false }))\r\n  }\r\n\r\n\r\n\r\n  handleDelShow = (currentData) => {\r\n    this.setState({\r\n      delvisible: true,\r\n      currentData\r\n    })\r\n  }\r\n  handleDelCancle = () => {\r\n    this.setState({\r\n      delvisible: false,\r\n      currentData: {}\r\n    })\r\n  }\r\n \r\n  handleDelOk = () => {\r\n    // console.log(this.state.currentData.name)\r\n    this.setState({\r\n      delloading: true\r\n    })\r\n    delCatalog({_id: this.state.currentData._id})\r\n      .then(res => {\r\n        this.setState({\r\n          delvisible: false,\r\n          currentData: {},\r\n          delloading: false\r\n        })\r\n        this.props.getAllCatalog();\r\n        this.props.dispatchCatalogList();\r\n        message.success('删除成功！')\r\n      })\r\n      /*.catch(res => {\r\n        if (res.resultCode === LOG_OVERDUE_CODE) {\r\n          this.props.setUsername('')\r\n        }\r\n      })*/\r\n      .catch(() => this.setState({ delloading: false }))\r\n  }\r\n\trender() {\r\n    const { editvisible, editloading, currentData, delvisible, delloading } = this.state;\r\n    const { catalogList, getAllCatalog, dispatchCatalogList } = this.props;\r\n    return (\r\n      <div className=\"catalog-wrapper max-container\">\r\n        <AddCatalog/>\r\n        {catalogList.length > 0 && <SortModal handleOk={() => {getAllCatalog();dispatchCatalogList()}} list={catalogList} />}\r\n        <List\r\n          itemLayout=\"vertical\"\r\n          dataSource={catalogList}\r\n          \r\n          renderItem={item => (\r\n            <List.Item\r\n              key={item._id}\r\n            >\r\n              <span className=\"text\" >{item.name}</span>\r\n              <ToolOutlined className=\"icon\" onClick={() => this.handleEditShow(item)} />\r\n              <CloseOutlined className=\"icon\" onClick={() => this.handleDelShow(item)} />\r\n            </List.Item>\r\n          )}\r\n        />\r\n        <EditModal \r\n          visible={editvisible} \r\n          name={currentData.name} \r\n          onChange={this.editNameChange} \r\n          confirmLoading={editloading} \r\n          handleOk={this.handleEditOk} \r\n          handleCancle={this.handleEditCancle}\r\n        />\r\n\r\n        <DelModal \r\n          visible={delvisible} \r\n          name={currentData.name} \r\n          onChange={this.delNameChange} \r\n          confirmLoading={delloading} \r\n          handleOk={this.handleDelOk} \r\n          handleCancle={this.handleDelCancle}\r\n        />\r\n        \r\n\r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const { catalogList } = state.siteMng\r\n  return {\r\n    catalogList\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    /*setUsername (name) {\r\n      return dispatch(setUsername(name))\r\n    },*/\r\n    getAllCatalog (params) {\r\n      return dispatch(getAllCatalog(params))\r\n    },\r\n    dispatchCatalogList (params) {\r\n      return dispatch(dispatchCatalogList(params))\r\n    },\r\n    \r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CatalogMng);\r\n","import React, { Component, Fragment } from 'react';\r\nimport { CloseOutlined } from '@ant-design/icons'\r\nimport Dialog from '@/commonComp/Dialog'\r\n// import {connect} from 'react-redux'\r\nimport { message, Checkbox } from 'antd';\r\n// import cookie from 'react-cookies';\r\n// import url from '@/common/api'\r\nimport { delNotice } from '@/store/actions'\r\n\r\n\r\nclass CloseIcon extends Component {\r\n\t\r\n\tchecked = true;\r\n\tcheckChange = e => this.checked = e.target.checked\r\n\tshowModel = () => {\r\n\t\tconst that = this;\r\n\t\tconst { data, handleOk } = this.props;\r\n\t\tconst { _id, content, commit_id } = data;\r\n\r\n\t\tDialog.open({\r\n\t\t\ttitle: '删除公告',\r\n\t\t\tcontent: <Fragment>\r\n\t\t\t\t<span>确定删除“<span style={{color: '#F55'}}>{content}</span>”该公告吗？</span>\r\n\t\t\t\t<br/>\r\n\t\t\t\t{commit_id !== undefined && <Checkbox defaultChecked={that.checked} onChange={this.checkChange} >是否同步到用户反馈？ </Checkbox>}\r\n\t\t\t</Fragment>,\r\n\t\t\t\r\n\t\t\t// footer: true,\r\n\t\t\tonOk () {\r\n\t\t\t\tDialog.showLoading();\r\n\t\t\t\tdelNotice({_id, isToCommit: that.checked ? 1 : 0}).then(res => {\r\n\t\t    \thandleOk && handleOk()\r\n\t\t\t\t\tmessage.success('删除成功')\r\n\t      \tDialog.close();\r\n\t\t    }).catch(res => {\r\n\t\t    \tDialog.hideLoading();\r\n\t\t    })\r\n\t\t\t}\r\n\t\t});\r\n\t\t// closeClick\r\n\t}\r\n\trender () {\r\n\r\n\t\treturn (\r\n\t\t\t<CloseOutlined title=\"删除\" style={{color: '#fff'}} onClick={this.showModel} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default CloseIcon;","import React, { Component, Fragment } from 'react';\nimport { message, Modal, Button, Checkbox } from 'antd';\n// import { trim } from '@/common/common'\n// import './AddWebSite.scss';\nimport { addNotice } from '@/store/actions'\n// import { connect } from 'react-redux'\n\nimport BraftEditor from 'braft-editor'\nimport { ContentUtils } from 'braft-utils'\nimport BraftEditorMax from '@/commonComp/BraftEditorMax'\nimport { MAX_COMMIT_LEN } from '@/common/constant'\n\nclass AddNotice extends Component {\n\t\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvisible: false,\n\t\t\tconfirmLoading: false,\n\t\t\tname: '',\n\t\t\tchecked: false,\n\t\t\tcontent: BraftEditor.createEditorState(''),\n\t\t};\n\t}\n\t\n\n\tshowModal = () => {\n\t\tthis.setState({\n\t\t  visible: true,\n\t\t});\n\t};\n\t\n\t\n\thandleOk = () => {\n\t\t// const that = this;\n\t\tconst { content, checked } = this.state;\n\t\tconst { handleOk } = this.props;\n\t\t if (content.isEmpty()) {\n      return message.error('内容不能为空')\n    }\n\t\tthis.setState({ confirmLoading: true })\n\t\taddNotice({content: content.toText(), isToCommit: checked}).then(res => {\n\t\t\tmessage.success('新增成功!')\n\t\t\tthis.setState({\n      \tcontent: ContentUtils.clear(content),\n      \tchecked: false,\n      \tvisible: false, \n      \tconfirmLoading: false, \n\t\t\t})\n\n\t\t\thandleOk && handleOk();\n\t\t}).catch(res => {\n\t\t\tthis.setState({ confirmLoading: false });\n\t\t})\n\t\t\n\t};\n\n\thandleCancel = () => {\n\t\tthis.setState({\n\t\t\tvisible: false,\n\t\t});\n\t};\n\t\n\n\tcontentChange = content => {\n\t\tthis.setState({\n\t\t\tcontent\n\t\t})\n\t}\n\n\tcheckChange = e => this.setState({ checked: e.target.checked })\n\t\n\t\n\trender() {\n\t   const { visible, confirmLoading, content, checked } = this.state;\n\t    // console.log(selectOptions)\n\t   return (\n\t\t\t<Fragment>\n\t    \t<Button type=\"primary\" onClick={() => { this.showModal() }}>新增公告</Button>\n\t       \n        <Modal\n        \twidth={700}\n\t\t\t\t\ttitle=\"新增公告\"\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\tmaskClosable={false}\n\t\t\t\t\tonOk={this.handleOk}\n\t\t\t\t\tconfirmLoading={confirmLoading}\n\t\t\t\t\tonCancel={this.handleCancel}\n\t\t\t\t\tokText=\"提交\"\n\t\t\t\t\tcancelText=\"取消\"\n        >\n\t        <div className=\"self-wrapper\">\n\t\t\t\t\t\t<div className=\"self-line must\">\n\t\t\t\t\t\t\t<label>公告</label>\n\t\t\t\t\t\t\t<BraftEditorMax \n                controls={['emoji']}\n                className=\"normal-edit\"\n                value={content} \n                maxLen={MAX_COMMIT_LEN} \n                onChange={this.contentChange} \n              />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t<Checkbox checked={checked} onChange={this.checkChange}>是否同步到用户反馈？ </Checkbox>\n\t\t\t\t\t\t</div>\n\t        </div>\n        \t\n        </Modal>\n\t\t\t</Fragment>\n\t  );\n\t}\n}\n\n/*const mapStateToProps = state => {\n\tconst { catalogList } = state.siteMng\n  return {\n  \tcatalogList: catalogList.slice(1),\n  };\n};*/\n\n\nexport default AddNotice;\n","import React, { Component, Fragment } from 'react';\r\nimport { getNoticeList, editNotice } from '@/store/actions'\r\nimport { EditOutlined } from '@ant-design/icons'\r\nimport DelIcon from './Icons/DelIcon'\r\n// import { withRouter } from \"react-router\";\r\nimport { Pagination, Modal, message } from 'antd'\r\nimport AddNotice from './AddNotice'\r\n// import { trim } from '@/common/common'\r\n// import { Link } from \"react-router-dom\";\r\n// import { connect } from 'react-redux'\r\nimport './index.scss'\r\nimport eventBus from '@/common/eventBus'\r\n\r\nimport BraftEditor from 'braft-editor'\r\nimport { ContentUtils } from 'braft-utils'\r\nimport BraftEditorMax from '@/commonComp/BraftEditorMax'\r\nimport { MAX_COMMIT_LEN } from '@/common/constant'\r\n\r\n\r\nclass MessageMng extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      list: [],\r\n      total: 0,\r\n      pageIndex: 1,\r\n\r\n      visible: false,\r\n      confirmLoading: false,\r\n      currentData: {},\r\n      content: BraftEditor.createEditorState(''),\r\n    }\r\n  }\r\n  \r\n  componentDidMount () {\r\n    this.getNoticeList({pageIndex: 1, isTotal: 1})\r\n  }\r\n  getNoticeList = (params) => {\r\n\r\n    getNoticeList(params).then(res => {\r\n      const { list, total } = res.result\r\n      this.setState({\r\n        list\r\n      })\r\n      if (params.isTotal) {\r\n        this.setState({\r\n          total\r\n        })\r\n      }\r\n    }).catch(res => {\r\n      eventBus.emit('logout#toHome', res)\r\n    })\r\n  }\r\n  onChange = (pageIndex) => {\r\n    this.getReplyMeList({pageIndex})\r\n    this.setState({pageIndex})\r\n  }\r\n\r\n  showModal = (currentData) => {\r\n    const { content } = this.state;\r\n    this.setState({\r\n      visible: true,\r\n      currentData,\r\n      content: ContentUtils.insertText(ContentUtils.clear(content), currentData.content)\r\n    });\r\n  };\r\n  handleEditCancel = () => {\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n  handleEditOk = () => {\r\n    const { currentData: {_id, commit_id}, content, pageIndex } = this.state;\r\n    if (content.isEmpty()) {\r\n      return message.error('内容不能为空')\r\n    }\r\n    this.setState({ confirmLoading: true })\r\n    editNotice({ _id, commit_id, content: content.toText() }).then(res => {\r\n      message.success('编辑成功')\r\n      this.getNoticeList({pageIndex})\r\n      this.setState({ visible: false, confirmLoading: false })\r\n    }).catch(this.setState({ confirmLoading: false }))\r\n  }\r\n\r\n  contentChange = content => {\r\n    this.setState({\r\n      content\r\n    })\r\n  }\r\n\r\n\r\n\r\n\trender() {\r\n    // const { siteId } = this.props.match.params\r\n    const { list, total, pageIndex, visible, confirmLoading, content } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <div className=\"notice-wrapper max-container\">\r\n          <div className=\"notice-container\">\r\n            <AddNotice handleOk={() => this.getNoticeList({pageIndex, isTotal: 1})} />\r\n            <div className=\"notice-list\">\r\n              <ul>\r\n                {\r\n                  list.map(it => \r\n                    <li key={it._id}>\r\n                      <div className=\"time\">\r\n                        {it.create_time} \r\n                        <div className=\"icons\">\r\n                          <EditOutlined className=\"icon\" onClick={() => this.showModal(it)} />\r\n                          <DelIcon data={it} handleOk={() => this.getNoticeList({pageIndex})} />\r\n                        </div>\r\n                      </div>\r\n                      <div>{it.content}</div>\r\n                    </li>\r\n                  )\r\n                }\r\n              </ul>\r\n            </div>\r\n            <Pagination \r\n              total={total} current={pageIndex} pageSize={10}\r\n              showQuickJumper \r\n              size=\"small\" \r\n              onChange={this.onChange} \r\n            />\r\n          </div>\r\n        </div>\r\n        <Modal\r\n          width={700}\r\n          title=\"编辑\"\r\n          visible={visible}\r\n          maskClosable={false}\r\n          onOk={this.handleEditOk}\r\n          confirmLoading={confirmLoading}\r\n          onCancel={this.handleEditCancel}\r\n          okText=\"提交\"\r\n          cancelText=\"取消\"\r\n        >\r\n          <div className=\"self-wrapper\">\r\n            <div className=\"self-line must\">\r\n              <label>公告</label>\r\n              <BraftEditorMax \r\n                controls={['emoji']}\r\n                className=\"normal-edit\"\r\n                value={content} \r\n                maxLen={MAX_COMMIT_LEN} \r\n                onChange={this.contentChange} \r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n        </Modal>\r\n      </Fragment>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\nexport default MessageMng;\r\n\r\n","import React, { Component } from 'react';\r\n// import { getSiteDetail, addView } from '@/store/actions'\r\nimport './Feedback.scss'\r\nimport CommentCtn from '@/commonComp/CommentCtn'\r\nimport { FEEDBACK_SITEID } from '@/common/constant'\r\n// import RecomdList from './RecomdList'\r\n\r\nclass Feedback extends Component {\r\n \r\n\trender() {\r\n    return (\r\n      <div className=\"feedback-wrapper main-content\">\r\n        <div className=\"title\">大家都在聊什么？</div>\r\n        <CommentCtn siteId={FEEDBACK_SITEID} />\r\n      </div>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\nexport default Feedback;\r\n","import React, { Component } from 'react';\r\nimport Content from '@/components/Content/Content'\r\n\r\n// import Dialog from '@/commonComp/Dialog'\r\n// import { connect } from 'react-redux'\r\n// import './SystemComp.scss';\r\n// import { Button } from 'antd'\r\nimport { getCollectList, collectSite } from '@/store/actions'\r\nimport { withRouter } from \"react-router\";\r\n\r\n\r\nclass MyCollections extends Component {\r\n\t\r\n\tstate = {\r\n\t\tpageIndex: 1,\r\n\t\tlist: [],\r\n\t\ttotal: 0,\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n    this.getListAndSet({pageIndex: 1, isTotal: 1})\r\n\t}\r\n\t\r\n\tcomponentDidUpdate (prevProps) {\r\n\t\t// const { isSystem } = this.props;\r\n\t\tconst { params: prevParams } = prevProps.match\r\n\t\tconst { params: curParams } = this.props.match\r\n\t\t// console.log(prevParams, curParams)\r\n\t\tif (prevParams.catalog !== curParams.catalog || prevParams.tagName !== curParams.tagName || prevParams.search !== curParams.search) {\r\n      \r\n      this.getListAndSet({pageIndex: 1, isTotal: 1})\r\n    }\r\n\t}\r\n\t\r\n\r\n\tgetListAndSet = (params) => {\r\n\t\tconst { pageIndex: sPageIndex } = this.state;\r\n\r\n\t\tconst { pageIndex=sPageIndex, isTotal } = params;\r\n\t\tconst { match: { params: { catalog } } } = this.props;\r\n\r\n\t\tthis.setState({\r\n\t\t\tpageIndex\r\n\t\t})\r\n\t\t\r\n\t\tgetCollectList({\r\n\t\t\tcatalog: parseInt(catalog) || -1,\r\n\t\t\t// search,\r\n\t\t\tpageIndex,\r\n\t\t\t// search,\r\n\t\t\tisTotal,\r\n\t\t}).then(res => {\r\n\t\t\tthis.setState({\r\n\t\t\t\t...res.result\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\t\r\n\tonChange = pageIndex => {\r\n\t\tthis.getListAndSet({pageIndex})\r\n\t}\r\n\tcollectClick = _id => {\r\n\t\tconst { list } = this.state;\r\n\t\treturn collectSite({_id}).then(res => {\r\n\r\n      this.setState({\r\n      \tlist: list.map(it => it._id === _id ? {...it, isCollected: !it.isCollected} : it)\r\n      })\r\n    })\r\n  }\r\n\trender () {\r\n\t\tconst { pageIndex, list, total } = this.state;\r\n\r\n\t  return (\r\n\t  \t<Content \r\n\t  \t\tlist={list} \r\n\t  \t\ttotal={total} \r\n\t  \t\tcurrent={pageIndex} \r\n\t  \t\tcollectClick={this.collectClick}\r\n\t  \t\tpageSize={5}\r\n\t\t  \tonChange={this.onChange} \r\n\t  \t/>\r\n\t  )\r\n\t}\r\n}\r\n\r\nexport default withRouter(MyCollections);\r\n","import React, { Component } from 'react';\r\nimport './index.scss'\r\n\r\nclass Standard extends Component {\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<div className=\"standard-wrapper main-content\">\r\n\t\t\t\t<div className=\"std-box std-desc\">\r\n\t\t\t\t\t<h3 className=\"title\">收录积分</h3>\r\n\t\t\t\t\t<p>1.是否有趣？ </p>\r\n\t\t\t\t\t<p>是：+3 否： 0</p>\r\n\t\t\t\t\t<p>2.有趣且是否小众？</p>\r\n\t\t\t\t\t<p>是：+2 否：1</p>\r\n\t\t\t\t\t<p>3.是否实用？</p>\r\n\t\t\t\t\t<p>是：+3 否： 0</p>\r\n\t\t\t\t\t<p>4.实用且是否大众？</p>\r\n\t\t\t\t\t<p>是：+2 否：1</p>\r\n\t\t\t\t\t<p className=\"highlight\">总分为5分即以上即达到收录标准。</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"std-box\">\r\n\t\t\t\t\t<h3 className=\"title\">什么叫做有趣呢？</h3>\r\n\t\t\t\t\t<p>进入该网页后，有种<span className=\"highlight\">眼前一亮或者天马行空</span>的感觉。可以是搞笑恶搞的、无聊但有想象力的、新奇另类的等等。</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"std-box\">\r\n\t\t\t\t\t<h3 className=\"title\">什么又是实用呢？</h3>\r\n\t\t\t\t\t<p>可以<span className=\"highlight\">简化我们的日常操作</span>，或者对于专业性的工具有着大众化的简化普及。</p>\r\n\t\t\t\t\t<p>又或者对于要安装软件才能使用的功能，在一个网页就能实现，这也是非常实用的。</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/*<p>就例如专业工具PhotoShop（又叫ps），简化后的工具美图秀秀，点两下就有美图效果，这就达到了实用标准。</p>*/}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Standard","import React, { Fragment, Component } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  // Link\r\n} from \"react-router-dom\";\r\nimport Portrait from '@/components/AccountSetting/Portrait'\r\n// import cookie from 'react-cookies'\r\nimport backgrond from '@/commonComp/Background'\r\nimport Header from '@/commonComp/Header'\r\nimport Footer from '@/commonComp/Footer'\r\nimport RightComp from '@/commonComp/RightComp'\r\nimport ComContent from '@/components/ComContent'\r\nimport SiteDetail from '@/components/SiteDetail'\r\nimport MessageMng from '@/components/MessageMng'\r\nimport CatalogMng from '@/components/CatalogMng'\r\nimport NoticeMng from '@/components/NoticeMng'\r\nimport Feedback from '@/components/Feedback'\r\nimport MyCollections from '@/components/MyCollections'\r\nimport Standard from '@/components/Standard'\r\n\r\nconst AccountNavRoute = [\r\n\t{\r\n\t\tpath: '/account/portrait',\r\n\t\tname: '头像修改',\r\n\t\texact: true,\r\n\t\tcontent: <Fragment><Portrait /><RightComp isAccount={true} /></Fragment>\r\n\t}\r\n]\r\n\r\n\r\nclass Routers extends Component {\r\n\r\n\t// 这么做的目的是，不使Header和Rightnav多次加载执行didmount\r\n\t/*getContainer (jsx) {\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<div className=\"container main-content-wrapper\">\r\n\t\t\t\t\t{jsx}\r\n\t\t\t\t</div>\r\n\t\t\t</Fragment>\r\n\t\t)\r\n\t}*/\r\n\r\n\trender () {\r\n\t  return (\r\n\t  \t<Router>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<div className=\"container main-content-wrapper\">\r\n\t\t    \t<Switch>\r\n\t\t    \t\t<Route exact path=\"/standard\">\r\n\t\t\t\t\t\t\t<Standard/>\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t    \t\t<Route exact path=\"/catalogmng\">\r\n\t\t\t\t\t\t\t<CatalogMng/>\r\n\t\t        </Route>\r\n\t\t    \t\t<Route exact path=\"/noticemng\">\r\n\t\t\t\t\t\t\t<NoticeMng/>\r\n\t\t        </Route>\r\n\t\t    \t\t{/*<Route exact path=\"/collect/:catalog/:search\">\r\n\t\t    \t\t\t<MyCollections />\r\n\t\t\t\t\t\t\t<RightComp isCollect />\r\n\t\t        </Route>*/}\r\n\t\t    \t\t<Route exact path=\"/collect/:catalog\">\r\n\t\t    \t\t\t<MyCollections />\r\n\t\t\t\t\t\t\t<RightComp isCollect />\r\n\t\t        </Route>\r\n\t\t    \t\t<Route exact path=\"/collect\">\r\n\t\t    \t\t\t<MyCollections />\r\n\t\t\t\t\t\t\t<RightComp isCollect />\r\n\t\t        </Route>\r\n\t\t    \t\t<Route exact path=\"/feedback\">\r\n\t\t\t\t\t\t\t<Feedback/>\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        {\r\n\t\t        \t/*AccountNavRoute.map((it, index) => \r\n\t\t\t\t\t\t\t\t<Route key={index} exact={it.exact} path={it.path}>\r\n\t\t\t\t\t\t\t\t\t{it.content}\r\n\t\t\t\t        </Route>\r\n\t\t        \t)*/\r\n\t\t        }\r\n\t\t        <Route exact path=\"/account/portrait\">\r\n\t\t\t\t\t\t\t<Portrait />\r\n\t\t\t\t\t\t\t<RightComp isAccount />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/tag/:tagName\">\r\n\t\t\t\t\t\t\t<ComContent />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/sitedetail/:siteId\">\r\n\t\t\t\t\t\t\t<SiteDetail />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t    \t\t<Route exact path=\"/replyme\">\r\n\t\t\t\t\t\t\t<MessageMng />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/system/:catalog/:search\">\r\n\t\t\t\t\t\t\t<ComContent isSystem />\r\n\t\t\t\t\t\t\t<RightComp isSystem />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/system/:catalog\">\r\n\t\t\t\t\t\t\t<ComContent isSystem />\r\n\t\t\t\t\t\t\t<RightComp isSystem />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/system\">\r\n\t\t\t\t\t\t\t<ComContent isSystem />\r\n\t\t\t\t\t\t\t<RightComp isSystem />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/:catalog/:search\">\r\n\t\t\t\t\t\t\t<ComContent />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/:catalog\">\r\n\t\t\t\t\t\t\t<ComContent />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        <Route exact path=\"/\">\r\n\t\t\t\t\t\t\t<ComContent />\r\n\t\t\t\t\t\t\t<RightComp />\r\n\t\t        </Route>\r\n\t\t        \r\n\t\t        \r\n\t\t        \r\n\t\t        <Route path=\"*\">\r\n\t\t          404\r\n\t\t        </Route>\r\n\t\t      </Switch>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer />\r\n\t    </Router>\r\n\t  );\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport default Routers;\r\nexport { AccountNavRoute }","import React, { Component } from 'react';\nimport {connect} from 'react-redux'\nimport '@/assets/css/default.scss'\nimport 'antd/dist/antd.css';\nimport 'cropperjs/dist/cropper.css';\nimport 'braft-editor/dist/index.css'\nimport './App.scss';\n\nimport { getIP, updateComData } from '@/store/actions'\nimport Routers from '@/common/Routers'\n\n\n\n\nclass App extends Component {\n\tstate = {\n\t\tisShow: false\n\t}\n\n\tcomponentDidMount () {\n\t\tgetIP().then(({result}) => {\n\t\t\tconst { is_async, check_reply_num } = result;\n\t\t\t// console.log(is_async)\n\t\t\tthis.props.updateComDate({is_async: !!is_async, check_reply_num})\n\t\t\tthis.setState({\n\t\t\t\tisShow: true\n\t\t\t})\n\t\t})\n\t}\n\n\trender () {\n\t\tconst { isShow } = this.state;\n\t  return (\n\t  \tisShow && <Routers />\n\t  );\n\t}\n}\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  \tupdateComDate (data) {\n      return dispatch(updateComData(data))\n    },\n  \n  };\n};\nexport default connect(null, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { UPDATE_LIST, UPDATE_CATALOG_LIST, UPDATE_DATA, UPDATE_TOP10_LIST, SET_CATALOG, UPDATE_CATALOG_LIST_SITE } from '../actions';\r\nconst initState = {\r\n  top10List: [],  // top10网站\r\n  siteList: [],\r\n  siteTotal: 0,\r\n  catalogList: [],\r\n  catalogListSite: [],\r\n  pageIndex: 1,\r\n  pageSize: 10,\r\n  search: '',\r\n  catalog: -1,\r\n  status: -1,  // 系统管理-如果后面有状态切换的话， 就会需要到\r\n  isSystem: false,\r\n};\r\n\r\nexport default (state = initState, {type, data}) => {\r\n  switch (type) {\r\n    case UPDATE_DATA:\r\n      return {\r\n        ...state,\r\n        ...data\r\n      }\r\n    case UPDATE_LIST:\r\n      if (data.total !== undefined) {\r\n        return {\r\n          ...state,\r\n          siteList: data.list || [],\r\n          siteTotal: data.total\r\n        }\r\n      } else {\r\n      \treturn {\r\n      \t\t...state,\r\n      \t\tsiteList: data.list || []\r\n      \t}\r\n      };\r\n    case UPDATE_CATALOG_LIST: \r\n      return {\r\n        ...state,\r\n        catalogList: data.list || []\r\n      }\r\n    case UPDATE_CATALOG_LIST_SITE: \r\n      return {\r\n        ...state,\r\n        catalogListSite: data.list || []\r\n      }\r\n    case UPDATE_TOP10_LIST: \r\n      return {\r\n        ...state,\r\n        top10List: data.list || []\r\n      }\r\n    case SET_CATALOG: \r\n      return {\r\n        ...state,\r\n        catalog: data\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n","import { SET_USER_NAME, UPDATE_COM_DATA, SET_REPLY_NUM } from '../actions';\r\nimport cookie from 'react-cookies'\r\nconst initState = {\r\n  // ip: '',\r\n  is_async: false,\r\n  user_name: cookie.load('user_name'),\r\n  check_reply_num: 0,\r\n};\r\n\r\nexport default (state = initState, {type, data}) => {\r\n  switch (type) {\r\n    case UPDATE_COM_DATA:\r\n      return {\r\n        ...state,\r\n        ...data\r\n      }\r\n    case SET_USER_NAME: \r\n      return {\r\n        ...state,\r\n        user_name: data\r\n      }\r\n    case SET_REPLY_NUM: \r\n      return {\r\n        ...state,\r\n        check_reply_num: data\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n","import { combineReducers, createStore, applyMiddleware } from 'redux';\r\n// import createHistory from 'history/createBrowserHistory';\r\nimport siteMng from './siteMng'\r\nimport com from './com'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport createSagaMiddleware from 'redux-saga';\r\n// import { ConnectedRouter, routerReducer, routerMiddleware } from 'react-router-redux';\r\n\r\n// const isDevelopment = process.env.NODE_ENV === 'development';\r\n// const composeEnhancers = (isDevelopment && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst middlewares = [sagaMiddleware, thunkMiddleware];\r\n\r\nconst store = createStore(\r\n\tcombineReducers({\r\n\t\tsiteMng,\r\n\t\tcom,\r\n\t}),\r\n\t(applyMiddleware(...middlewares))\r\n);\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { ConfigProvider } from 'antd';\nimport zhCN from 'antd/es/locale/zh_CN';\nimport { Provider } from 'react-redux';\nimport store from '@/store/reducer'\n\nReactDOM.render(\n\t<ConfigProvider locale={zhCN}>\n\t  <Provider store={store}>\n    \t<App />\n\t  </Provider>\n\n  </ConfigProvider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}